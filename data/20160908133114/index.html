<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"> <title>Linux add ethtool duplex settings to a network card permanently</title><link rel="canonical" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html"><link rel="alternate" type="application/rss+xml" title="nixCraft feed" href="http://www.cyberciti.biz/tips/feed"><link rel="pingback" href="http://www.cyberciti.biz/tips/xmlrpc.php"><link rel="dns-prefetch" href="http://s.w.org/"><link rel="alternate" type="application/rss+xml" title="nixCraft » Linux add ethtool duplex settings to a network card permanently Comments Feed" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html/feed">   <link rel="https://api.w.org/" href="http://www.cyberciti.biz/tips/wp-json/"><link rel="alternate" type="application/json+oembed" href="http://www.cyberciti.biz/tips/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ftips%2Fhowto-linux-add-ethtool-duplex-settings-permanent.html"><link rel="alternate" type="text/xml+oembed" href="http://www.cyberciti.biz/tips/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ftips%2Fhowto-linux-add-ethtool-duplex-settings-permanent.html&amp;format=xml"><link rel="amphtml" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html/amp"><link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head><body class="template-single">  <div class="container"> <span class="menu_control">≡ Menu</span><ul id="menu-menu-1" class="menu"><li id="menu-item-113451" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-113451"><a href="http://www.cyberciti.biz/">Home</a></li><li id="menu-item-113502" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-113502"><a href="http://www.cyberciti.biz/faq/">Howtos and Tutorials</a></li><li id="menu-item-113500" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-113500"><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting TutoriaL</a></li><li id="menu-item-113503" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-113503"><a href="http://www.cyberciti.biz/tips/about-us">About</a></li><li id="menu-item-113501" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-113501"><a href="http://www.cyberciti.biz/nixcraft-rss-feed-syndication/">RSS/Feed</a></li></ul><div id="header" class="header"><div id="site_title"><a href="http://www.cyberciti.biz/tips">nixCraft</a></div><div id="site_tagline">Linux Tips, Hacks, Tutorials, And Ideas In Blog Format</div></div><div class="columns"><div class="content"><div id="post-473" class="post_box grt top" itemscope="" itemtype="http://schema.org/Article"><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html"><div class="headline_area"><h1 class="headline" itemprop="headline">Linux add ethtool duplex settings to a network card permanently</h1><div class="byline small"> <span class="post_author_intro">by</span> <span class="post_author">Vivek Gite</span> <span class="post_date_intro">on</span> <span class="post_date" title="2006-09-28">September 28, 2006<span style="font-style: italic; text-transform: lowercase;"> last updated </span>July 16, 2007</span><div class="post_cats"> <span class="post_cats_intro">in</span> <a href="http://www.cyberciti.biz/tips/category/linux" rel="category tag">Linux</a>, <a href="http://www.cyberciti.biz/tips/category/networking" rel="category tag">Networking</a>, <a href="http://www.cyberciti.biz/tips/category/tips" rel="category tag">Tips</a>, <a href="http://www.cyberciti.biz/tips/category/ubuntu-linux" rel="category tag">Ubuntu Linux</a></div></div></div><div class="post_content"><p>I have already written about <a href="http://www.cyberciti.biz/faq/howto-setup-linux-lan-card-find-out-full-duplex-half-speed-or-mode/">how to find</a> and <a href="http://www.cyberciti.biz/faq/linux-change-the-speed-and-duplex-settings-of-an-ethernet-card/">change your network interface speed</a> (NIC), duplex or auto negotiate settings on Linux using ehttool command line options.</p><p></p><center>  <ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2404767461"></ins> <p></p></center><p></p><p>However, these settings are not permanent. If you reboot the system or if you just<br> need to upgrade/downgrade your port speed, <a href="http://www.cyberciti.biz/faq/linux-change-the-speed-and-duplex-settings-of-an-ethernet-card/">run the ehtool command</a> once your port change by network administrator. (If you want to read about how to <a href="http://theos.in/how-do-i-upgrade-windows-2000-or-2003-server-port-speed.html">make Windows 2000/2003</a> server port speed change, read my previous article.)</p><h3>Changing your Network Interface Speed, Duplex or Auto Negotiate settings on Red Hat Linux</h3><p>To set the interface speed, duplex or auto negotiation on Linux system boot up (make settings permanent), you need edit <span style="color: rgb(255, 0, 0);">/etc/sysconfig/network-scripts/ifcfg-eth0</span> file for eth0 interface. This file used by Red Hat enterprise Linux, Fedora core, Cent Os etc.</p><p>Open the file:<br> <code># vi /etc/sysconfig/network-scripts/ifcfg-eth0</code></p><p>Append following line:<br> <code>ETHTOOL_OPTS="speed 100 duplex full autoneg off"</code></p><p>Save and close the system. It will set the eth0 device to 100Mbs, full duplex, with the auto negotiation off at boot time. You can simply restart the networking (it will disconnect all ssh or ftp session) or restart the server. Depend upon traffic and load it may <em>take upto 1 minute</em> to setup a new port speed:<br> <code># /etc/init.d/network restart</code></p><p>If you want 1000Mbs set line as follows:<br> <code>ETHTOOL_OPTS="speed 1000 duplex full autoneg off"</code><strong><em>Update</em></strong>: if above command failed to work for 1000Mbps use following command (see below in comment sections for discussion) :<code>ETHTOOL_OPTS="speed 1000 duplex full autoneg on"</code></p><h3>Debian or Ubuntu Linux permanent settings</h3><p>Under Debian or Ubuntu Linux just create a script as follows:<br> <code># vi /etc/init.d/100Mbs</code><br> OR<br> <code>$ sudo vi /etc/init.d/100Mbs</code><br> Append following lines:<br> <code>#!/bin/sh<br> ETHTOOL="/usr/sbin/ethtool"<br> DEV="eth0"<br> SPEED="100 duplex full"<br> case "$1" in<br> start)<br> echo -n "Setting eth0 speed 100 duplex full...";<br> $ETHTOOL -s $DEV speed $SPEED;<br> echo " done.";;<br> stop)<br> ;;<br> esac<br> exit 0</code>Save and close the file. Setup executable permission:<br> <code># chmod +x /etc/init.d/100Mbs</code>OR<code>$ sudo chmod +x /etc/init.d/100Mbs</code></p><p>Now run script when Debian or Ubuntu Linux boots up. Use update-rc.d command install System-V style init script links:<code># update-rc.d 100Mbs defaults</code>OR<code># sudo update-rc.d 100Mbs defaults</code>Output:</p><pre> Adding system startup for /etc/init.d/100Mbs ...
   /etc/rc0.d/K20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc1.d/K20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc6.d/K20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc2.d/S20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc3.d/S20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc4.d/S20100Mbs -&gt; ../init.d/100Mbs
   /etc/rc5.d/S20100Mbs -&gt; ../init.d/100Mbs</pre><p>Reboot the system to take effect or just type scrit name:<br> <code># /etc/init.d/100Mbs start</code>OR<code>$ sudo /etc/init.d/100Mbs start</code></p><h3>See also:</h3><ul><li><a href="http://theos.in/how-do-i-upgrade-windows-2000-or-2003-server-port-speed.html">How do I upgrade Windows 2000 or 2003 server port speed?</a></li></ul> <strong>Share this on:</strong><br><div class="nixcraft-social"><a class="nixcraft-link nixcraft-twitter" href="https://twitter.com/intent/tweet?text=Linux+add+ethtool+duplex+settings+to+a+network+card+permanently&amp;url=http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html&amp;via=nixcraft" title="Tweet this tutorial/page">Twitter</a><a class="nixcraft-link nixcraft-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html" title="Share this page/tutorial on Fa
cebook">Facebook</a><a class="nixcraft-link nixcraft-googleplus" href="https://plus.google.com/share?url=http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html" title="Share this page/tutorial on Google+">Google+</a><a a=""></a><a class="nixcraft-link nixcraft-pdf" href="http://www.cyberciti.biz/view/pdf/tips/473.php" title="Download this blog post as a free pdf">Download PDF version </a><a class="nixcraft-link nixcraft-error" href="https://nixcraft.wufoo.com/forms/give-us-feedback-for-nixcraft/def/Field209=http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html&amp;Field211=Linux%20add%20ethtool%20duplex%20settings%20to%20a%20network%20card%20permanently" target="_blank" title="Click here to report Typo/Grammar and other Incorrect information">Found an error/typo on this page?</a></div><div class="crp_related "><div class="my_tutorial_series">About the author: Vivek Gite is a seasoned sysadmin and a trainer for the Linux/Unix &amp; shell scripting. Follow him on <strong><a href="https://twitter.com/nixcraft" style="text-decoration: underline;">Twitter</a></strong>. OR <strong>read more like this</strong>:<ul><li><a href="http://www.cyberciti.biz/tips/linux-network-card-restart-autonegotiation.html" class="crp_title">Linux Force or restart network card auto-negotiation with ethtool</a></li><li><a href="http://www.cyberciti.biz/tips/linux-ethernet-card-power-saving.html" class="crp_title">Linux tip: Save Power With Gigabit Ethernet By Using Lower Speed</a></li><li><a href="http://www.cyberciti.biz/tips/linux-send-wake-on-lan-wol-magic-packets.html" class="crp_title">HowTo: Wake Up Computers Using Linux Command [ Wake-on-LAN  ( WOL ) ]</a></li><li><a href="http://www.cyberciti.biz/tips/ubuntu-linux-creating-ethernet-alias-for-eth0-network-device.html" class="crp_title">Ubuntu Linux: Creating ethernet alias for eth0 network device</a></li><li><a href="http://www.cyberciti.biz/tips/linux-how-to-run-a-command-when-boots-up.html" class="crp_title">Linux : How to run a command when boots up?</a></li><li><a href="http://www.cyberciti.biz/tips/how-do-i-run-firewall-script-as-soon-as-eth0-interface-brings-up.html" class="crp_title">How Do I Run a Firewall Script As Soon As eth0 Interface Brings Up?</a></li><li><a href="http://www.cyberciti.biz/tips/linux-write-sys-v-init-script-to-start-stop-service.html" class="crp_title">Linux: How to write a System V init script to start, stop, and restart my…</a></li><li><a href="http://www.cyberciti.biz/tips/howto-ubuntu-linux-convert-dhcp-network-configuration-to-static-ip-configuration.html" class="crp_title">Howto: Ubuntu Linux convert DHCP network configuration to static IP…</a></li><li><a href="http://www.cyberciti.biz/tips/how-to-controlling-access-to-linux-services.html" class="crp_title">Ubuntu / Debian Linux: Services Configuration Tool to Start / Stop System…</a></li><li><a href="http://www.cyberciti.biz/tips/most-emailed-linux-faq-in-2007.html" class="crp_title">Most Emailed Linux FAQ in 2007</a></li></ul></div><div class="crp_clear"></div></div></div></div><div id="comments"><div class="comments_intro"><span class="bracket">{</span> <span class="num_comments">40</span> comments… <a href="#commentform" rel="nofollow">add one</a> <span class="bracket">}</span></div><ul class="comment_list"><li class="comment even thread-even depth-1" id="comment-11702"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Roshan Shariff</span> <span class="comment_date">September 28, 2006, 8:38 pm</span></div><div class="comment_text grt" id="comment-body-11702"><p>In Debian or Ubuntu, it’s much easier to add a <em>pre-up</em> line to <em>/etc/network/interfaces</em>. Something like this:</p><p><code>iface eth0 inet static<br> pre-up /usr/sbin/ethtool -s $IFACE 10 duplex half<br> address ...</code></p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=11702#commentform" aria-label="Reply to Roshan Shariff">Reply</a> <a class="comment_permalink" href="#comment-11702" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-186220"><div class="comment_head"> <span class="avatar"><a href="http://my.galagzee.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://my.galagzee.com/" rel="external nofollow" class="url">Ville Walveranta</a></span> <span class="comment_date">March 6, 2013, 10:54 pm</span></div><div class="comment_text grt" id="comment-body-186220"><p>“Speed” keyword seems to be needed (could be a more recent requirement since this thread is many years old), like so:</p><pre>pre-up /usr/sbin/ethtool -s $IFACE speed 10 duplex half
</pre></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=186220#commentform" aria-label="Reply to Ville Walveranta">Reply</a> <a class="comment_permalink" href="#comment-186220" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul></li><li class="comment byuser comment-author-administrator bypostauthor even thread-odd thread-alt depth-1" id="comment-11704"><div class="comment_head"> <span class="avatar"><a href="http://www.cyberciti.biz/tips/about-us" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.cyberciti.biz/tips/about-us" rel="external nofollow" class="url">nixCraft</a></span> <span class="comment_date">September 28, 2006, 9:36 pm</span></div><div class="comment_text grt" id="comment-body-11704"><p>Roshan</p><p>Good tip; my bad I should have thought about it.</p><p>Appreciate your post.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=11704#commentform" aria-label="Reply to nixCraft">Reply</a> <a class="comment_permalink" href="#comment-11704" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-11777"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Jon Scobie</span> <span class="comment_date">September 29, 2006, 1:31 pm</span></div><div class="comment_text grt" id="comment-body-11777"><p>A few weeks ago, I did the same thing in SuSE as the switch in work reports the wrong settings.<br> Just add a script in /etc/sysconfig/network/scripts called ethtool-settings (for example) and link to it in /etc/sysconfig/network/if-up.d<br> The contents could be something like  :-</p><p>/usr/sbin/ethtool -s eth0 speed 100 duplex full autoneg off</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=11777#commentform" aria-label="Reply to Jon Scobie">Reply</a> <a class="comment_permalink" href="#comment-11777" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-11795"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Thomas Edman</span> <span class="comment_date">September 29, 2006, 7:26 pm</span></div><div class="comment_text grt" id="comment-body-11795"><p>Your example for 1000 speed will not work.<br> ETHTOOL_OPTS=”speed 1000 duplex full autoneg off”</p><p>speed 1000 REQUIRES autonegotiate.</p><p>Read up on your ethernet networking fundamentals here:<br> <a href="http://www.cisco.com/univercd/cc/td/doc/cisintwk/ito_doc/ethernet.htm#wp1020985" rel="nofollow">http://www.cisco.com/univercd/cc/td/doc/cisintwk/ito_doc/ethernet.htm#wp1020985</a></p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=11795#commentform" aria-label="Reply to Thomas Edman">Reply</a> <a class="comment_permalink" href="#comment-11795" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment byuser comment-author-administrator bypostauthor odd alt thread-even depth-1" id="comment-11824"><div class="comment_head"> <span class="avatar"><a href="http://www.cyberciti.biz/tips/about-us" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.cyberciti.biz/tips/about-us" rel="external nofollow" class="url">nixCraft</a></span> <span class="comment_date">September 30, 2006, 4:50 am</span></div><div class="comment_text grt" id="comment-body-11824"><p>Noop, command is right. I have tested these commands lots of times. I have Intel NIC (e1000 driver) and it works w/o problem.</p><p><b>ethtool -s ethx autoneg off speed 1000 duplex full</b></p><p>Changing speed or duplex settings almost may require disabling auto negotiation with \’autoneg off\’. However you may need to turn on autoneg for 1000Mbps; it did work for my Intel card. But failed to work for other make NIC. So try both options.</p><p>Appreciate your post.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=11824#commentform" aria-label="Reply to nixCraft">Reply</a> <a class="comment_permalink" href="#comment-11824" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-140295"><div class="comment_head"> <span class="avatar"><a href="http://www.skylarkinfo.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.skylarkinfo.com/" rel="external nofollow" class="url">anand</a></span> <span class="comment_date">June 26, 2007, 12:20 pm</span></div><div class="comment_text grt" id="comment-body-140295"><p>Very thank , i used this.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=140295#commentform" aria-label="Reply to anand">Reply</a> <a class="comment_permalink" href="#comment-140295" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-140450"><div class="comment_head"> <span class="avatar"><a href="http://www.legalinux.it/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.legalinux.it/" rel="external nofollow" class="url">Stefano</a></span> <span class="comment_date">July 12, 2007, 8:25 am</span></div><div class="comment_text grt" id="comment-body-140450"><p>Hi,<br> i added a ethtool option (ETHTOOL_OPTS=”wol g”) in the file /etc/sysconfig/network-scripts/ifcfg-eth0 to have wol automatic enabled, but if i have eth0 configured with dhcp options i can’t get the “wol g” option active. On the contrary if i configure the eth0 nic with static ip address the ethtool option is well set.<br> I have a sme-server (CentOS based) and i’m going to be crazy to have wol g enabled with dhcp on… how can i get it to work?<br> Thanks,<br> Stefano – Italy</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=140450#commentform" aria-label="Reply to Stefano">Reply</a> <a class="comment_permalink" href="#comment-140450" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-140534"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Ryan</span> <span class="comment_date">July 19, 2007, 5:30 pm</span></div><div class="comment_text grt" id="comment-body-140534"><p>I don’t have <strong>ethtool</strong> on my version of RedHat so the <strong>ETHTOOL_OPTS</strong> won’t automate the settings for me. How do I automate the <strong>mii-tool</strong> options in the etc/sysconfig/network-scripts/ifcfg-eth0 file?</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=140534#commentform" aria-label="Reply to Ryan">Reply</a> <a class="comment_permalink" href="#comment-140534" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment byuser comment-author-administrator bypostauthor odd alt thread-even depth-1" id="comment-140535"><div class="comment_head"> <span class="avatar"><a href="http://www.cyberciti.biz/tips/about-us" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.cyberciti.biz/tips/about-us" rel="external nofollow" class="url">nixCraft</a></span> <span class="comment_date">July 19, 2007, 5:48 pm</span></div><div class="comment_text grt" id="comment-body-140535"><p>mii-tool is obsolete and it will be removed from future version or updates. You can easily install ethtool by running any one of the following command:</p><pre>yum install ethtool</pre><p>or (for rhel  4.x or older )</p><pre>up2date -i ethtool</pre><p><b>To automate mii-tool …</b><br> Add mii-tool command to /etc/rc.local with speed, which will run mii-tool on fly after Linux boots up. For eg following will set eth0 to 100Mbps FD</p><pre>mii-tool -F 100baseTx-FD</pre><p>HTH</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=140535#commentform" aria-label="Reply to nixCraft">Reply</a> <a class="comment_permalink" href="#comment-140535" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-140536"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Ryan</span> <span class="comment_date">July 19, 2007, 6:07 pm</span></div><div class="comment_text grt" id="comment-body-140536"><p>Thanx so much Vivek I already added the command to rc.local I was just wondering if there was another method.  I’ll definitely upgrade to ethtool.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=140536#commentform" aria-label="Reply to Ryan">Reply</a> <a class="comment_permalink" href="#comment-140536" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-141883"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Hema</span> <span class="comment_date">November 18, 2007, 10:42 am</span></div><div class="comment_text grt" id="comment-body-141883"><p>simply superb</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=141883#commentform" aria-label="Reply to Hema">Reply</a> <a class="comment_permalink" href="#comment-141883" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-143886"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Joe</span> <span class="comment_date">May 26, 2008, 6:07 am</span></div><div class="comment_text grt" id="comment-body-143886"><p>If you’re unable to permanently set the wol option:<br> Stefano, I have a similar issue with the ethtool in Debian/Ubuntu 7.10:<br> I noticed that the ethtool setting for WOL kept getting turned off each time I rebooted.  Then I realized this happened each time I turned turned the adapter on or off (ifdown eth0 | ifup eth0)… wol was getting disabled.</p><p>Workaround:  Add this line to “/etc/network/interfaces”:<br> post-up /usr/sbin/ethtool -s eth0 wol g</p><p>John Scobie’s resolution should also work…<br> But using Roshan Shariff’s code (but with the wol option instead of speed) didn’t work if I used the variable $IFACE… I had to specify eth0 instead.</p><p>Hope this helps anyone who is unable to permanently the WOL option in ethtool; I’ve spent the last 3 hours doing google searches and trying to troubleshoot before finding this.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=143886#commentform" aria-label="Reply to Joe">Reply</a> <a class="comment_permalink" href="#comment-143886" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-144253"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Harka</span> <span class="comment_date">July 3, 2008, 9:06 am</span></div><div class="comment_text grt" id="comment-body-144253"><p>Debian:<br> /etc/network/interfaces</p><p>up ethtool -s eth0 speed 100 duplex full autoneg off</p><p>Worked for me. Our servers with out-of-the-box OS settings always went half-duplex during auto-negotiation with the router. So this line fixes that.<br> Ditto for ETHTOOL_OPTS line from article for Redhat.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=144253#commentform" aria-label="Reply to Harka">Reply</a> <a class="comment_permalink" href="#comment-144253" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-144634"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Vasudeva</span> <span class="comment_date">August 12, 2008, 2:09 pm</span></div><div class="comment_text grt" id="comment-body-144634"><p>My questions is: my /etc/sysconfig/network-scripts/ifcfg-eth0 is not having details of the NIC speed but when i issue command ethtool eth0 i am getting NIC speed. Where could be this information picking from? Is there any place which ethtool command picks this information?</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=144634#commentform" aria-label="Reply to Vasudeva">Reply</a> <a class="comment_permalink" href="#comment-144634" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-145594"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">trimethy</span> <span class="comment_date">November 16, 2008, 12:49 pm</span></div><div class="comment_text grt" id="comment-body-145594"><p>A variant on the script that handles multiple interfaces and reads the interdfaces from a configuration file.</p><p>Enjoy.<br> Cheers</p><p>Interface entry in /etc/default/100Mbs:<br> INTERFACES=”eth0 eth1 eth3″</p><p>/etc/init.d/100Mbs startup script:#!/bin/sh<br> # Startup script for changing netowork interface parameters<br> #</p><p>ETHTOOL=”/usr/sbin/ethtool”<br> OPTIONS=”speed 100 duplex full autoneg off”</p><p># Check for a configuration file in /etc/default<br> if [ ! -f /etc/default/100Mbs ]; then<br> echo “/etc/default/100Mbs does not exist! – Aborting…”<br> exit 1<br> fi</p><p>. /etc/default/100Mbs</p><p>case “$1” in<br> start)<br> if test “$INTERFACES” != “”; then<br> for I in $INTERFACES; do<br> echo -n “Setting  ${I} $OPTIONS …”;<br> $ETHTOOL -s ${I} $OPTIONS;<br> echo ” done.”<br> done<br> fi<br> ;;<br> stop)<br> ;;<br> esac<br> exit 0</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=145594#commentform" aria-label="Reply to trimethy">Reply</a> <a class="comment_permalink" href="#comment-145594" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-146271"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">wuchale</span> <span class="comment_date">December 16, 2008, 2:55 pm</span></div><div class="comment_text grt" id="comment-body-146271"><p>Thx  for the arcticle. Helped me out.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=146271#commentform" aria-label="Reply to wuchale">Reply</a> <a class="comment_permalink" href="#comment-146271" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-148669"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Hector</span> <span class="comment_date">May 22, 2009, 3:56 pm</span></div><div class="comment_text grt" id="comment-body-148669"><p>Hi!! I have some question about this script, I’m enter in this script but some expression I don’t understand.<br> Well gooo.<br> #!/bin/sh<br> ETHTOOL=”/usr/sbin/ethtool”<br> DEV=”eth0″  // well here in the end the expression no coming “;” well in each expression.<br> SPEED=”100 duplex full”<br> case “$1” in<br> start)  //well here not is start()<br> echo -n “Setting eth0 speed 100 duplex full…”;<br> $ETHTOOL -s $DEV speed $SPEED;<br> echo ” done.”;;<br> stop) // here too stop ()<br> ;;<br> esac<br> exit 0</p><p>well this script I’ll work but no change the base 100TX to 10T when restart my Debian, Now I’m use the tools like ethtool for change in the moment, well send me  the solution and thank for the post is good information.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=148669#commentform" aria-label="Reply to Hector">Reply</a> <a class="comment_permalink" href="#comment-148669" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-148995"><div class="comment_head"> <span class="avatar"><a href="http://freebsdhowto.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://freebsdhowto.com/" rel="external nofollow" class="url">Ciprian Pantea</a></span> <span class="comment_date">June 17, 2009, 9:31 pm</span></div><div class="comment_text grt" id="comment-body-148995"><p>Hmmm… I have 2.6.25 and and I just managed to cut myself access from the server by issuing<br> ethtool -s eth0 autoneg off speed 1000 duplex full<br> even when I got this:<br> ethtool eth0<br> Settings for eth0:<br> Supported ports: [ TP ]<br> Supported link modes:   10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Full<br> Supports auto-negotiation: Yes<br> Advertised link modes:  10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Full<br> Advertised auto-negotiation: Yes<br> Speed: 100Mb/s<br> Duplex: Full<br> Port: Twisted Pair<br> PHYAD: 0<br> Transceiver: internal<br> Auto-negotiation: on<br> Supports Wake-on: umbg<br> Wake-on: g<br> Current message level: 0x00000007 (7)<br> Link detected: yes</p><p>I have a new gbit switch there but I can’t get the desired speed… any bright ideas?</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=148995#commentform" aria-label="Reply to Ciprian Pantea">Reply</a> <a class="comment_permalink" href="#comment-148995" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-149523"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">digus</span> <span class="comment_date">July 16, 2009, 5:30 pm</span></div><div class="comment_text grt" id="comment-body-149523"><p><b><br> In Ubuntu/Debian for 100-Full, this works for a static IP in /etc/network/interfaces:<br> —————————-<br> </b></p><p># This file describes the network interfaces available on your system<br> # and how to activate them. For more information, see interfaces(5).</p><p># The loopback network interface<br> auto lo eth0<br> iface lo inet loopback</p><p># The primary network interface<br> iface eth0 inet static<br> pre-up  /usr/sbin/ethtool -s eth0 speed 100 duplex full autoneg off<br> address 192.168.1.101<br> netmask 255.255.255.0<br> broadcast 192.168.1.255<br> network 192.168.1.0<br> gateway 192.168.1.1<br> <b><br> ——————–<br> this should work for DHCP/Auto setup:<br> ——————–<br> </b><br> # This file describes the network interfaces available on your system<br> # and how to activate them. For more information, see interfaces(5).</p><p># The loopback network interface<br> auto lo eth0<br> iface lo inet loopback</p><p># The primary network interface<br> iface eth0 inet dhcp<br> pre-up  /usr/sbin/ethtool -s eth0 speed 100 duplex full autoneg off</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=149523#commentform" aria-label="Reply to digus">Reply</a> <a class="comment_permalink" href="#comment-149523" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-150467"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Prachi</span> <span class="comment_date">September 2, 2009, 7:48 am</span></div><div class="comment_text grt" id="comment-body-150467"><p>Hi,</p><p>I have 2 ethernets (eth0 and eth1) with bouding done as bond0.</p><p># ethtool eth0<br> Settings for eth0:<br> Supported ports: [ TP ]<br> Supported link modes:   10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Half 1000baseT/Full<br> Supports auto-negotiation: Yes<br> Advertised link modes:  10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Half 1000baseT/Full<br> Advertised auto-negotiation: Yes<br> Speed: 1000Mb/s<br> Duplex: Full<br> Port: Twisted Pair<br> PHYAD: 1<br> Transceiver: internal<br> Auto-negotiation: on<br> Supports Wake-on: g<br> Wake-on: g<br> Current message level: 0x000000ff (255)<br> Link detected: yes</p><p># ethtool eth1<br> Settings for eth1:<br> Supported ports: [ TP ]<br> Supported link modes:   10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Half 1000baseT/Full<br> Supports auto-negotiation: Yes<br> Advertised link modes:  10baseT/Half 10baseT/Full<br> 100baseT/Half 100baseT/Full<br> 1000baseT/Half 1000baseT/Full<br> Advertised auto-negotiation: Yes<br> Speed: 1000Mb/s<br> Duplex: Full<br> Port: Twisted Pair<br> PHYAD: 1<br> Transceiver: internal<br> Auto-negotiation: on<br> Supports Wake-on: g<br> Wake-on: g<br> Current message level: 0x000000ff (255)<br> Link detected: yes</p><p>[root@amuswatnas01 ~]# ethtool bond0<br> Settings for bond0:<br> No data available</p><p>I want to hard-code the speed to 1000 MBps Full duplex, how can I do that on bouded network,<br> Do I need to simply edit ifcfg-eth0 and ifcfg-eth1 file with following entries.<br> # vi /etc/sysconfig/network-scripts/ifcfg-eth0<br> Append following line:<br> ETHTOOL_OPTS=”speed 100 duplex full autoneg on”</p><p>Let me know if any other changes are required.</p><p>ethtool shows its 1000 Mbps FD, Do I still need to hard-code, From which file, it shows such configiration?</p><p>Thanks,<br> Prachi</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=150467#commentform" aria-label="Reply to Prachi">Reply</a> <a class="comment_permalink" href="#comment-150467" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-150898"><div class="comment_head"> <span class="avatar"><a href="http://none/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://none/" rel="external nofollow" class="url">Jordan</a></span> <span class="comment_date">October 1, 2009, 10:26 pm</span></div><div class="comment_text grt" id="comment-body-150898"><p>What do I need to add to the Debian script to turn autonegot off?</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=150898#commentform" aria-label="Reply to Jordan">Reply</a> <a class="comment_permalink" href="#comment-150898" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-156063"><div class="comment_head"> <span class="avatar"><a href="http://vivaotux.blogspot.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://vivaotux.blogspot.com/" rel="external nofollow" class="url">Sergio Luiz Araujo Silva</a></span> <span class="comment_date">May 17, 2010, 6:07 pm</span></div><div class="comment_text grt" id="comment-body-156063"><p>if device is eth1 generate error, to solve:</p><p>DEV=`netstat -i | awk ‘/eth/ {print $1}’`</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=156063#commentform" aria-label="Reply to Sergio Luiz Araujo Silva">Reply</a> <a class="comment_permalink" href="#comment-156063" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-156350"><div class="comment_head"> <span class="avatar"><a href="http://bigualinux.wordpress.com.br/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://bigualinux.wordpress.com.br/" rel="external nofollow" class="url">Rafael Guedes</a></span> <span class="comment_date">June 4, 2010, 3:06 am</span></div><div class="comment_text grt" id="comment-body-156350"><p>Hi, nice post! For Debian, I think that you just need append the follow line at /etc/network/interfaces file:</p><p>post-up ethtool -s eth0 speed 10 duplex half</p><p>I tested it , and for me it works very well. Regards from Brazil.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=156350#commentform" aria-label="Reply to Rafael Guedes">Reply</a> <a class="comment_permalink" href="#comment-156350" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-158378"><div class="comment_head"> <span class="avatar"><a href="http://www.vivaolinux.com.br/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.vivaolinux.com.br/" rel="external nofollow" class="url">Tiago MDRizzo</a></span> <span class="comment_date">July 27, 2010, 1:35 pm</span></div><div class="comment_text grt" id="comment-body-158378"><p>For Debian, like Rafael Guedes said, isn’t it easier to append in /etc/network/interfaces?</p><p>Not just it, but you can add routes and delete them too using post-up and post-down option in Debian… I never tested in Ubuntu though…</p><p>By the way, Cyberciti is my favorite site :D</p><p>Regards from Brazil!!</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=158378#commentform" aria-label="Reply to Tiago MDRizzo">Reply</a> <a class="comment_permalink" href="#comment-158378" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-165046"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">arunmanoj</span> <span class="comment_date">December 22, 2010, 5:57 am</span></div><div class="comment_text grt" id="comment-body-165046"><p>could pls tel ,how to set the speed to 10mbps full duplex, i tried ur above script &amp; steps (with 10 instead of 100),but its not working..</p><p>OS : Ubuntu 10.4 LTS</p><p>Thanx in advance</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=165046#commentform" aria-label="Reply to arunmanoj">Reply</a> <a class="comment_permalink" href="#comment-165046" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-168371"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">FishMaster3000</span> <span class="comment_date">January 19, 2011, 11:12 pm</span></div><div class="comment_text grt" id="comment-body-168371"><p>Thanks for the tip.  I applied it to my hardware and I am happy that the speed it blazing in my VM.  I will keep watch on whether the ethernet card drops the connection as it has been doing in the past.  If it remands up, I am extremely happy.</p><p>(AMD Phenom II X4 940, 8G memory, 2 gig ethernet, 3 Tb of harddrive, nvidia cards)</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=168371#commentform" aria-label="Reply to FishMaster3000">Reply</a> <a class="comment_permalink" href="#comment-168371" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-169472"><div class="comment_head"> <span class="avatar"><a href="http://www.gogule.eu/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.gogule.eu/" rel="external nofollow" class="url">Gogule</a></span> <span class="comment_date">March 3, 2011, 10:29 pm</span></div><div class="comment_text grt" id="comment-body-169472"><p>on centos 5.4 final this command work<br> mii-tool -F 100baseTx-FD</p><p>thk for help</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=169472#commentform" aria-label="Reply to Gogule">Reply</a> <a class="comment_permalink" href="#comment-169472" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-169836"><div class="comment_head"> <span class="avatar"><a href="http://www.dotpointer.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.dotpointer.com/" rel="external nofollow" class="url">dotpointer</a></span> <span class="comment_date">March 14, 2011, 6:43 pm</span></div><div class="comment_text grt" id="comment-body-169836"><p>Ubuntu 10.10, a Marvell Gigabit Ethernet and gigabit 1000mbit speed:</p><p>— Manual change while working on it:<br> ethtool -s eth0 speed 1000 duplex full autoneg off</p><p>— Hopefully permanent – /etc/network/interfaces:<br> auto lo<br> iface lo inet loopback<br> iface eth0 inet dhcp<br> pre-up /sbin/ethtool -s $IFACE speed 1000 duplex full autoneg off</p><p>— Testing the file (NOTICE: ifconfig eth0 down/up does NOT test the file):<br> ifdown eth0<br> ifup eth0</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=169836#commentform" aria-label="Reply to dotpointer">Reply</a> <a class="comment_permalink" href="#comment-169836" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-169837"><div class="comment_head"> <span class="avatar"><a href="http://www.dotpointer.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.dotpointer.com/" rel="external nofollow" class="url">dotpointer</a></span> <span class="comment_date">March 14, 2011, 6:49 pm</span></div><div class="comment_text grt" id="comment-body-169837"><p>(All above is run as administrator -do ‘sudo passwd root’ to set your password, then ‘su’)</p><p>Another notice, if you already have done the above tip with /etc/init.d/, here is how to remove that:</p><p>rm /etc/init.d/100mbit<br> update-rc.d 100mbit remove (notice the actual file removal must be done before)</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=169837#commentform" aria-label="Reply to dotpointer">Reply</a> <a class="comment_permalink" href="#comment-169837" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul></li><li class="comment even thread-even depth-1" id="comment-170200"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Dhileesh</span> <span class="comment_date">March 21, 2011, 1:31 pm</span></div><div class="comment_text grt" id="comment-body-170200"><p>Good option</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=170200#commentform" aria-label="Reply to Dhileesh">Reply</a> <a class="comment_permalink" href="#comment-170200" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-177057"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Seb176</span> <span class="comment_date">December 15, 2011, 11:21 am</span></div><div class="comment_text grt" id="comment-body-177057"><p>Thank you!!<br> Very usefull for my old laptop!</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=177057#commentform" aria-label="Reply to Seb176">Reply</a> <a class="comment_permalink" href="#comment-177057" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-even depth-1" id="comment-178327"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Peter</span> <span class="comment_date">January 10, 2012, 2:34 pm</span></div><div class="comment_text grt" id="comment-body-178327"><p>Added ETHTOOL_OPTS=”speed 1000 duplex full autoneg off” to ifcfg-eth1 to force gigabit. After a restart I get these messages. What’s wrong with eth1 (Realtek RTL-8169), working fine on 100 Mbs though…?</p><p># etc/init.d/network restart<br> Shutting down interface eth1:                              [  OK  ]<br> Shutting down loopback interface:                          [  OK  ]<br> Bringing up loopback interface:                            [  OK  ]<br> Bringing up interface eth0:<br> Determining IP information for eth0… failed; no link present.  Check cable?<br> [FAILED]<br> Bringing up interface eth1:  Cannot get current device settings: Operation not supported<br> not setting speed<br> not setting duplex<br> not setting autoneg</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=178327#commentform" aria-label="Reply to Peter">Reply</a> <a class="comment_permalink" href="#comment-178327" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-180154"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">andrej</span> <span class="comment_date">May 7, 2012, 4:25 pm</span></div><div class="comment_text grt" id="comment-body-180154"><p>@Peter try autoneg on since setting speed to 1000 needs autoneg on</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=180154#commentform" aria-label="Reply to andrej">Reply</a> <a class="comment_permalink" href="#comment-180154" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment even depth-3" id="comment-180176"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Peter</span> <span class="comment_date">May 8, 2012, 5:59 am</span></div><div class="comment_text grt" id="comment-body-180176"><p>Hi andrej,</p><p>Thank you for your help! I have to try ‘autoneg on’ later. I had to remove the Realtek card because of rebooting problems. So, sadly my secondary 3Com 100Mbps card became primary again… As soon as I know the result of your suggestion, I’ll let you know. Regards, Peter.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=180176#commentform" aria-label="Reply to Peter">Reply</a> <a class="comment_permalink" href="#comment-180176" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt depth-3" id="comment-307619"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">amir</span> <span class="comment_date">August 25, 2014, 4:39 pm</span></div><div class="comment_text grt" id="comment-body-307619"><p>doesn’t work either:</p><p># ethtool -s eth1 autoneg on speed 1000 duplex full<br> Cannot set new settings: Operation not supported<br> not setting speed<br> not setting duplex<br> not setting autoneg</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=307619#commentform" aria-label="Reply to amir">Reply</a> <a class="comment_permalink" href="#comment-307619" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul></li></ul></li><li class="comment even thread-odd thread-alt depth-1" id="comment-181549"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">DamiÃ¡n Viano</span> <span class="comment_date">September 18, 2012, 2:19 pm</span></div><div class="comment_text grt" id="comment-body-181549"><p>For lastests Debian or debian based distributions I strongly recommend reading /usr/share/doc/ethtool/README.Debian</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=181549#commentform" aria-label="Reply to DamiÃ¡n Viano">Reply</a> <a class="comment_permalink" href="#comment-181549" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-187709"><div class="comment_head"> <span class="avatar"><a href="http://www.nehemoth.com/" rel="nofollow"></a></span> <span class="comment_author"><a href="http://www.nehemoth.com/" rel="external nofollow" class="url">Nehemoth</a></span> <span class="comment_date">April 2, 2013, 2:07 am</span></div><div class="comment_text grt" id="comment-body-187709"><p>@DamiÃ¡n Viano, thank you, after a lot of search, this was the only way to do it.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=187709#commentform" aria-label="Reply to Nehemoth">Reply</a> <a class="comment_permalink" href="#comment-187709" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-odd thread-alt depth-1" id="comment-196910"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">Paras Watts</span> <span class="comment_date">December 5, 2013, 11:25 am</span></div><div class="comment_text grt" id="comment-body-196910"><p>Hi,</p><p>Switching autoneg (off) on a interface is showing no link , when i switch on autoneg , link is shown</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=196910#commentform" aria-label="Reply to Paras Watts">Reply</a> <a class="comment_permalink" href="#comment-196910" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-even depth-1" id="comment-307618"><div class="comment_head"> <span class="avatar"></span> <span class="comment_author">amir</span> <span class="comment_date">August 25, 2014, 4:38 pm</span></div><div class="comment_text grt" id="comment-body-307618"><p># ethtool -s eth1 autoneg off speed 1000 duplex full<br> Cannot set new settings: Operation not supported<br> not setting speed<br> not setting duplex<br> not setting autoneg</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/tips/howto-linux-add-ethtool-duplex-settings-permanent.html?replytocom=307618#commentform" aria-label="Reply to amir">Reply</a> <a class="comment_permalink" href="#comment-307618" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul><div id="commentform"><form method="post" action="http://www.cyberciti.biz/tips/wp-comments-post.php"> <strong>Security: Are you a robot or human?</strong><div id="g-recaptcha-0" class="g-recaptcha" data-sitekey="6LdYTuoSAAAAANsHhf0qcTmeH72NPDRJjRJTWpxd" data-theme="light"></div><a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display: none;">Cancel reply</a><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <label for="author">Name</label> <input id="author" class="input_text" name="author" value="" tabindex="1" type="text"></p><p id="comment_form_email"> <label for="email">Email</label> <input id="email" class="input_text" name="email" value="" tabindex="2" type="text"></p><p id="comment_form_comment"> <label for="comment">Comment</label><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><div class="comment-sub-ops" data-auto="position"> <label for="comment-mail-sub-type" class="cso-sub-type"> <span class="cso-icon"><svg style="width: 1em; height: 1em; vertical-align: middle;" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg"> <g fill="currentColor" fill-rule="evenodd"> <path d="M14.1,5.63571636 C14.9517714,6.33967604 15.450459,7.19287046 15.450459,8.11238878 C15.450459,9.00675525 14.9786798,9.83837654 14.1691007,10.5309611 L15.9373937,14.0087185 L12.3204301,12.0078104 C11.9296094,13.5858368 9.54844584,14.7997638 6.66936474,14.7997638 C5.53232152,14.7997638 4.47293941,14.6104254 3.58314938,14.2840966 L3.58314938,14.2840966 L0.600000024,15.934378 L1.91489821,13.3483263 C1.31289726,12.8333222 0.962083376,12.2149306 0.962083376,11.549882 C0.962083376,11.165606 1.07921023,10.7969075 1.29424428,10.4547307 L1.29424428,10.4547307 C0.538036753,9.77771086 0.100000001,8.97417858 0.100000001,8.11238878 C0.100000001,7.04123575 0.776722924,6.06008476 1.89999998,5.30000019 L1.89999998,7.0658888 C1.89999998,7.30870143 2.09163284,7.50553995 2.34867325,7.50553995 L13.6513267,7.50553995 C13.8991221,7.50553995 14.1,7.31362877 14.1,7.0658888 L14.1,5.63571636 L14.1,5.63571636 Z M1.91455086,10.9345943 C1.80464172,11.1556337 1.74596704,11.3882813 1.74596704,11.6284523 C1.74596704,12.1628789 2.03649339,12.660053 2.53556999,13.0749705 L1.89355472,14.5590821 L3.60073421,13.7061116 L3.60073421,13.7061116 C4.4110062,14.0513606 5.42865146,14.2569046 6.53374306,14.2569046 C8.94591699,14.2569046 10.9414496,13.2775827 11.2731076,12.0036603 C10.2241563,12.3100096 9.03514487,12.482874 7.77522952,12.482874 C5.42553187,12.482874 3.3224447,11.8816356 1.91455086,10.9345943 L1.91455086,10.9345943 Z M3.03674893,0 C2.79553911,0 2.5999999,0.198275445 2.5999999,0.450938832 L2.5999999,6.42178844 C2.5999999,6.67083508 2.80610042,6.87272727 3.03674893,6.87272727 L12.9632509,6.87272727 C13.2044607,6.87272727 13.3999999,6.67445183 13.3999999,6.42178844 L13.3999999,0.450938832 C13.3999999,0.201892192 13.1938994,0 12.9632509,0 L3.03674893,0 Z M7.99999989,4.5999999 L12.5,0.600000013 L11.5625,0.600000013 L7.99999989,2.78181813 L4.43749976,0.600000013 L3.5,0.599999905 L7.99999989,4.5999999 Z"></path> </g> </svg></span> Receive Email Notifications? </label> <select id="comment-mail-sub-type" name="comment_mail_sub_type" class="cso-sub-type form-control" title="Receive Notifications?"><option value="">no, do not subscribe</option><option value="comment" selected="selected">yes, replies to my comment</option><option value="comments">yes, all comments/replies</option> </select> <select id="comment-mail-sub-deliver" name="comment_mail_sub_deliver" class="cso-sub-deliver form-control" title="Notify Me"><option value="asap" selected="selected">instantly</option><option value="hourly">hourly digest</option><option value="daily">daily digest</option><option value="weekly">weekly digest</option> </select><div class="cso-links"> <span class="cso-link-new">Or, you can <a href="http://www.cyberciti.biz/tips/?comment_mail%5Bmanage%5D%5Bsub_new%5D=0&amp;comment_mail%5Bmanage%5D%5Bsub_form%5D%5Bpost_id%5D=473" rel="nofollow">subscribe without commenting</a>.</span></div></div><p id="comment_form_submit"> <input id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" type="submit"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="c7ec04fea5" type="hidden"></p><p style="display: none;"></p><input name="comment_post_ID" value="473" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></form><input id="ak_js" name="ak_js" value="1473312662692" type="hidden"></div> <br><div style="font-size: 85%;">&nbsp;&nbsp; Tagged with: <a href="http://www.cyberciti.biz/tips/tag/auto-negotiation" rel="tag">auto negotiation</a>, <a href="http://www.cyberciti.biz/tips/tag/command-line-options" rel="tag">command line options</a>, <a href="http://www.cyberciti.biz/tips/tag/duplex" rel="tag">duplex</a>, <a href="http://www.cyberciti.biz/tips/tag/enterprise-linux" rel="tag">enterprise linux</a>, <a href="http://www.cyberciti.biz/tips/tag/ethtool" rel="tag">ethtool</a>, <a href="http://www.cyberciti.biz/tips/tag/interface-speed" rel="tag">interface speed</a>, <a href="http://www.cyberciti.biz/tips/tag/linux" rel="tag">Linux</a>, <a href="http://www.cyberciti.biz/tips/tag/mii-tool" rel="tag">mii-tool</a>, <a href="http://www.cyberciti.biz/tips/tag/network-administrator" rel="tag">network administrator</a>, <a href="http://www.cyberciti.biz/tips/tag/network-interface" rel="tag">network interface</a>, <a href="http://www.cyberciti.biz/tips/tag/port-speed" rel="tag">port speed</a></div></div><div class="prev_next"><p class="next_post">Next post: <a href="http://www.cyberciti.biz/tips/how-to-mysql-backup-and-data-recovery-with-mysql-zrm.html" rel="next">How to MySQL backup and data recovery with mysql-zrm</a></p><p class="previous_post">Previous post: <a href="http://www.cyberciti.biz/tips/test-your-samba-server-for-configuration-errors.html" rel="prev">Test your Samba server for configuration errors</a></p></div></div><div style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;" class="sidebar"><div style="padding-top: 1px; padding-bottom: 1px; position: static;" class="theiaStickySidebar"><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><div id="bsap_1304534" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget search-form" id="thesis-search-widget-5"><form class="search_form" method="get" action="http://www.cyberciti.biz/tips"><p> <input class="input_text" id="s" name="s" value="To search, type and hit enter" type="text"> <input id="searchsubmit" value="Search" type="hidden"></p></form></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><center> <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="3521177162"></ins>  </center></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Featured Articles:</p><div class="textwidget"><ul><li><a href="http://www.cyberciti.biz/open-source/30-cool-best-open-source-softwares-of-2013/">30 Cool Open Source Software I Discovered in 2013</a></li><li><a href="http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html">30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X</a></li><li><a href="http://www.cyberciti.biz/networking/nmap-command-examples-tutorials/">Top 30 Nmap Command Examples For Sys/Network Admins</a></li><li><a href="http://www.cyberciti.biz/tips/php-security-best-practices-tutorial.html">25 PHP Security Best Practices For Sys Admins</a></li><li><a href="http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html">20 Linux System Monitoring Tools Every SysAdmin Should Know</a></li><li><a href="http://www.cyberciti.biz/tips/linux-security.html">20 Linux Server Hardening Security Tips</a></li><li><a href="http://www.cyberciti.biz/tips/linux-iptables-examples.html">Linux: 20 Iptables Examples For New SysAdmins</a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html">Top 20 OpenSSH Server Best Security Practices </a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 20 Nginx WebServer Best Security Practices</a></li><li><a href="http://www.cyberciti.biz/tips/check-unix-linux-configuration-file-for-syntax-errors.html">20 Examples: Make Sure Unix / Linux Configuration Files Are Free From Syntax Errors</a></li><li><a href="http://www.cyberciti.biz/open-source/best-terminal-applications-for-linux-unix-macosx/">15 Greatest Open Source Terminal Applications Of 2012</a></li><li><a href="http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html">My 10 UNIX Command Line Mistakes</a></li><li><a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html">Top 10 Open Source Web-Based Project Management Software</a></li><li><a href="http://www.cyberciti.biz/tips/download-email-client-for-linux-mac-osx-windows.html">Top 5 Email Client For Linux, Mac OS X, and Windows Users</a></li><li><a href="http://www.cyberciti.biz/tips/linux-laptop.html">The Novice Guide To Buying A Linux Laptop</a></li></ul></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget">  <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 1057px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="6636490668"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Don’t Miss Any Linux Tips</p><div class="textwidget"><form style="border: 1px solid rgb(204, 204, 204); padding: 3px; text-align: center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><p>Get nixCraft in your inbox. It's free:</p><p><input value="Your email address" style="width: 140px;" name="email" type="text"></p><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"><input name="loc" value="en_US" type="hidden"><input value="Subscribe" type="submit"></form></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><center> <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2272802261"></ins>  </center></div></div></div></div></div><div class="footer"> ©2000-2016 nixCraft. All rights reserved. <a href="http://www.cyberciti.biz/tips/privacy">Privacy</a> - <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> - <a href="http://www.cyberciti.biz/tips/contact-us">Questions or Comments</a></div></div><div data-theiastickysidebar-sidebarselector="&quot;#secondary, #sidebar, .sidebar, #primary&quot;" data-theiastickysidebar-options="{&quot;containerSelector&quot;:&quot;&quot;,&quot;additionalMarginTop&quot;:0,&quot;additionalMarginBottom&quot;:0,&quot;updateSidebarHeight&quot;:false,&quot;minWidth&quot;:0,&quot;sidebarBehavior&quot;:&quot;stick-to-bottom&quot;,&quot;disableOnResponsiveLayouts&quot;:true}"></div>
<!-- BEGIN recaptcha, injected by plugin wp-recaptcha-integration  -->

<!-- END recaptcha -->









</body>
</html>
