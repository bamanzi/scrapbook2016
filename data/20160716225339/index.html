<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"> <title>Fedora Linux – How to Use dnf Command With A Proxy Server</title><link rel="canonical" href="http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/"><link rel="alternate" type="application/rss+xml" title="nixCraft feed" href="http://www.cyberciti.biz/faq/feed/"><link rel="pingback" href="http://www.cyberciti.biz/faq/xmlrpc.php"><link rel="alternate" type="application/rss+xml" title="nixCraft » Fedora Linux – How to Use dnf Command With A Proxy Server Comments Feed" href="http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/feed/">   <link rel="https://api.w.org/" href="http://www.cyberciti.biz/faq/wp-json/"><link rel="alternate" type="application/json+oembed" href="http://www.cyberciti.biz/faq/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ffaq%2Fhow-to-use-dnf-command-with-a-proxy-server-on-fedora%2F"><meta name="description" content="Explains how to connect the dnf command via a proxy server on a Fedora Linux server or workstation. "><link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head><body class="template-single">  <div class="container"> <span class="menu_control">≡ Menu</span><ul id="menu-faq" class="menu"><li id="menu-item-145282" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145282"><a title="nixCraft – Home Page " href="http://www.cyberciti.biz/">Home</a></li><li id="menu-item-145280" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145280"><a title="About us" href="http://www.cyberciti.biz/tips/about-us">About</a></li><li id="menu-item-145283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145283"><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting TutoriaL</a></li><li id="menu-item-145281" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145281"><a title="Rss Feed" href="http://www.cyberciti.biz/nixcraft-rss-feed-syndication/">RSS/Feed</a></li></ul><div id="header" class="header"><div id="site_title"><a href="http://www.cyberciti.biz/faq">nixCraft</a></div><div id="site_tagline">Linux and Unix tutorials for new and seasoned sysadmin.</div></div><div class="columns"><div class="content"><div id="post-145323" class="post_box grt top" itemscope="" itemtype="http://schema.org/Article"><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/"><div class="headline_area"><h1 class="headline" itemprop="headline">Fedora Linux – How to Use dnf Command With A Proxy Server</h1><div class="byline small"> <span class="post_author_intro">by</span> <span class="post_author">Vivek Gite</span> <span class="post_date_intro">on</span> <span class="post_date" title="2015-12-11">December 11, 2015<span style="font-style: italic; text-transform: lowercase;"> last updated </span>December 11, 2015</span><div class="post_cats"> <span class="post_cats_intro">in</span> <a href="http://www.cyberciti.biz/faq/category/fedora-linux/" rel="category tag">Fedora Linux</a>, <a href="http://www.cyberciti.biz/faq/category/linux/" rel="category tag">Linux</a>, <a href="http://www.cyberciti.biz/faq/category/networking/" rel="category tag">Networking</a>, <a href="http://www.cyberciti.biz/faq/category/package-management/" rel="category tag">Package Management</a></div></div></div><div class="post_content"><p></p><div class="my_story"><a title="See all Fedora Linux related FAQ" href="http://www.cyberciti.biz/faq/category/fedora-linux/"><img src="fedora-logo.png" alt="" border="0"></a></div><span class="drop_cap">M</span>y Fedora Linux 23 workstation based laptop can only be accessed through our corporate proxy servers. How do I access and use dnf command with a web proxy server on a Fedora Linux? How do I configure dnf to use a proxy server only?<br> <span id="more-145323"></span><br> Dnf repositories (“repos”) can be accessed through standard proxy servers such as Squid or any other proxy server. You need to configure the proxy server in <kbd>/etc/dnf/dnf.conf</kbd> file as follows:<p></p><center>  <ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2404767461"></ins> <p></p></center><p></p><ol><li><kbd><strong>proxy=http://URL:PORT/</strong></kbd> – Proxy serer URL to the proxy server that yum should use. You must set a complete URL, including the TCP port number. If your corporate proxy server requires a username and password, specify these by adding following two settings in dnf.conf file.</li><li><kbd><strong>proxy_username=YOUR-PROXY-USERNAME-HERE</strong></kbd> (optional)- Your proxy server username to use for the proxy URL.</li><li><kbd><strong>proxy_password=YOUR-SUPER-secrete-PASSWORD-HERE</strong></kbd> (optional) – Your proxy server  password for this proxy URL.</li></ol><h2>Configuration: Using dnf with a proxy server</h2><p>First, login as root user and type (open the Terminal app if you are using GUI based Fedora workstation):<br> <code># vi /etc/dnf/dnf.conf</code><br> OR<br> <code>$ sudo vi /etc/dnf/dnf.conf</code><br> Add/append/edit the following settings in [main] section:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;"><span style="color: rgb(0, 0, 153);">proxy</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">http://server1.cyberciti.biz:3128</span>
<span style="color: rgb(0, 0, 153);">proxy_username</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">vivek</span>
<span style="color: rgb(0, 0, 153);">proxy_password</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">secretePasswordHere</span></pre></td></tr></tbody></table></div><p>Save and close the file. Here is my complete working config /etc/dnf/dnf.conf file:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="ini" style="font-family: monospace;"><span style="color: rgb(0, 0, 102); font-weight: bold;"><span style="">[</span>main<span style="">]</span></span>
<span style="color: rgb(0, 0, 153);">gpgcheck</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">1</span>
<span style="color: rgb(0, 0, 153);">installonly_limit</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">3</span>
<span style="color: rgb(0, 0, 153);">clean_requirements_on_remove</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">true</span>
<span style="color: rgb(0, 0, 153);">proxy</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">http://server1.cyberciti.biz:3128</span>
<span style="color: rgb(0, 0, 153);">proxy_username</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">vivek</span>
<span style="color: rgb(0, 0, 153);">proxy_password</span><span style="color: rgb(0, 0, 102); font-weight: bold;">=</span><span style="color: rgb(102, 0, 102);">secretePasswordHere</span></pre></td></tr></tbody></table></div><p>Please note that defining a proxy server, username, and password in dnf.conf file means <strong>all users connect to the proxy server with those details</strong> when using dnf command:<br> <code># dnf update<br> # dnf install foo</code></p><h2>How do I enable proxy access for a specific user such as root user only?</h2><p><a href="http://www.cyberciti.biz/faq/unix-linux-export-variable-http_proxy-with-special-characters/">Linux and UNIX-like system has environment variable called <kbd>http_proxy</kbd>. It allows you to connect text based session</a> and applications via the proxy server. Type the following command at shell prompt:<br> <code># export http_proxy="http://server1.cyberciti.biz:3128"</code><br> OR<br> <code># export http_proxy="http://<span style="color: rgb(0, 153, 0);">PROXY=USERNAME=HERE</span>:<span style="color: rgb(102, 102, 204);">PROXY=PASSWORD=HERE</span>@URL:PORT"<br> # export http_proxy="http://<span style="color: rgb(0, 153, 0);">vivek</span>:<span style="color: rgb(102, 102, 204);">secretePassword</span>@server1.cyberciti.biz:3128"</code><br> Feel free to add the above line in the to your shell profile file such as ~/.bash_profile. See <a href="http://www.cyberciti.biz/faq/linux-unix-set-proxy-environment-variable/">how to set or export: http_proxy with special characters in password on a  Unix or Linux  based system</a> for more information.</p> <strong>Share this tutorial on:</strong><div class="nixcraft-social"><a class="nixcraft-link nixcraft-twitter" href="https://twitter.com/intent/tweet?text=Fedora+Linux+%26%238211%3B+How+to+Use+dnf+Command+With+A+Proxy+Server&amp;url=http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/&amp;via=nixcraft" title="Tweet this tutorial/page">Twitter</a><a class="nixcraft-link nixcraft-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/" title="Share this page/tutorial on Facebook">Facebook</a><a class="nixcraft-link nixcraft-googleplus" href="https://plus.google.com/share?url=http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/" title="Share this page/tutorial on Google+">Google+</a><a class="nixcraft-link nixcraft-pdf" href="http://www.cyberciti.biz/view/pdf/faq/145323.php" title="Download this tutorial/faq as a free pdf">Download PDF version </a><a class="nixcraft-link nixcraft-error" href="https://nixcraft.wufoo.com/forms/give-us-feedback-for-nixcraft/def/Field209=http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/&amp;Field211=Fedora%20Linux%20%E2%80%93%20How%20to%20Use%20dnf%20Command%20With%20A%20Proxy%20Server" target="_blank" title="Click here to report Typo/Grammar and other Incorrect information">Found an error/typo on this page?</a></div><div class="crp_related "><div class="my_tutorial_series">About the author: Vivek Gite is a seasoned sysadmin and a trainer for the Linux/Unix &amp; shell scripting. Follow him on <strong><a href="https://twitter.com/nixcraft" style="text-decoration: underline;">Twitter</a></strong>. OR <strong>read more like this</strong>:<ul><li><a href="http://www.cyberciti.biz/faq/centos-redhat-fedora-linux-using-yum-with-a-proxy-server/" class="crp_title">CentOS / RHEL / Fedora Linux: Use Yum Command With A Proxy Server</a></li><li><a href="http://www.cyberciti.biz/faq/linux-unix-set-proxy-environment-variable/" class="crp_title">How To Use Proxy Server To Access Internet at Shell Prompt With http_proxy…</a></li><li><a href="http://www.cyberciti.biz/faq/how-do-i-make-wget-work-with-squid/" class="crp_title">Use wget with Squid Proxy Server</a></li><li><a href="http://www.cyberciti.biz/faq/updating-freebsd-source-tree-via-proxyserver/" class="crp_title">Update FreeBSD Using Proxy Server (csup / portsnap proxy update)</a></li><li><a href="http://www.cyberciti.biz/faq/linux-unix-curl-command-with-proxy-username-password-http-options/" class="crp_title">How to use curl command with proxy username and password on Linux or Unix</a></li><li><a href="http://www.cyberciti.biz/faq/howto-use-auto-config-proxy-pac-file-for-specific-domain/" class="crp_title">HowTo: Use Auto Config Proxy PAC File For Specific Domain</a></li><li><a href="http://www.cyberciti.biz/faq/wget-example-download-from-https-web-sites/" class="crp_title">Use wget Command To Download Files From HTTPS Domains</a></li><li><a href="http://www.cyberciti.biz/faq/securing-apache-mod_proxy-serve/" class="crp_title">How To Secure Apache Proxy Server (mod_proxy)</a></li><li><a href="http://www.cyberciti.biz/faq/unix-linux-export-variable-http_proxy-with-special-characters/" class="crp_title">Set/Export: http_proxy With Special Characters In Password Under Unix /…</a></li><li><a href="http://www.cyberciti.biz/faq/rhel-debian-ububtu-linux-disable-squid-proxyserver/" class="crp_title">Linux Disabling Squid Proxy Server</a></li></ul></div><div class="crp_clear"></div></div><p></p><center><a target="_blank" href="http://amzn.to/20CvCJj"><img src="amz-sysadmin-tshirt.jpg" alt="='Buy" at="" amazon="" -="" sysadmin="" developers="" heroes="" t-shirt'="" border="0"></a><p></p></center></div></div><div id="comments"><div class="comments_intro"><span class="bracket">{</span> <span class="num_comments">1</span> comment… <a href="#commentform" rel="nofollow">add one</a> <span class="bracket">}</span></div><ul class="comment_list"><li class="comment even thread-even depth-1" id="comment-886572"><div class="comment_head"> <span class="comment_author">krankes-kind</span> <span class="comment_date">July 8, 2016, 1:46 pm</span></div><div class="comment_text grt" id="comment-body-886572"><p>for socks5 proxy add<br> proxy=socks5://URL:PORT<br> List of alternatives: http, ftp, https, socks5, socks5h, socks4, socks4a</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/how-to-use-dnf-command-with-a-proxy-server-on-fedora/?replytocom=886572#commentform" aria-label="Reply to krankes-kind">Reply</a> <a class="comment_permalink" href="#comment-886572" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul><div id="commentform"><form method="post" action="http://www.cyberciti.biz/faq/wp-comments-post.php"> <a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display: none;">Cancel reply</a><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <label for="author">Name</label> <input id="author" class="input_text" name="author" value="" tabindex="1" type="text"></p><p id="comment_form_email"> <label for="email">Email</label> <input id="email" class="input_text" name="email" value="" tabindex="2" type="text"></p><p id="comment_form_comment"> <label for="comment">Comment</label><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><p id="comment_form_submit"> <input id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" type="submit"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="21c3abfa32" type="hidden"></p><p style="display: none;"></p><input name="comment_post_ID" value="145323" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></form><input id="ak_js" name="ak_js" value="1468679959798" type="hidden"></div> <br><div style="font-size: 85%;">&nbsp;&nbsp; Tagged with: <a href="http://www.cyberciti.biz/faq/tag/etcdnfdnf-conf/" rel="tag">/etc/dnf/dnf.conf</a>, <a href="http://www.cyberciti.biz/faq/tutorial-difficulty-level/easy/" rel="tag">Easy</a></div></div><div class="prev_next"><p class="next_post">Next FAQ: <a href="http://www.cyberciti.biz/faq/how-to-install-composer-on-debian-ubuntu-linux-server/" rel="next">How to install Composer on Debian / Ubuntu Linux</a></p><p class="previous_post">Previous FAQ: <a href="http://www.cyberciti.biz/faq/how-to-find-out-aes-ni-advanced-encryption-enabled-on-linux-system/" rel="prev">How to find out AES-NI (Advanced Encryption) Enabled on Linux System</a></p></div></div><div style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;" class="sidebar"><div style="padding-top: 1px; padding-bottom: 1px; position: static;" class="theiaStickySidebar"><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><div id="bsap_1304534" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget search-form" id="thesis-search-widget-3"><form class="search_form" method="get" action="http://www.cyberciti.biz/faq"><p> <input class="input_text" id="s" name="s" value="To search, type and hit enter" type="text"> <input id="searchsubmit" value="Search" type="hidden"></p></form></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="3521177162"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Featured Articles:</p><div class="textwidget"><ul><li><a href="http://www.cyberciti.biz/open-source/30-cool-best-open-source-softwares-of-2013/">30 Cool Open Source Software I Discovered in 2013</a></li><li><a href="http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html">30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X</a></li><li><a href="http://www.cyberciti.biz/networking/nmap-command-examples-tutorials/">Top 30 Nmap Command Examples For Sys/Network Admins</a></li><li><a href="http://www.cyberciti.biz/tips/php-security-best-practices-tutorial.html">25 PHP Security Best Practices For Sys Admins</a></li><li><a href="http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html">20 Linux System Monitoring Tools Every SysAdmin Should Know</a></li><li><a href="http://www.cyberciti.biz/tips/linux-security.html">20 Linux Server Hardening Security Tips</a></li><li><a href="http://www.cyberciti.biz/tips/linux-iptables-examples.html">Linux: 20 Iptables Examples For New SysAdmins</a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html">Top 20 OpenSSH Server Best Security Practices </a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 20 Nginx WebServer Best Security Practices</a></li><li><a href="http://www.cyberciti.biz/tips/check-unix-linux-configuration-file-for-syntax-errors.html">20 Examples: Make Sure Unix / Linux Configuration Files Are Free From Syntax Errors</a></li><li><a href="http://www.cyberciti.biz/open-source/best-terminal-applications-for-linux-unix-macosx/">15 Greatest Open Source Terminal Applications Of 2012</a></li><li><a href="http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html">My 10 UNIX Command Line Mistakes</a></li><li><a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html">Top 10 Open Source Web-Based Project Management Software</a></li><li><a href="http://www.cyberciti.biz/tips/download-email-client-for-linux-mac-osx-windows.html">Top 5 Email Client For Linux, Mac OS X, and Windows Users</a></li><li><a href="http://www.cyberciti.biz/tips/linux-laptop.html">The Novice Guide To Buying A Linux Laptop</a></li></ul></div></div><div class="extendedwopts-show extendedwopts-desktop extendedwopts-md-center widget widget_text" id=""><div class="textwidget">  <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 1057px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="6636490668"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Don’t Miss Any Linux Tips</p><div class="textwidget"><form style="border: 1px solid rgb(204, 204, 204); padding: 3px; text-align: center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><p>Get nixCraft in your inbox. It's free:</p><p><input value="Your email address" style="width: 140px;" name="email" type="text"></p><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"><input name="loc" value="en_US" type="hidden"><input value="Subscribe" type="submit"></form></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><center> <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2272802261"></ins>  </center></div></div></div></div></div><div class="footer"> ©2000-2016 nixCraft. All rights reserved. <a href="http://www.cyberciti.biz/tips/privacy">Privacy</a> - <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> - <a href="http://www.cyberciti.biz/tips/contact-us">Questions or Comments</a></div></div><div data-theiastickysidebar-sidebarselector="&quot;#secondary, #sidebar, .sidebar, #primary&quot;" data-theiastickysidebar-options="{&quot;containerSelector&quot;:&quot;&quot;,&quot;additionalMarginTop&quot;:0,&quot;additionalMarginBottom&quot;:0,&quot;updateSidebarHeight&quot;:false,&quot;minWidth&quot;:0,&quot;sidebarBehavior&quot;:&quot;stick-to-bottom&quot;,&quot;disableOnResponsiveLayouts&quot;:true}"></div>








</body>
</html>
