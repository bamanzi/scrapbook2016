<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡ | ç²‰ä¸æ—¥å¿—</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://blog.fens.me/xmlrpc.php">
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— Â» Feed" href="http://blog.fens.me/feed/">
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— Â» Comments Feed" href="http://blog.fens.me/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="ç²‰ä¸æ—¥å¿— Â» upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡ Comments Feed" href="http://blog.fens.me/linux-upstart/feed/">
		
		

<!--[if IE 7]>
<link rel='stylesheet' id='silesia-ie7-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie7.css' type='text/css' media='all' />
<![endif]-->
<!--[if IE 6]>
<link rel='stylesheet' id='silesia-ie6-css'  href='http://blog.fens.me/wp-content/themes/silesia/ie6.css' type='text/css' media='all' />
<![endif]-->




<link rel="https://api.w.org/" href="http://blog.fens.me/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.fens.me/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.fens.me/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Nginxåå‘ä»£ç†Nodejs â€“ log4jsæ—¥å¿—IPæ˜¾ç¤ºé”™è¯¯" href="http://blog.fens.me/nodejs-nginx-log4js/">
<link rel="next" title="upstartå°è£…nodejsåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡" href="http://blog.fens.me/linux-upstart-nodejs/">
<meta name="generator" content="WordPress 4.5.3">
<link rel="canonical" href="http://blog.fens.me/linux-upstart/">
<link rel="shortlink" href="http://blog.fens.me/?p=609">
<link rel="alternate" type="application/json+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Flinux-upstart%2F">
<link rel="alternate" type="text/xml+oembed" href="http://blog.fens.me/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.fens.me%2Flinux-upstart%2F&amp;format=xml">
<meta name="template" content="silesia 1.0.6">
<meta name="generator" content="NattyWP Framework Version 2.1.5">
<meta name="keywords" content="upstart,linux,ubuntu">
<meta name="description" content="è·¨ç•Œçš„ITåšå®¢ï¼Œæ ¸å¿ƒITæŠ€æœ¯åŒ…æ‹¬ï¼šHadoop, R, RHadoop, Nodejs, AngularJS, KVM, NoSQL, ITé‡‘è">
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon">
<!--[if IE 6]>
    <script type="text/javascript" src="http://blog.fens.me/wp-content/themes/silesia/js/ie6/warning.js"></script>
    <script type="text/javascript" charset="utf-8">/*<![CDATA[*/window.onload=function(){e("http://blog.fens.me/wp-content/themes/silesia/js/ie6/")}/*]]>*/</script>
<![endif]-->		
		

<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>

<body class="single single-post postid-609 single-format-standard custom-background">
<div id="main-nav">
  <div id="link-sidebar">
    <ul>
                      <li class="widget png_scale" id="widget_categories">
          <h2 class="blocktitle"><span>Categories</span></h2>	
          <ul>
              	<li class="cat-item cat-item-9"><a href="http://blog.fens.me/category/datagurucn/">Dataguruä½œä¸š</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.fens.me/category/hadoop-action/">Hadoopå®è·µ</a>
</li>
	<li class="cat-item cat-item-65"><a href="http://blog.fens.me/category/it%e7%9b%b8%e5%85%b3%e7%9f%a5%e8%af%86/">ITç›¸å…³çŸ¥è¯†</a>
</li>
	<li class="cat-item cat-item-55"><a href="http://blog.fens.me/category/javascript%e8%af%ad%e8%a8%80%e5%ae%9e%e8%b7%b5/">Javascriptè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.fens.me/category/java-lang/">JAVAè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://blog.fens.me/category/r-lang/">Rè¯­è¨€å®è·µ</a>
</li>
	<li class="cat-item cat-item-217"><a href="http://blog.fens.me/category/seo%e4%bc%98%e5%8c%96/">SEOä¼˜åŒ–</a>
</li>
	<li class="cat-item cat-item-356"><a href="http://blog.fens.me/category/%e5%85%b6%e4%bb%96%e8%af%ad%e8%a8%80/">å…¶ä»–è¯­è¨€</a>
</li>
	<li class="cat-item cat-item-774"><a href="http://blog.fens.me/category/%e5%88%9b%e4%b8%9a/">åˆ›ä¸š</a>
</li>
	<li class="cat-item cat-item-233"><a href="http://blog.fens.me/category/%e5%8f%af%e8%a7%86%e5%8c%96%e6%8a%80%e6%9c%af/">å¯è§†åŒ–æŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-20"><a href="http://blog.fens.me/category/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f/">æ“ä½œç³»ç»Ÿ</a>
</li>
	<li class="cat-item cat-item-29"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e5%ba%93/">æ•°æ®åº“</a>
</li>
	<li class="cat-item cat-item-30"><a href="http://blog.fens.me/category/%e6%95%b0%e6%8d%ae%e6%8c%96%e6%8e%98/">æ•°æ®æŒ–æ˜</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.fens.me/category/%e6%99%92%e7%b2%89%e4%b8%9d/">æ™’ç²‰ä¸</a>
</li>
	<li class="cat-item cat-item-19"><a href="http://blog.fens.me/category/%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1/">æ¶æ„è®¾è®¡</a>
</li>
	<li class="cat-item cat-item-113"><a href="http://blog.fens.me/category/%e6%b4%bb%e5%8a%a8%e8%81%9a%e4%bc%9a/">æ´»åŠ¨èšä¼š</a>
</li>
	<li class="cat-item cat-item-598"><a href="http://blog.fens.me/category/%e6%b8%b8%e6%88%8f/">æ¸¸æˆ</a>
</li>
	<li class="cat-item cat-item-24"><a href="http://blog.fens.me/category/%e7%a8%8b%e5%ba%8f%e7%ae%97%e6%b3%95/">ç¨‹åºç®—æ³•</a>
</li>
	<li class="cat-item cat-item-117"><a href="http://blog.fens.me/category/%e7%bd%91%e7%bb%9c%e6%8a%80%e6%9c%af/">ç½‘ç»œæŠ€æœ¯</a>
</li>
	<li class="cat-item cat-item-76"><a href="http://blog.fens.me/category/%e8%99%9a%e6%8b%9f%e5%8c%96%e5%ae%9e%e8%b7%b5/">è™šæ‹ŸåŒ–å®è·µ</a>
</li>
	<li class="cat-item cat-item-184"><a href="http://blog.fens.me/category/%e9%87%91%e8%9e%8d/">é‡‘è</a>
</li>
	<li class="cat-item cat-item-32"><a href="http://blog.fens.me/category/%e9%9d%a2%e8%af%95/">é¢è¯•</a>
</li>
	<li class="cat-item cat-item-44"><a href="http://blog.fens.me/category/%e9%bb%91%e5%ae%a2%e6%94%bb%e9%98%b2/">é»‘å®¢æ”»é˜²</a>
</li>
          </ul>		
        </li>
                <li id="twitterWidget" class="widget png_scale">	
          <div id="twitter">
            <h2 class="blocktitle"><span>Twitter Updates</span></h2>		<ul id="twitter_update_list"><li></li></ul>
            <!--<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>-->
            <!--<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/nattywp.json?callback=twitterCallback2&amp;count=1"></script>-->
            <div class="dasheddivider"></div>
            <p align="right"><a href="http://www.twitter.com/nattywp/" class="rightlink png_crop">Follow us on Twitter</a></p>
        </div>
        </li>   
           
    </ul>
  </div>
  <a id="control" href="#">+</a>
</div>

<div id="main-wrapper">
<div id="header">
  <div class="wrapper">
    <div class="triangle"></div>
    <div class="logo-block">
    <div class="logo">
    <ul><li><a class="logo-title shadowed" href="http://blog.fens.me/" rel="home" title="ç²‰ä¸æ—¥å¿—">ç²‰ä¸æ—¥å¿—</a></li></ul> 
    </div>
  <div class="tagline">è·¨ç•Œçš„ITåšå®¢|Hadoopå®¶æ—, R, RHadoop, Nodejs, AngularJS, NoSQL, ITé‡‘è</div></div>
  
    <div class="clear"></div>
  </div>
</div>

<div id="cnt" class="wrapper">
  <div class="top">
    <ul id="crumbs"><li class="first"><a href="http://blog.fens.me/" id="home-img"></a></li><li><a href="http://blog.fens.me/category/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f/">æ“ä½œç³»ç»Ÿ</a> Â» </li><li>upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡</li></ul><div style="float: right; margin-right: 10px; font-size: 14px;"><ul style="list-style-type: none;"><li style="list-style-type: none; float: left; line-height: 24px; margin: 0px 7px;"><a href="http://www.fens.me/" target="_blank">@æ™’ç²‰ä¸</a></li><li style="list-style-type: none; float: left; line-height: 24px; margin: 0px 7px;"><a href="http://apps.weibo.com/chinaweatherapp" target="_blank">@æ¯æ—¥ä¸­å›½å¤©æ°”</a></li></ul></div>    <div class="clear"></div>            
  </div> <!-- END top -->


<!-- END Header --><div class="narrowcolumn singlepage">
              <div class="post-609 post type-post status-publish format-standard hentry category-20 tag-linux tag-ubuntu tag-upstart">
         <div class="post-meta">
          <a href="#" title="upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡" class="ms"></a>
          <h5>Posted:</h5>
          <span class="date">Jun 21, 2013</span>
          <h5>Tags:</h5><div class="tags"><a href="http://blog.fens.me/tag/linux/" rel="tag">linux</a><a href="http://blog.fens.me/tag/ubuntu/" rel="tag">Ubuntu</a><a href="http://blog.fens.me/tag/upstart/" rel="tag">upstart</a></div>          <h5>Comments:</h5>
          <span class="comment"><a data-disqus-identifier="609 http://blog.fens.me/?p=609" href="#disqus_thread"><span class="dsq-postid" data-dsqidentifier="609 http://blog.fens.me/?p=609">11 Comments</span></a></span>
                   </div>
         
         <div class="p-cont">
            <h2>upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡</h2>
            <div class="entry">
                            <p><strong>ubuntuå®ç”¨å·¥å…·ç³»åˆ—æ–‡ç« </strong></p>
<p><span style="font-size: 13px; line-height: 19px;">æ“ä½œç³»ç»Ÿå®ç”¨å·¥å…·ç³»åˆ—æ–‡ç« ï¼Œå°†ä»‹ç»åŸºäºLinux ubuntuçš„å„ç§å·¥å…·è½¯ä»¶çš„é…ç½®å’Œä½¿ç”¨ã€‚æœ‰äº›å·¥å…·å¤§å®¶æ—©å·²è€³ç†Ÿèƒ½è¯¦ï¼Œæœ‰äº›å·¥å…·ç»å¸¸ç”¨åˆ°ä½†ç¡®ä¾ç„¶é™Œç”Ÿã€‚æˆ‘å°†è®°å½•æˆ‘åœ¨ä½¿ç”¨æ“ä½œç³»ç»Ÿæ—¶ï¼Œå®‰è£…åŠé…ç½®å·¥å…·ä¸Šé¢çš„ä¸€äº›æ–¹æ³•ï¼ŒæŠŠä½¿ç”¨å¿ƒå¾—è®°å½•ä¸‹æ¥ä¹Ÿä¾¿äºè‡ªå·±çš„ä»¥åæŸ¥æ‰¾å’Œå›å¿†ã€‚</span></p>
<p><strong>å…³äºä½œè€…</strong></p>
<p>å¼ ä¸¹(Conan), ç¨‹åºå‘˜Java,R,PHP,Javascript<br>
weiboï¼š@Conan_Z<br>
blog: http://blog.fens.me<br>
email: bsspirit@gmail.com</p>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br>
<a title="upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡" href="#">http://blog.fens.me/linux-upstart/</a></p>
<p><a href="http://blog.fens.me/wp-content/uploads/2013/06/upstart-basic1.png"><img class="alignnone size-full wp-image-690" alt="upstart-basic" src="upstart-basic1.png" width="600" height="400"></a></p>
<p><strong>å‰è¨€</strong></p>
<p>å¯¹äºä½¿ç”¨linuxçš„åŒå­¦ï¼Œæ•²å¤§æ®µçš„å‘½ä»¤éƒ½å·²ç»æ˜¯å®¶é•¿ä¾¿é¥­äº†ã€‚ä½†æœ‰äº›æ—¶å€™ç”¨å‘½ä»¤ä¹Ÿä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚å¯åŠ¨ä¸€ä¸ªåå°ç¨‹åº, <code>sh ./app &amp;</code> æ‰§è¡Œå¯åŠ¨å‘½ä»¤å¾ˆç®€å•ï¼Œå¦‚æœæƒ³åœæ­¢è¿™ä¸ªåº”ç”¨æˆ–è€…é‡å¯è¿™ä¸ªåº”ç”¨ï¼Œå°±ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿äº†ã€‚</p>
<p>å¦‚æœèƒ½æŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨çš„ å¯åŠ¨ï¼Œé‡èµ·ï¼Œåœæ­¢ï¼ŒçŠ¶æ€æ£€æŸ¥ç­‰çš„æ ‡å‡†æ–¹æ³•äº†ã€‚åº”ç”¨ä¼šåƒä¸€ä¸ªå®ˆæŠ¤ç¨‹åºä¸€æ ·ï¼Œè¢«æ“ä½œç³»ç»Ÿæ‰€ç®¡ç†ã€‚</p>
<p>&nbsp;</p>
<p><strong>æ–‡ç« ç›®å½•</strong></p>
<ol>
<li><span style="font-size: 13px; line-height: 19px;">åˆè¯†upstart</span></li>
<li><span style="font-size: 13px; line-height: 19px;">upstartä»»åŠ¡æ–‡ä»¶çš„è¯­æ³•</span></li>
<li><span style="font-size: 13px; line-height: 19px;">upstartå‘½ä»¤</span></li>
<li><span style="font-size: 13px; line-height: 19px;">upstartå°è£…mytest</span></li>
<li><span style="font-size: 13px; line-height: 19px;">ä¾‹å­ï¼šupstartå°è£…Nginx</span></li>
<li><span style="font-size: 13px; line-height: 19px;">ä¾‹å­ï¼šupstartå°è£…MySQL</span></li>
<li><span style="font-size: 13px; line-height: 19px;">ä¾‹å­ï¼šupstartå°è£…ssh</span></li>
</ol>
<h2></h2>
<h2>1. åˆè¯†upstart</h2>
<p>è¯´æ¥æƒ­æ„§ï¼Œç”¨äº†å¾ˆå¤šå¹´çš„linuxï¼Œä¹Ÿæ²¡æœ‰æƒ³æ³•å»æ€ä¹ˆèƒ½ä¼˜åŒ–ä¸€ä¸‹åº”ç”¨å¯åŠ¨ã€‚æœ€è¿‘éƒ¨ç½²Nodejsåº”ç”¨æ—¶æ‰å‘ç°ï¼ŒåŸæ¥ubuntuæœ‰è¿™ä¹ˆä¼˜é›…çš„åº”ç”¨ç®¡ç†æ–¹å¼ã€‚</p>
<p>upstartå¯ä»¥ç”¨æ¥ä»£æ›¿/etc/init.d/çš„æ‰§è¡Œè„šæœ¬ï¼Œé¢å¤–æä¾›äº†ä¸€äº›ç‰¹æ€§ï¼Œåƒé€Ÿåº¦ï¼ŒçŠ¶æ€æ£€æŸ¥ï¼Œç®€å•å®šä¹‰ä»»åŠ¡ç­‰ã€‚</p>
<p><strong>upstartä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼šäº‹ä»¶(events)ï¼Œä»»åŠ¡(jobs)</strong></p>
<p>äº‹ä»¶çŠ¶æ€å›¾</p>
<p><a href="http://blog.fens.me/wp-content/uploads/2013/06/upstart.png"><img class="alignnone size-full wp-image-645" alt="upstart" src="upstart.png" width="698" height="336"></a></p>
<p>å¯¹çŠ¶æ€çš„æè¿°</p>
<ul>
<li><span style="font-size: 13px; line-height: 19px;">waiting : initial state.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">starting : job is about to start.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">pre-start : running pre-start section.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">spawned : about to run script or exec section.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">post-start : running post-start section.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">running : interim state set after post-start section processed denoting job is running (But it may&nbsp;</span><span style="font-size: 13px; line-height: 19px;">have no associated PID!)</span></li>
<li><span style="font-size: 13px; line-height: 19px;">pre-stop : running pre-stop section.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">stopping : interim state set after pre-stop section processed.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">killed : job is about to be stopped.</span></li>
<li><span style="font-size: 13px; line-height: 19px;">post-stop : running post-stop section.</span></li>
</ul>
<p>æ¯ä¸ªä»»åŠ¡éœ€è¦æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨/etc/init/ç›®å½•ä¸‹é¢ã€‚</p>
<pre><code>~ vi /etc/init/mytest.conf</code></pre>
<p>å®Œæˆä»»åŠ¡é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥ç›´æ¥ç”¨initctl, start, stop å‘½ä»¤å¯¹ä»»åŠ¡è¿›è¡Œå¯åŠ¨ï¼Œåœæ­¢ï¼ŒæŸ¥çœ‹çŠ¶æ€ ç­‰çš„æ“ä½œã€‚</p>
<pre><code>start mytest.conf</code></pre>
<p><strong>æ³¨ï¼šä¸‹é¢æ‰€æœ‰å®ä¾‹éƒ½ä»¥rootæƒé™è¿›è¡Œæ“ä½œ</strong></p>
<p>æœ¬æ–‡ä¸»è¦ä»¥å®è·µä¸ºä¸»ã€‚åŸç†åŠæ›´å¤šç»†èŠ‚ä»‹ç»ï¼Œè¯·æŸ¥çœ‹Upstart Cookbook:</p>
<p><a href="http://upstart.ubuntu.com/cookbook/" target="_blank">http://upstart.ubuntu.com/cookbook/</a></p>
<h2>2. upstartä»»åŠ¡æ–‡ä»¶çš„è¯­æ³•</h2>
<p>è¯¦ç»†ä»‹ç»ï¼š&nbsp;http://upstart.ubuntu.com/wiki/Stanzas<br>
<em>æ³¨ï¼šStanzasçš„æ–‡æ¡£å¾ˆå¤šå†…å®¹å·²ç»è¿‡æœŸï¼Œå»ºè®®å‚è€ƒcookbookæˆ–è€…mançš„ä½¿ç”¨å¸®åŠ©ã€‚</em></p>
<p><strong>ä»»åŠ¡æ–‡ä»¶æ”¯æŒçš„è¯­æ³•å…³é”®å­—</strong></p>
<p>Process Definition:<br>
<code>exec,&nbsp;script,&nbsp;pre-start,&nbsp;post-start,&nbsp;pre-stop,&nbsp;post-stop,</code></p>
<p>Event Definition:<br>
<code>start on,&nbsp;stop on, manual</code></p>
<p>Job Environment:<br>
<code>env, export</code></p>
<p>Services, tasks and respawning:<br>
<code>normal exit, respawn,&nbsp;respawn limit, task</code></p>
<p>Instances:<br>
<code>instance</code></p>
<p>Documentation:<br>
<code>description,&nbsp;author,&nbsp;version,&nbsp;emits, usage</code></p>
<p>Process environment:<br>
<code>console none,console log, console output, console owner, nice,&nbsp;limit,&nbsp;chroot,&nbsp;chdir, oom score, setgid, setuid, umask</code></p>
<p>Process Control:<br>
<code>expect fork, expect daemon, expect stop, kill signal, kill timeout</code></p>
<p>è¿‡æœŸå…³é”®å­—ï¼š<br>
<code>service,&nbsp;daemon,&nbsp;pid</code></p>
<p><strong>éƒ¨åˆ†è¯­æ³•å…³é”®å­—ä»‹ç»:</strong></p>
<p><strong>exec : æ‰§è¡Œå‘½ä»¤ï¼Œåœ¨scriptå—ä¸­ä½¿ç”¨ã€‚</strong></p>
<p>è¯­æ³•ï¼š<code>exec /usr/bin/zip -v</code></p>
<p><strong>script: è„šæœ¬å—ï¼ŒåŒ…æ‹¬ä¸»è¿è¡Œè„šæœ¬</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>
script
    exec /usr/bin/zip /root/upstart.zip /root/upstart.txt
end script
</code></pre>
<p><strong>pre-start: è„šæœ¬å—ï¼Œåœ¨ä¸»è¿è¡Œè„šæœ¬ä¹‹å‰æ‰§è¡Œçš„è„šæœ¬</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>
pre-start script
    exec rm /root/upstart.txt
    exec echo pre-start &gt;&gt; /root/upstart.txt
end script
</code></pre>
<p><strong>post-start: è„šæœ¬å—ï¼Œåœ¨ä¸»è¿è¡Œè„šæœ¬ä¹‹åï¼ŒrunningçŠ¶æ€ä¹‹å‰</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>
post-start script
    exec echo post-start &gt;&gt; /root/upstart.txt
end script
</code></pre>
<p><strong>pre-stop: è„šæœ¬å—ï¼Œåœ¨æ‰§è¡Œstopä¹‹å‰</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>
pre-stop script
    exec echo pre-stop &gt;&gt; /root/upstart.txt
end script
</code></pre>
<p><strong>post-stop: è„šæœ¬å—ï¼Œåœ¨ä¸»è¿è¡Œè„šæœ¬è¢«æ€æ­»ä¹‹å</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>
post-stop script
    exec echo post-stop &gt;&gt; /root/upstart.txt
end script
</code></pre>
<p><strong>start on: äº‹ä»¶ï¼Œå¯åŠ¨ä»»åŠ¡</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>start on startup</code></pre>
<p><strong>stop on: äº‹ä»¶ï¼Œåœæ­¢ä»»åŠ¡</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>stop on suhtdown</code></pre>
<p><strong>description: æè¿°ï¼Œä¿¡æ¯æç¤º</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>description "This is a upstart testing."</code></pre>
<p><strong>author: æè¿°ï¼Œä½œè€…ä¿¡æ¯</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>author "Conan_Z &lt;bsspirit@gmail.com&gt;"</code></pre>
<p><strong>version: æè¿°ï¼Œç‰ˆæœ¬ä¿¡æ¯</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>version "0.0.1 dev"</code></pre>
<p><strong>respawn: å‘½ä»¤ï¼Œè®¾ç½®æœåŠ¡å¼‚å¸¸åœæ­¢åè‡ªåŠ¨é‡å¯</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>respawn</code></pre>
<p><strong>respawn limit: å‘½ä»¤ï¼Œè®¾ç½®æœåŠ¡å¼‚å¸¸åœæ­¢åé‡å¯æ¬¡æ•°åŠé—´éš”æ—¶é—´</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>respawn limit 15 3</code></pre>
<p><strong>service: å‘½ä»¤ï¼Œ0.6ç‰ˆæœ¬åä¸å†ä½¿ç”¨ï¼Œè¢«respawnå–ä»£</strong></p>
<p><strong>instance: å®šä¹‰å®ä¾‹åå­—ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ç»™ä»»åŠ¡ä¼ å‚æ•°</strong><br>
è¯­æ³•ï¼š</p>
<pre><code>
instance $TTY
exec /sbin/getty -8 38300 $TTY

#é€šè¿‡å‘½ä»¤ä¼ å‚æ•°
~ start mytest $TTY=tty1
</code></pre>
<p><strong>daemon: ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹çš„æ ‡å¿—ï¼Œ0.5.0ç‰ˆæœ¬åè¢«expect forkå–ä»£</strong></p>
<p><strong>kill timeout: å‘½ä»¤ï¼Œåœ¨åˆ°è¾¾æŒ‡å®šæ—¶é—´åï¼Œåœæ­¢åº”ç”¨</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>kill timeout 5</code></pre>
<p><strong>kill timeout: å‘½ä»¤ï¼Œæ­£å¸¸é€€å‡ºï¼Œä¸ä¼šè¢«respawné‡å¯</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>normal exit 0 TERM</code></pre>
<p><strong>console: å‘½ä»¤ï¼Œæ§åˆ¶åè¾“å‡ºï¼Œæ”¯æŒ4ç§æ“ä½œlogged|output|owner|none</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>console owner</code></pre>
<p><strong>env: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„ç¯å¢ƒå˜é‡</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>env PIDFILE=/var/run/myprocess.pid</code></pre>
<p><strong>umask: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„æ–‡ä»¶æƒé™çš„æ©ç </strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>umask 0755</code></pre>
<p><strong>nice: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„è°ƒåº¦ä¼˜å…ˆçº§</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>nice -5</code></pre>
<p><strong>limit: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„èµ„æºé™åˆ¶</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>limit nproc 10 10</code></pre>
<p><strong>chroot: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„æ ¹ç›®å½•</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>chroot /var/lib/www/jail</code></pre>
<p><strong>chdir: å˜é‡ï¼Œè®¾ç½®ä»»åŠ¡çš„å·¥ä½œç›®å½•</strong></p>
<p>è¯­æ³•ï¼š</p>
<pre><code>chdir /var/tmp</code></pre>
<h2>3. upstartå‘½ä»¤ä»‹ç»</h2>
<p><a href="http://blog.fens.me/wp-content/uploads/2013/06/upstart-cmd.png"><img alt="upstart-cmd" src="upstart-cmd.png" width="685" height="456"></a></p>
<p>æŸ¥çœ‹upstartç‰ˆæœ¬</p>
<pre><code>~ initctl version
init (upstart 1.5)
</code></pre>
<p>æŸ¥çœ‹myteståº”ç”¨çŠ¶æ€</p>
<pre><code>#æ–¹æ³•1
~ initctl list|grep mytest
#æ–¹æ³•2
~ status mytest
</code></pre>
<p>å¯åŠ¨myteståº”ç”¨</p>
<pre><code>#æ–¹æ³•1ï¼š
~ initctl start mytest
#æ–¹æ³•2
~ start mytest
</code></pre>
<p>åœæ­¢myteståº”ç”¨</p>
<pre><code>#æ–¹æ³•1ï¼š
~ initctl stop mytest
#æ–¹æ³•2
~ stop mytest
</code></pre>
<h2>4. upstartå°è£…mytest</h2>
<p>ç”¨upstartå†™ä¸€ä¸ªç®€å•çš„åº”ç”¨è„šæœ¬ã€‚</p>
<pre><code>~ vi /etc/init/mytest.conf

description "mytest"
author "bsspirit &lt;http://blog.fens.me&gt;"

env var=bar
export var

start on startup
stop on shutdown

respawn
respawn limit 2 5

console output

pre-start script
        logger "pre-start: before: var=$var"
        var=pre-start
        export var
        logger "pre-start: after: var=$var"
end script

post-start script
        logger "post-start: before: var=$var"
        var=post-start
        export var
        logger "post-start: after: var=$var"
end script

script
        logger "script: before: var=$var"
        var=main
        export var
        sleep 60000
        logger "script: after: var=$var"
end script

post-stop script
        logger "post-stop: before: var=$var"
        var=post-stop
        export var
        logger "post-stop: after: var=$var"
end script
</code></pre>
<p>&nbsp;</p>
<p><strong>æµ‹è¯•mytestç¨‹åºï¼š</strong></p>
<p>å¯åŠ¨mytestä»»åŠ¡</p>
<pre><code>
~ start mytest
mytest start/running, process 20682
</code></pre>
<p>æŸ¥çœ‹æ—¥å¿—è·Ÿè¸ªè¿è¡ŒçŠ¶æ€</p>
<pre><code>
~ tail -f /var/log/syslog

Jun 21 08:11:21 li478-194 logger: pre-start: before: var=bar
Jun 21 08:11:21 li478-194 logger: pre-start: after: var=pre-start
Jun 21 08:11:21 li478-194 logger: script: before: var=bar
Jun 21 08:11:21 li478-194 logger: post-start: before: var=bar
Jun 21 08:11:21 li478-194 logger: post-start: after: var=post-start
</code></pre>
<p>æŸ¥çœ‹mytestä»»åŠ¡çŠ¶æ€</p>
<pre><code>
~ status mytest
mytest start/running, process 20682
</code></pre>
<p>æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹ï¼Œå› ä¸ºåœ¨ç¨‹åºä¸­ç”¨sleepåœæ­¢ï¼Œè¦é€šè¿‡sleepæŸ¥è¯¢</p>
<pre><code>
~ ps -aux|grep sleep

root     20686  0.0  0.0   4304   352 ?        S    08:11   0:00 sleep 60000
</code></pre>
<p>æ€æ‰sleepè¿›ç¨‹ï¼Œmytestè‡ªåŠ¨é‡å¯</p>
<pre><code>
~ kill -9 20686
~ ps -aux|grep sleep
root     20703  0.0  0.0   4304   344 ?        S    08:14   0:00 sleep 60000

~ /var/log/syslog
Jun 21 08:15:59 li478-194 logger: post-stop: before: var=bar
Jun 21 08:15:59 li478-194 logger: post-stop: after: var=post-stop
Jun 21 08:15:59 li478-194 logger: pre-start: before: var=bar
Jun 21 08:15:59 li478-194 logger: pre-start: after: var=pre-start
Jun 21 08:15:59 li478-194 logger: script: before: var=bar
Jun 21 08:15:59 li478-194 logger: post-start: before: var=bar
Jun 21 08:15:59 li478-194 logger: post-start: after: var=post-start
</code></pre>
<p>åœæ­¢mytest</p>
<pre><code>
~ stop mytest
mytest stop/waiting

~ /var/log/syslog
Jun 21 08:16:49 li478-194 logger: post-stop: before: var=bar
Jun 21 08:16:49 li478-194 logger: post-stop: after: var=post-stop

~ ps -aux|grep sleep
</code></pre>
<p>é€šè¿‡å‘½ä»¤ä¼ å‚æ•°ï¼Œå¯åŠ¨mytest</p>
<pre><code>
~ start mytest var=conan
mytest start/running, process 20735

~ /var/log/syslog
Jun 21 08:18:51 li478-194 logger: pre-start: before: var=conan
Jun 21 08:18:51 li478-194 logger: pre-start: after: var=pre-start
Jun 21 08:18:51 li478-194 logger: script: before: var=conan
Jun 21 08:18:51 li478-194 logger: post-start: before: var=conan
Jun 21 08:18:51 li478-194 logger: post-start: after: var=post-start
</code></pre>
<p>ä¸åŒå‚æ•°ï¼Œå†æ¬¡å¯åŠ¨mytest</p>
<pre><code>
~ start mytest var=bsspirit
start: Job is already running: mytest
</code></pre>
<p>å¯åŠ¨å·²ç»å¯åŠ¨ï¼Œç¦æ­¢åº”ç”¨å¤šæ¬¡å¯åŠ¨ã€‚<br>
å®éªŒæˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ©ç”¨upstartï¼Œæ¥å°è£…æˆ‘ä»¬è‡ªå·±çš„åº”ç”¨æˆä¸ºç³»ç»ŸæœåŠ¡ã€‚</p>
<p>ä¸‹é¢å°†ä»‹ç»åŒä¸ªè½¯ä»¶ä½¿ç”¨upstartçš„ä¾‹å­ã€‚</p>
<h2>5. upstartå°è£…Nginx</h2>
<p>Nginxå®˜æ–¹é…ç½®ï¼šhttp://wiki.nginx.org/Upstart</p>
<p>å¢åŠ é…ç½®æ–‡ä»¶</p>
<pre><code>
~ vi /etc/init/nginx

# nginx

description "nginx http daemon"
author "George Shammas &lt;georgyo@gmail.com&gt;"

start on (filesystem and net-device-up IFACE=lo)
stop on runlevel [!2345]

env DAEMON=/usr/sbin/nginx
env PID=/var/run/nginx.pid

expect fork
respawn
respawn limit 10 5
#oom never

pre-start script
        $DAEMON -t
        if [ $? -ne 0 ]
                then exit $?
        fi
end script

exec $DAEMON
</code></pre>
<p>æŸ¥çœ‹nginxçš„ç³»ç»ŸçŠ¶æ€</p>
<pre><code>
~ initctl list | grep nginx
</code></pre>
<p>å¯åŠ¨nginx</p>
<pre><code>
~ initctl start nginx</code></pre>
<h2>6. upstartå°è£…MySQL</h2>
<p>æŸ¥çœ‹upstarté…ç½®æ–‡ä»¶ï¼ŒæŠŠMySQLå˜ä¸ºç³»ç»ŸæœåŠ¡.</p>
<pre><code>
~ vi /etc/init/mysql.conf

description     "MySQL Server"
author          "Mario Limonciello &lt;superm1@ubuntu.com&gt;"

start on runlevel [2345]
stop on starting rc RUNLEVEL=[016]

respawn
respawn limit 2 5

env HOME=/etc/mysql
umask 007

# The default of 5 seconds is too low for mysql which needs to flush buffers
kill timeout 300

pre-start script
    #Sanity checks
    [ -r $HOME/my.cnf ]
    [ -d /var/run/mysqld ] || install -m 755 -o mysql -g root -d /var/run/mysqld
    /lib/init/apparmor-profile-load usr.sbin.mysqld
    LC_ALL=C BLOCKSIZE= df --portability /var/lib/mysql/. | tail -n 1 | awk '{ exit ($4&lt;4096) }'
end script

exec /usr/sbin/mysqld

post-start script
   for i in `seq 1 30` ; do
        /usr/bin/mysqladmin --defaults-file="${HOME}"/debian.cnf ping &amp;&amp; {
            exec "${HOME}"/debian-start
            # should not reach this line
            exit 2
        }
        statusnow=`status`
        if echo $statusnow | grep -q 'stop/' ; then
            exit 0
        elif echo $statusnow | grep -q 'respawn/' ; then
            exit 1
        fi
        sleep 1
    done
    exit 1
end script
</code></pre>
<h2>7. upstartå°è£…ssh</h2>
<pre><code>
~ vi /etc/init/ssh.conf

# ssh - OpenBSD Secure Shell server
#
# The OpenSSH server provides secure shell access to the system.

description     "OpenSSH server"

start on filesystem or runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5
umask 022

# 'sshd -D' leaks stderr and confuses things in conjunction with 'console log'
console none

pre-start script
    test -x /usr/sbin/sshd || { stop; exit 0; }
    test -e /etc/ssh/sshd_not_to_be_run &amp;&amp; { stop; exit 0; }
    test -c /dev/null || { stop; exit 0; }

    mkdir -p -m0755 /var/run/sshd
end script

# if you used to set SSHD_OPTS in /etc/default/ssh, you can change the
# 'exec' line here instead
exec /usr/sbin/sshd -D
</code></pre>
<p>æˆ‘åœ¨è¿™é‡Œä»‹ç»çš„å†…å®¹è¿˜å¾ˆåˆçº§ï¼Œåªè¦ä¼šå†™ä»»åŠ¡è„šæ­¥å°±å¯ä»¥äº†ã€‚<br>
åé¢æ–‡ç« æˆ‘ä¼šä»‹ç»upstartå°è£…<a title="upstartå°è£…nodejsåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡" href="http://blog.fens.me/linux-upstart-nodejs/" target="_blank">nodejs</a>ï¼Œ<a title="upstartå°è£…mongodbåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡" href="http://blog.fens.me/linux-upstart-mongodb/" target="_blank">mongodb</a>ï¼Œ<a title="upstartå°è£…phpåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡" href="http://blog.fens.me/linux-upstart-mongodb/" target="_blank">php</a>ï¼Œjavaç­‰çš„åº”ç”¨çš„ä»»åŠ¡è„šæœ¬ã€‚</p>
<p>&nbsp;</p>
<p><strong>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š</strong><br>
<a title="upstartæŠŠåº”ç”¨å°è£…æˆç³»ç»ŸæœåŠ¡" href="#">http://blog.fens.me/linux-upstart/</a></p>
<p><img src="pay50.png" alt="æ‰“èµä½œè€…" class="alignnone size-full wp-image-8388" width="600" height="400"></p>
              <div class="clear"></div>
                            <p class="inner-meta">This entry was posted in <a href="http://blog.fens.me/category/%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f/" rel="category tag">æ“ä½œç³»ç»Ÿ</a></p>              
            </div>
            <!-- å¹¿å‘Š -->
            <div style="margin: 10px 0px; color: rgb(67, 67, 67);" id="ads"><h2 style="border-bottom: 2px solid rgb(247, 247, 248); padding-bottom: 10px; margin-bottom: 10px;">èµåŠ©å•†å¹¿å‘Š(<a href="http://blog.fens.me/ad/" target="_blank">è´­ä¹°</a>)</h2><a href="http://online.zhufengpeixun.cn/customize/node/index.html" target="_blank" ref="nofollow"><img title="ç å³°åŸ¹è®­" src="01.jpg"></a></div>        
            <div class="post comments" id="comments">              
                
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="post pingback">
        <p>Pingback: <a href="http://blog.fens.me/linux-upstart-nodejs/" rel="external nofollow" class="url">upstartå°è£…nodejsåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡ | ç²‰ä¸æ—¥å¿—</a>()</p>
    </li>
    <!-- #comment-## -->
    <li class="post pingback">
        <p>Pingback: <a href="http://blog.fens.me/linux-upstart-mongodb/" rel="external nofollow" class="url">upstartå°è£…mongodbåº”ç”¨ä¸ºç³»ç»ŸæœåŠ¡ | ç²‰ä¸æ—¥å¿—</a>()</p>
    </li>
    <!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-1364">
        <div id="dsq-comment-header-1364" class="dsq-comment-header">
            <cite id="dsq-cite-1364">
                <span id="dsq-author-user-1364">Boooo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1364" class="dsq-comment-body">
            <div id="dsq-comment-message-1364" class="dsq-comment-message"><p>ä¸ºä½•ä¼šæç¤ºstart:æœªçŸ¥ä»»åŠ¡: mytest</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-1365">
        <div id="dsq-comment-header-1365" class="dsq-comment-header">
            <cite id="dsq-cite-1365">
                <a id="dsq-author-user-1365" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1365" class="dsq-comment-body">
            <div id="dsq-comment-message-1365" class="dsq-comment-message"><p>mytestæ˜¯è‡ªå·²å»ºçš„ï¼Œæ”¾åœ¨è¿™é‡Œ/etc/init/mytest.conf</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-2248">
        <div id="dsq-comment-header-2248" class="dsq-comment-header">
            <cite id="dsq-cite-2248">
                <span id="dsq-author-user-2248">Elvis Macak</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2248" class="dsq-comment-body">
            <div id="dsq-comment-message-2248" class="dsq-comment-message"><p>å†™å¾—ä¸é”™</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-2468">
        <div id="dsq-comment-header-2468" class="dsq-comment-header">
            <cite id="dsq-cite-2468">
                <span id="dsq-author-user-2468">will</span>
            </cite>
        </div>
        <div id="dsq-comment-body-2468" class="dsq-comment-body">
            <div id="dsq-comment-message-2468" class="dsq-comment-message"><p>å¦‚ä½•ä½¿ç”¨upstartç®¡ç†å¼€æœºå¯åŠ¨çš„æœåŠ¡ï¼Ÿä¿®æ”¹etc/initä¸‹çš„confæ–‡ä»¶å—ï¼Ÿ</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-2470">
        <div id="dsq-comment-header-2470" class="dsq-comment-header">
            <cite id="dsq-cite-2470">
                <a id="dsq-author-user-2470" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-2470" class="dsq-comment-body">
            <div id="dsq-comment-message-2470" class="dsq-comment-message"><p>æŠŠè¦å¯åŠ¨çš„æœåŠ¡å¯¹åº”ä¸€ä¸ªupstartçš„æ–‡ä»¶å°±è¡Œäº†ï¼Œé€šè¿‡start onè®¾ç½®å¼€æœºå¯åŠ¨ã€‚<br>
start on filesystem or runlevel [2345]</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-3278">
        <div id="dsq-comment-header-3278" class="dsq-comment-header">
            <cite id="dsq-cite-3278">
                <a id="dsq-author-user-3278" href="http://www.jayxu.com/" target="_blank" rel="nofollow">Jay Xu</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3278" class="dsq-comment-body">
            <div id="dsq-comment-message-3278" class="dsq-comment-message"><p>ä»Šå¤©ä»ç™¾åº¦æœç´¢ubuntuä¸‹çš„serviceæ‰¾åˆ°è¿™é‡Œï¼Œæˆ‘è¯´æ€ä¹ˆè¿™ä¹ˆæœ‰è´¨é‡çš„åšå®¢å‘¢ï¼ŒåŸæ¥æ˜¯ä½ çš„â€¦â€¦</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-3282">
        <div id="dsq-comment-header-3282" class="dsq-comment-header">
            <cite id="dsq-cite-3282">
                <a id="dsq-author-user-3282" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3282" class="dsq-comment-body">
            <div id="dsq-comment-message-3282" class="dsq-comment-message"><p>è¿‡å¥–ï¼Œå“ˆå“ˆã€‚<br>
çœ‹æ¥è¿™ä¹ˆå¤šå¹´ï¼Œè¿˜æ˜¯ä¸€ç›´åšæŠ€æœ¯å‘¢ï¼Œåˆç¢°ä¸Šäº†ã€‚</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-3859">
        <div id="dsq-comment-header-3859" class="dsq-comment-header">
            <cite id="dsq-cite-3859">
                <span id="dsq-author-user-3859">ppcelery</span>
            </cite>
        </div>
        <div id="dsq-comment-body-3859" class="dsq-comment-body">
            <div id="dsq-comment-message-3859" class="dsq-comment-message"><p>èµï¼</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-2" id="dsq-comment-3885">
        <div id="dsq-comment-header-3885" class="dsq-comment-header">
            <cite id="dsq-cite-3885">
                <a id="dsq-author-user-3885" href="http://blog.fens.me/" target="_blank" rel="nofollow">Conan Zhang</a>
            </cite>
        </div>
        <div id="dsq-comment-body-3885" class="dsq-comment-body">
            <div id="dsq-comment-message-3885" class="dsq-comment-message"><p><img src="1f642.png" alt="ğŸ™‚" class="emoji" draggable="false"></p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
            </ul>


        </div>

    </div>



            </div>
          </div>
       </div>
    
</div> <!-- END Narrowcolumn -->

<div id="sidebar" class="profile">
 <ul>
<li id="widget_nav_menu" class="widget png_scale"><h2 class="blocktitle"><span>ç«™å†…å¯¼èˆª</span></h2><div class="menu-menu-1-container"><ul id="menu-menu-1" class="menu"><li id="menu-item-2328" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2328"><a href="http://blog.fens.me/series-r/">Rçš„æå®¢ç†æƒ³ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2329" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2329"><a href="http://blog.fens.me/series-nodejs/">ä»é›¶å¼€å§‹nodejsç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2338" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2338"><a href="http://blog.fens.me/series-it-finance/">ç”¨ITæŠ€æœ¯ç©é‡‘èç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-6505" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6505"><a href="http://blog.fens.me/series-meeting/">è·¨ç•ŒçŸ¥è¯†èšä¼šç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2339"><a href="http://blog.fens.me/series-hadoop-family/">Hadoopå®¶æ—ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2337"><a href="http://blog.fens.me/series-angular/">AngularJSä½“éªŒå¼ç¼–ç¨‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2331"><a href="http://blog.fens.me/series-rhadoop/">RHadoopå®è·µç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2330" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2330"><a href="http://blog.fens.me/series-java/">æ— æ‰€ä¸èƒ½çš„Javaç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2336"><a href="http://blog.fens.me/series-ubuntu/">ubuntuå®ç”¨å·¥å…·ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2332" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2332"><a href="http://blog.fens.me/series-r-nosql/">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2334" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2334"><a href="http://blog.fens.me/series-mongodb/">MongoDBéƒ¨ç½²å®éªŒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2335" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2335"><a href="http://blog.fens.me/series-hadoop-cloud/">è®©Hadoopè·‘åœ¨äº‘ç«¯ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2333"><a href="http://blog.fens.me/series-vps/">è‡ªå·±æ­å»ºVPSç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-5469" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5469"><a href="http://blog.fens.me/series-architect/">æ¶æ„å¸ˆçš„ä¿¡ä»°ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-4163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4163"><a href="http://blog.fens.me/series-algorithm/">ç®—æ³•ä¸ºç‹ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8189"><a href="http://blog.fens.me/series-seo/">æˆ‘çš„åšå®¢æˆ‘çš„SEOç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-2340" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2340"><a href="http://blog.fens.me/series-visualisation/">åˆ›é€ å¯è§†åŒ–ç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-7694" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7694"><a href="http://blog.fens.me/series-startup/">åˆ›ä¸šè€…çš„å›§å¢ƒç³»åˆ—æ–‡ç« </a></li>
<li id="menu-item-8842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8842"><a href="http://blog.fens.me/tasks/">å†™ä½œè®¡åˆ’åˆ—è¡¨</a></li>
<li id="menu-item-2342" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2342"><a href="http://blog.fens.me/about/">å…³äºç«™é•¿</a></li>
<li id="menu-item-8175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8175"><a href="http://blog.fens.me/ad/">æŠ•æ”¾å¹¿å‘Š</a></li>
</ul></div></li><li id="widget_recent_comments" class="widget png_scale"><h2 class="blocktitle"><span>æœ€æ–°è¯„è®º</span></h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/" rel="external nofollow" class="url">Conan Zhang</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5323">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/" rel="external nofollow" class="url">Conan Zhang</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5322">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link">Francis Tsai</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5320">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link">é»ƒå† å„’</span> on <a href="http://blog.fens.me/nodejs-async/#comment-5319">Nodejså¼‚æ­¥æµç¨‹æ§åˆ¶Async</a></li><li class="recentcomments"><span class="comment-author-link">taipeialpha</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5318">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/" rel="external nofollow" class="url">Conan Zhang</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5316">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/" rel="external nofollow" class="url">Conan Zhang</a></span> on <a href="http://blog.fens.me/ubuntu-vpn-pptp/#comment-5315">åœ¨Ubuntuä¸Šå®‰è£…PPTP VPNæœåŠ¡</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/" rel="external nofollow" class="url">Conan Zhang</a></span> on <a href="http://blog.fens.me/ubuntu-vpn-pptp/#comment-5314">åœ¨Ubuntuä¸Šå®‰è£…PPTP VPNæœåŠ¡</a></li><li class="recentcomments"><span class="comment-author-link">taipeialpha</span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5312">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link">xiao jinhua</span> on <a href="http://blog.fens.me/ubuntu-vpn-pptp/#comment-5311">åœ¨Ubuntuä¸Šå®‰è£…PPTP VPNæœåŠ¡</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/nosql-r-cassandra/" rel="external nofollow" class="url">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç«  ä¹‹ Cassandra | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/rhadoop-hbase-rhase/#comment-5309">RHadoopå®è·µç³»åˆ—ä¹‹å›› rhbaseå®‰è£…ä¸ä½¿ç”¨</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/nosql-r-redis/" rel="external nofollow" class="url">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç«  ä¹‹ Redis | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/rhadoop-hbase-rhase/#comment-5308">RHadoopå®è·µç³»åˆ—ä¹‹å›› rhbaseå®‰è£…ä¸ä½¿ç”¨</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/nosql-r-hive/" rel="external nofollow" class="url">Råˆ©å‰‘NoSQLç³»åˆ—æ–‡ç«  ä¹‹ Hive | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/rhadoop-hbase-rhase/#comment-5307">RHadoopå®è·µç³»åˆ—ä¹‹å›› rhbaseå®‰è£…ä¸ä½¿ç”¨</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/r-quant-packages/" rel="external nofollow" class="url">Rè¯­è¨€é‡åŒ–æŠ•èµ„å¸¸ç”¨åŒ…æ€»ç»“ | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/finance-pairs-trading/#comment-5306">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a></li><li class="recentcomments"><span class="comment-author-link"><a href="http://blog.fens.me/r-quant-packages/" rel="external nofollow" class="url">Rè¯­è¨€é‡åŒ–æŠ•èµ„å¸¸ç”¨åŒ…æ€»ç»“ | ç²‰ä¸æ—¥å¿—</a></span> on <a href="http://blog.fens.me/r-zoo/#comment-5305">Rè¯­è¨€æ—¶é—´åºåˆ—åŸºç¡€åº“zoo</a></li></ul></li>		<li id="widget_recent_entries" class="widget png_scale">		<h2 class="blocktitle"><span>æœ€æ–°æ–‡ç« </span></h2>		<ul>
					<li>
				<a href="http://blog.fens.me/r-quant-packages/">Rè¯­è¨€é‡åŒ–æŠ•èµ„å¸¸ç”¨åŒ…æ€»ç»“</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-cpp-rcpp/">Rè¯­è¨€è·¨ç•Œè°ƒç”¨C++</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-multi-linear-regression/">Rè¯­è¨€è§£è¯»å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-linear-regression/">Rè¯­è¨€è§£è¯»ä¸€å…ƒçº¿æ€§å›å½’æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-word-jiebar/">Rè¯­è¨€ä¸­æ–‡åˆ†è¯åŒ…jiebaR</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-hellobi-20160701/">2016å¤©å–„æ™ºèƒ½äº¤æµä¼šç¬¬22åœº: Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-finance/">Rè¯­è¨€ä¸ºé‡åŒ–è€Œç”Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-data-table/">è¶…é«˜æ€§èƒ½æ•°æ®å¤„ç†åŒ…data.table</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-apply/">æŒæ¡Rè¯­è¨€ä¸­çš„applyå‡½æ•°æ—</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-magrittr/">Rè¯­è¨€é«˜æ•ˆçš„ç®¡é“æ“ä½œmagrittr</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-stringr/">Rè¯­è¨€å­—ç¬¦ä¸²å¤„ç†åŒ…stringr</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-pairs-trading/">Rè¯­è¨€æ„å»ºé…å¯¹äº¤æ˜“é‡åŒ–æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-onbook-20151028/">å°šä¹¦è§†é¢‘ç¾¤æ´»åŠ¨:æŠ•èµ„åˆ†æå¸ˆç¬”è¯•é¢˜</a>
						</li>
					<li>
				<a href="http://blog.fens.me/nodejs-alexa/">æ„å»ºè‡ªå·±çš„AleaxæŸ¥è¯¢æœåŠ¡</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-martix-openblas/">OpenBlasè®©Rçš„çŸ©é˜µè®¡ç®—åŠ é€Ÿ</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-lopdev-20150922/">2015lopdevç”Ÿæ€è”ç›Ÿå¼€å‘è€…å¤§ä¼š:è‚¡å¸‚ä¸­çš„Rè¯­è¨€é‡åŒ–ç®—æ³•æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-cdas-20150912/">2015CDASä¸­å›½æ•°æ®åˆ†æå¸ˆè¡Œä¸šå³°ä¼š:Rè¯­è¨€é‡åŒ–æŠ•èµ„æ•°æ®åˆ†æåº”ç”¨</a>
						</li>
					<li>
				<a href="http://blog.fens.me/finance-chase-sell/">Rè¯­è¨€æ„å»ºè¿½æ¶¨æ€è·Œé‡åŒ–äº¤æ˜“æ¨¡å‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/r-book2/">å›¾ä¹¦å‡ºç‰ˆã€ŠRçš„æå®¢ç†æƒ³-é«˜çº§å¼€å‘ç¯‡ã€‹</a>
						</li>
					<li>
				<a href="http://blog.fens.me/meeting-wot-20150725/">2015WOTç§»åŠ¨äº’è”ç½‘å¼€å‘è€…å¤§ä¼š:è‚¡å¸‚ä¸­çš„Rè¯­è¨€é‡åŒ–ç®—æ³•æ¨¡å‹</a>
						</li>
				</ul>
		</li>		 
</ul></div>
<div class="clear"></div>

<div id="footer">
<div class="lt">Copyright Â© 2016 All rights reserved.</div>
<div class="rt">Designed by <img src="natty-logo.png" valign="3px" class="png" alt="NattyWP" width="82" align="middle" height="17"></div>		
<div class="clear"></div>			
</div>
    
</div>  
<div class="clear"></div>
</div><!-- END main wrapper -->

        
        <!-- Powered by WPtouch: 4.2.3 -->


 





</body>
</html>
