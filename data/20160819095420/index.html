<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"> <title>How To Setup Bridge (br0) Network on Ubuntu Linux 14.04 and 16.04 LTS</title><link rel="canonical" href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/"><link rel="alternate" type="application/rss+xml" title="nixCraft feed" href="http://www.cyberciti.biz/faq/feed/"><link rel="pingback" href="http://www.cyberciti.biz/faq/xmlrpc.php"><link rel="dns-prefetch" href="http://s.w.org/"><link rel="alternate" type="application/rss+xml" title="nixCraft » How To Setup Bridge (br0) Network on Ubuntu Linux 14.04 and 16.04 LTS Comments Feed" href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/feed/">   <link rel="https://api.w.org/" href="http://www.cyberciti.biz/faq/wp-json/"><link rel="alternate" type="application/json+oembed" href="http://www.cyberciti.biz/faq/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ffaq%2Fhow-to-create-bridge-interface-ubuntu-linux%2F"><link rel="alternate" type="text/xml+oembed" href="http://www.cyberciti.biz/faq/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ffaq%2Fhow-to-create-bridge-interface-ubuntu-linux%2F&amp;format=xml"><meta name="description" content="Explains how to bridge Ethernet connections on Ubuntu Linux using bridge-utils command line utility for LXC/Xen/Kvm containers. "><link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head><body class="template-single">  <div class="container"> <span class="menu_control">≡ Menu</span><ul id="menu-faq" class="menu"><li id="menu-item-145282" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145282"><a title="nixCraft – Home Page " href="http://www.cyberciti.biz/">Home</a></li><li id="menu-item-145280" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145280"><a title="About us" href="http://www.cyberciti.biz/tips/about-us">About</a></li><li id="menu-item-145283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145283"><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting TutoriaL</a></li><li id="menu-item-145281" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145281"><a title="Rss Feed" href="http://www.cyberciti.biz/nixcraft-rss-feed-syndication/">RSS/Feed</a></li></ul><div id="header" class="header"><div id="site_title"><a href="http://www.cyberciti.biz/faq">nixCraft</a></div><div id="site_tagline">Linux and Unix tutorials for new and seasoned sysadmin.</div></div><div class="columns"><div class="content"><div id="post-145495" class="post_box grt top" itemscope="" itemtype="http://schema.org/Article"><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/"><div class="headline_area"><h1 class="headline" itemprop="headline">How To Setup Bridge (br0) Network on Ubuntu Linux 14.04 and 16.04 LTS</h1><div class="byline small"> <span class="post_author_intro">by</span> <span class="post_author">Vivek Gite</span> <span class="post_date_intro">on</span> <span class="post_date" title="2016-07-01">July 1, 2016<span style="font-style: italic; text-transform: lowercase;"> last updated </span>July 13, 2016</span><div class="post_cats"> <span class="post_cats_intro">in</span> <a href="http://www.cyberciti.biz/faq/category/linux/" rel="category tag">Linux</a>, <a href="http://www.cyberciti.biz/faq/category/networking/" rel="category tag">Networking</a>, <a href="http://www.cyberciti.biz/faq/category/ubuntu-linux/" rel="category tag">Ubuntu Linux</a></div></div></div><div class="post_content"><p></p><div class="my_story"><a title="See all Ubuntu Linux related FAQ" href="http://www.cyberciti.biz/faq/category/ubuntu-linux/"><img src="ubuntu-logo.jpg" alt="" border="0"></a></div><span class="drop_cap">I</span> am a new Ubuntu Linux 16.04 LTS user. How do I setup  a network bridge on the host server powered by Ubuntu 14.04 LTS or 16.04 LTS operating system?<br> <span id="more-145495"></span><br> A Bridged networking is nothing but a simple technique to connect to the outside network through the physical interface. It is useful for LXC/KVM/Xen/Containers virtualization and other virtual interfaces. The virtual interfaces appear as regular hosts to the rest of the network. In this tutorial I will explain <strong>how to configure a Linux bridge with bridge-utils (brctl) command line utility on Ubuntu server</strong>.<p></p><center>  <ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2404767461"></ins> <p></p></center><p></p><h2>Our sample bridged networking</h2><p></p><div id="attachment_145496" style="width: 609px;" class="wp-caption aligncenter"><a href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/my-br0-br1-setup/" rel="attachment wp-att-145496"><img src="my-br0-br1-setup.jpg" alt="Fig.01: Sample Ubuntu Bridged Networking Setup For Kvm/Xen/LXC Containers (br0)" class="size-full wp-image-145496" srcset="my-br0-br1-setup.jpg 599w, my-br0-br1-setup-300x149.jpg 300w" sizes="(max-width: 599px) 100vw, 599px" width="599" height="298"></a><p class="wp-caption-text">Fig.01: Sample Ubuntu Bridged Networking Setup For Kvm/Xen/LXC Containers (br0)</p></div><br> In this example eth0 and eth1 is the physical network interface. eth0  connected to the LAN and eth1 is attached to the upstream ISP router/Internet.<p></p><h2>Install bridge-utils</h2><p>Type the following <a href="http://www.cyberciti.biz/tips/linux-debian-package-management-cheat-sheet.html" title="See Linux/Unix apt-get command examples for more info">apt-get command</a> to install the bridge-utils:<br> <code>$ sudo apt-get install bridge-utils</code><br> OR<br> <code>$ sudo apt install bridge-utils</code><br> Sample outputs:<br></p><div id="attachment_145497" style="width: 609px;" class="wp-caption aligncenter"><a href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/ubuntu-install-bridge-utils/" rel="attachment wp-att-145497"><img src="ubuntu-install-bridge-utils.jpg" alt="Fig.02: Ubuntu Linux install bridge-utils package" class="size-full wp-image-145497" srcset="ubuntu-install-bridge-utils.jpg 599w, ubuntu-install-bridge-utils-300x106.jpg 300w" sizes="(max-width: 599px) 100vw, 599px" width="599" height="212"></a><p class="wp-caption-text">Fig.02: Ubuntu Linux install bridge-utils package</p></div><p></p><h2>Creating a network bridge on the Ubuntu server</h2><p>Edit /etc/network/interfaces using a text editor such as nano or vi, enter:<br> <code>$ sudo cp /etc/network/interfaces /etc/network/interfaces.bakup-1-july-2016<br> $ sudo vi /etc/network/interfaces </code><br> Let us setup eth1 and map it to br1, enter (delete or comment out all eth1 entries):</p><pre># br1 setup with static wan IPv4 with ISP router as gateway
auto br1
iface br1 inet static
        address 208.43.222.51
        network 255.255.255.248
        netmask 255.255.255.0
        broadcast 208.43.222.55
        gateway 208.43.222.49
        bridge_ports eth1
        bridge_stp off
        bridge_fd 0
        bridge_maxwait 0
</pre><p>To setup eth0 and map it to br0, enter (delete or comment out all eth1 entries):</p><pre>auto br0
iface br0 inet static
        address 10.18.44.26
        netmask 255.255.255.192
        broadcast 10.18.44.63
        dns-nameservers 10.0.80.11 10.0.80.12
        # set static route for LAN
	post-up route add -net 10.0.0.0 netmask 255.0.0.0 gw 10.18.44.1
	post-up route add -net 161.26.0.0 netmask 255.255.0.0 gw 10.18.44.1
        bridge_ports eth0
        bridge_stp off
        bridge_fd 0
        bridge_maxwait 0</pre><h3>A note about br0 and DHCP</h3><p>DHCP config options:</p><pre>auto br0
iface br0 inet dhcp
        bridge_ports eth0
        bridge_stp off
        bridge_fd 0
        bridge_maxwait 0</pre><p>Save and close the file.</p><h3>Restart the server or networking service</h3><p>You need to reboot the server or type the following command to restart the networking service (this may not work on SSH based session):<br> <code>$ sudo systemctl restart networking</code><br> If you are using Ubuntu 14.04 LTS or older not systemd based system, enter:<br> <code>$ sudo /etc/init.d/restart networking</code></p><h3>Verify connectivity</h3><p>Use the ping/ip commands to verify that both LAN and WAN interfaces are reachable:<br> <code># See br0 and br1<br> <strong><kbd>ip a show</kbd></strong><br> # See routing info<br> <kbd><strong>ip r</strong></kbd><br> # ping public site<br> <kbd><strong>ping -c 2 cyberciti.biz</strong></kbd><br> # ping lan server<br> <kbd><strong>ping -c 2 10.0.80.12</strong></kbd></code><br> Sample outputs:<br></p><div id="attachment_145498" style="width: 609px;" class="wp-caption aligncenter"><a href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/br0-br1-eth0-eth1-configured-on-ubuntu/" rel="attachment wp-att-145498"><img src="br0-br1-eth0-eth1-configured-on-ubuntu.jpg" alt="Fig.03: Verify Bridging Ethernet Connections" class="size-full wp-image-145498" srcset="br0-br1-eth0-eth1-configured-on-ubuntu.jpg 599w, br0-br1-eth0-eth1-configured-on-ubuntu-262x300.jpg 262w" sizes="(max-width: 599px) 100vw, 599px" width="599" height="686"></a><p class="wp-caption-text">Fig.03: Verify Bridging Ethernet Connections</p></div><br> Now, you can configure XEN/KVM/LXC containers to use br0 and br1 to reach directly to the internet or private lan. No need to setup special routing or iptables SNAT rules.<p></p> <strong>Share this tutorial on:</strong><div class="nixcraft-social"><a class="nixcraft-link nixcraft-twitter" href="https://twitter.com/intent/tweet?text=How+To+Setup+Bridge+%28br0%29+Network+on+Ubuntu+Linux+14.04+and+16.04+LTS&amp;url=http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/&amp;via=nixcraft" title="Tweet this tutorial/page">Twitter</a><a class="nixcraft-link nixcraft-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/" title="Share this page/tutorial on Facebook">Facebook</a><a class="nixcraft-link nixcraft-googleplus" href="https://plus.google.com/share?url=http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/" title="Share this page/tutorial on Google+">Google+</a><a class="nixcraft-link nixcraft-pdf" href="http://www.cyberciti.biz/view/pdf/faq/145495.php" title="Download this tutorial/faq as a free pdf">Download PDF version </a><a class="nixcraft-link nixcraft-error" href="https://nixcraft.wufoo.com/forms/give-us-feedback-for-nixcraft/def/Field209=http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/&amp;Field211=How%20To%20Setup%20Bridge%20(br0)%20Network%20on%20Ubuntu%20Linux%2014.04%20and%2016.04%20LTS" target="_blank" title="Click here to report Typo/Grammar and other Incorrect information">Found an error/typo on this page?</a></div><br><div class="my_tutorial_series">This entry is <strong>5</strong> of <strong>7</strong> in the <a title="See table of contents for this series" href="#">Linux and Unix Network Bridging Tutorial</a> series. Keep reading the rest of the series:<ol><li><a href="http://www.cyberciti.biz/faq/debian-network-interfaces-bridge-eth0-eth1-eth2/" title="Debian Linux: Configure Network Interfaces As A Bridge / Network Switch">Debian Linux: Configure Network Interfaces As A Bridge / Network Switch</a></li><li><a href="http://www.cyberciti.biz/faq/setting-up-a-network-bridge-in-openbsd/" title="OpenBSD: Configure Network Interface As A Bridge / Network Switch">OpenBSD: Configure Network Interface As A Bridge / Network Switch</a></li><li><a href="http://www.cyberciti.biz/faq/how-to-pfsense-configure-network-interface-as-a-bridge-network-switch/" title="How To PFSense Configure Network Interface As A Bridge / Network Switch">How To PFSense Configure Network Interface As A Bridge / Network Switch</a></li><li><a href="http://www.cyberciti.biz/faq/freebsd-network-link-aggregation-trunking/" title="FreeBSD: NIC Bonding / Link Aggregation / Trunking  / Link Failover">FreeBSD: NIC Bonding / Link Aggregation / Trunking  / Link Failover</a></li><li><strong>Setup Bridge (br0) Network on Ubuntu Linux</strong></li><li><a href="http://www.cyberciti.biz/faq/ubuntu-setup-a-bonding-device-and-enslave-two-real-ethernet-devices/" title="Ubuntu setup a bonding device and enslave eth0+eth2">Ubuntu setup a bonding device and enslave eth0+eth2</a></li><li><a href="http://www.cyberciti.biz/faq/ubuntu-linux-bridging-and-bonding-setup/" title="Setup Bonded (bond0) and Bridged (br0) Networking On Ubuntu">Setup Bonded (bond0) and Bridged (br0) Networking On Ubuntu</a></li></ol></div><p></p><center>  <ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="9863511468" data-ad-format="autorelaxed"></ins>  </center></div></div><div id="comments"><div class="comments_intro"><span class="bracket">{</span> <span class="num_comments">1</span> comment… <a href="#commentform" rel="nofollow">add one</a> <span class="bracket">}</span></div><ul class="comment_list"><li class="comment even thread-even depth-1" id="comment-890026"><div class="comment_head"> <span class="comment_author">ThanksATon</span> <span class="comment_date">July 13, 2016, 3:14 pm</span></div><div class="comment_text grt" id="comment-body-890026"><p>Worked perfectly after setting my Juniper network switch configuration:</p><pre># set chassis aggregated-devices ethernet device-count {number} &lt;-- (This will be a number between 1 and 111.)
# set interfaces ae0 aggregated-ether-options link-speed 1g
# set interfaces ae0 aggregated-ether-options lacp active
# set interfaces ae0 aggregated-ether-options lacp periodic fast
# set interfaces ae0 unit 0 family ethernet-switching vlan members {vlan id}
# set interfaces ge-0/0/1 ether-options 802.3ad ae0 &lt;-- (Using 'ae0' for this example. Use the next available ae interface number.)
# set interfaces ge-0/0/2 ether-options 802.3ad ae0</pre><p>Thanks a ton.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/how-to-create-bridge-interface-ubuntu-linux/?replytocom=890026#commentform" aria-label="Reply to ThanksATon">Reply</a> <a class="comment_permalink" href="#comment-890026" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul><div id="commentform"><form method="post" action="http://www.cyberciti.biz/faq/wp-comments-post.php"> <a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display: none;">Cancel reply</a><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <label for="author">Name</label> <input id="author" class="input_text" name="author" value="" tabindex="1" type="text"></p><p id="comment_form_email"> <label for="email">Email</label> <input id="email" class="input_text" name="email" value="" tabindex="2" type="text"></p><p id="comment_form_comment"> <label for="comment">Comment</label><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><p id="comment_form_submit"> <input id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" type="submit"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="1daccd72f4" type="hidden"></p><p style="display: none;"></p><input name="comment_post_ID" value="145495" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></form><input id="ak_js" name="ak_js" value="1471571522168" type="hidden"></div> <br><div style="font-size: 85%;">&nbsp;&nbsp; Tagged with: <a href="http://www.cyberciti.biz/faq/tag/etcnetworkinterfaces/" rel="tag">/etc/network/interfaces</a>, <a href="http://www.cyberciti.biz/faq/tag/brctl-com/" rel="tag">brctl com</a>, <a href="http://www.cyberciti.biz/faq/tutorial-difficulty-level/intermediate/" rel="tag">Intermediate</a></div></div><div class="prev_next"><p class="next_post">Next FAQ: <a href="http://www.cyberciti.biz/faq/ubuntu-setup-a-bonding-device-and-enslave-two-real-ethernet-devices/" rel="next">Ubuntu setup a bonding device and enslave two real Ethernet devices</a></p><p class="previous_post">Previous FAQ: <a href="http://www.cyberciti.biz/faq/linux-determine-virtualization-technology-command/" rel="prev">How to determine Linux guest VM virtualization technology</a></p></div></div><div style="position: relative; overflow: visible; box-sizing: border-box; min-height: 1px;" class="sidebar"><div style="padding-top: 1px; padding-bottom: 1px; position: static;" class="theiaStickySidebar"><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><div id="bsap_1304534" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget search-form" id="thesis-search-widget-3"><form class="search_form" method="get" action="http://www.cyberciti.biz/faq"><p> <input class="input_text" id="s" name="s" value="To search, type and hit enter" type="text"> <input id="searchsubmit" value="Search" type="hidden"></p></form></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="3521177162"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Featured Articles:</p><div class="textwidget"><ul><li><a href="http://www.cyberciti.biz/open-source/30-cool-best-open-source-softwares-of-2013/">30 Cool Open Source Software I Discovered in 2013</a></li><li><a href="http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html">30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X</a></li><li><a href="http://www.cyberciti.biz/networking/nmap-command-examples-tutorials/">Top 30 Nmap Command Examples For Sys/Network Admins</a></li><li><a href="http://www.cyberciti.biz/tips/php-security-best-practices-tutorial.html">25 PHP Security Best Practices For Sys Admins</a></li><li><a href="http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html">20 Linux System Monitoring Tools Every SysAdmin Should Know</a></li><li><a href="http://www.cyberciti.biz/tips/linux-security.html">20 Linux Server Hardening Security Tips</a></li><li><a href="http://www.cyberciti.biz/tips/linux-iptables-examples.html">Linux: 20 Iptables Examples For New SysAdmins</a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html">Top 20 OpenSSH Server Best Security Practices </a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 20 Nginx WebServer Best Security Practices</a></li><li><a href="http://www.cyberciti.biz/tips/check-unix-linux-configuration-file-for-syntax-errors.html">20 Examples: Make Sure Unix / Linux Configuration Files Are Free From Syntax Errors</a></li><li><a href="http://www.cyberciti.biz/open-source/best-terminal-applications-for-linux-unix-macosx/">15 Greatest Open Source Terminal Applications Of 2012</a></li><li><a href="http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html">My 10 UNIX Command Line Mistakes</a></li><li><a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html">Top 10 Open Source Web-Based Project Management Software</a></li><li><a href="http://www.cyberciti.biz/tips/download-email-client-for-linux-mac-osx-windows.html">Top 5 Email Client For Linux, Mac OS X, and Windows Users</a></li><li><a href="http://www.cyberciti.biz/tips/linux-laptop.html">The Novice Guide To Buying A Linux Laptop</a></li></ul></div></div><div class="extendedwopts-show extendedwopts-desktop extendedwopts-md-center widget widget_text" id=""><div class="textwidget">  <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 1057px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="6636490668"></ins> </div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><p class="widget_title">Don’t Miss Any Linux Tips</p><div class="textwidget"><form style="border: 1px solid rgb(204, 204, 204); padding: 3px; text-align: center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><p>Get nixCraft in your inbox. It's free:</p><p><input value="Your email address" style="width: 140px;" name="email" type="text"></p><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"><input name="loc" value="en_US" type="hidden"><input value="Subscribe" type="submit"></form></div></div><div class="extendedwopts-show extendedwopts-desktop widget widget_text" id=""><div class="textwidget"><center> <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2272802261"></ins>  </center></div></div></div></div></div><div class="footer"> ©2000-2016 nixCraft. All rights reserved. <a href="http://www.cyberciti.biz/tips/privacy">Privacy</a> - <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> - <a href="http://www.cyberciti.biz/tips/contact-us">Questions or Comments</a></div></div><div data-theiastickysidebar-sidebarselector="&quot;#secondary, #sidebar, .sidebar, #primary&quot;" data-theiastickysidebar-options="{&quot;containerSelector&quot;:&quot;&quot;,&quot;additionalMarginTop&quot;:0,&quot;additionalMarginBottom&quot;:0,&quot;updateSidebarHeight&quot;:false,&quot;minWidth&quot;:0,&quot;sidebarBehavior&quot;:&quot;stick-to-bottom&quot;,&quot;disableOnResponsiveLayouts&quot;:true}"></div>








</body>
</html>
