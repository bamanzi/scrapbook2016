<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>在 Ubuntu 15.10 上为单个网卡设置多个 IP 地址-系统运维|Linux.中国-开源社区</title>
 
<meta name="keywords" content="在 Ubuntu 15.10 上为单个网卡设置多个 IP 地址">
<meta name="description" content="有时候你可能想在你的网卡上使用多个 IP 地址。遇到这种情况你会怎么办呢？买一个新的网卡并分配一个新的 IP？不，没有这个必要（至少在小型网络中）。现在我们可以在 Ubuntu 系统中为一个网卡分配多个 IP 地址。想知道怎么做到的？跟着我往下看，其实并不难。 这个方法也适用于 Debian 以及它的衍生版本。  临时添加 IP 地址 首先，让我们找到网卡的 IP 地址。在我的 Ubuntu 15.10 服务器版中，我只使用了一个网卡。 运行下面的命令找到 IP 地址： sudo ip addr  样例输出： 1: lo: LOOPBACK,UP,LOWER_UP mtu 65536 qdisc noqueue state ">
<meta name="copyright" content="2005-2015 Linux.cn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="applicable-device" content="pc,mobile">
<meta name="referrer" content="always">
<base href="">










<link rel="alternate" type="application/rss+xml" title="Linux.中国 - 开源社区 RSS" href="https://linux.cn/rss.xml">
<link rel="shortcut icon" href="favicon.ico" sizes="32x32">
<link rel="canonical" href="https://linux.cn/article-6847-1.html">

<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>

<body id="nv_portal" class="pg_view">
<div id="append_parent"></div><div id="ajaxwaitid"></div>
<div id="toptb" class="cl">
<div class="wp">
<div class="z"><a href="https://linux.cn/rss.xml" target="_blank">RSS</a><a href="https://linux.cn/tag/">TAG</a><a href="http://e.cn.miaozhen.com/r/k=2022193&amp;p=70nlR&amp;dx=0&amp;rt=2&amp;ns=__IP__&amp;ni=__IESID__&amp;v=__LOC__&amp;o=http://www-03.ibm.com/systems/cn/power/hardware/linux-lc.shtml?S_TACT=C4480D5W&amp;iio=psys&amp;cmp=c4480&amp;ct=c4480d5w&amp;cr=linux%E6%97%B6%E4%BB%A3&amp;cm=b&amp;csot=-&amp;ccy=-&amp;cpb=-&amp;cd=-&amp;cpg=psys&amp;cn=2q1" target="_blank" style="color: blue;">IBM Power Systems LC 服务器</a></div>
<div class="y">
<a href="https://linux.cn/aboutus.html">关于我们/aboutus</a><a href="https://linux.cn/business.html">广告合作/AD</a></div>
</div>
</div>


<div id="hd">
<div class="wp">
<div class="hdc cl"><h2 style="padding: 5px 20px 5px 0px;"><a href="https://linux.cn/" title="Linux.中国 - 开源社区"><img src="linuxcn_logo_230x80_ani2.gif" alt="Linux.中国 - 开源社区" border="0"></a></h2><div class="y">
<form method="post" autocomplete="off" id="lsform" action="https://linux.cn/member.php?mod=logging&amp;action=login&amp;loginsubmit=yes&amp;infloat=yes&amp;lssubmit=yes">
<div style="width: auto;" class="fastlg cl">
<span id="return_ls" style="display: none;"></span>
<div class="y pns">
<table cellpadding="0" cellspacing="0">
<tbody><tr>
<td><label for="ls_username">帐号</label></td>
<td><input name="username" id="ls_username" class="px vm xg1" value="用户名/Email" tabindex="901" type="text"></td>
<td class="fastlg_l"><label for="ls_cookietime"><input name="cookietime" id="ls_cookietime" class="pc" value="2592000" tabindex="903" type="checkbox">自动登录</label></td>
<td>&nbsp;<a>找回密码</a></td>
</tr>
<tr>
<td><label for="ls_password">密码</label></td>
<td><input name="password" id="ls_password" class="px vm" autocomplete="off" tabindex="902" type="password"></td>
<td class="fastlg_l"><button type="submit" class="pn vm" tabindex="904"><em>登录</em></button></td>
<td>&nbsp;<a href="https://linux.cn/member.php?mod=knight" class="xi2 xw1">骑士注册</a></td>
</tr>
</tbody></table>
<input name="quickforward" value="yes" type="hidden">
<input name="handlekey" value="ls" type="hidden">
</div>

<div class="fastlg_fm y" style="margin-right: 10px; padding-right: 10px;">
<p><a href="https://linux.cn/connect.php?mod=login&amp;op=init&amp;referer=portal.php%3Fmod%3Dview%26aid%3D6847%26page%3D1%26ref%3D%26utm_source%3Drss%26utm_medium%3Drss&amp;statfrom=login_simple"><img src="qq_login.gif" class="vm" alt="QQ登录"></a></p>
<p><a href="https://linux.cn/xwb.php?m=xwbAuth.login"><img src="sina_login.gif" class="vm" style="padding: 2px 0px;" alt="微博登录"></a></p>
</div>


</div>
</form>


</div>
<h2 style="padding: 5px 20px; float: right;">
<div class="linuxcnad">
    <div><a href="https://linux.cn/go/vsv" target="_blank"><img src="001150mvbjqojhgb8w1zqb.png" width="100%" border="0" height="80"></a></div></div>
</h2>
</div>
<div class="p_pop h_pop" id="mn_userapp_menu" style="display: none;"></div><div style="height: 33px;" id="topmenu_wrapper">
<div style="width: 1200px;" class="affix-top" id="topmenu">
<div id="nv">
<ul><li id="mn_N6666"><a href="https://linux.cn/" hidefocus="true" style="font-weight: bold;">首页</a></li><li initialized="true" id="mn_P3"><a href="https://linux.cn/tech/" hidefocus="true" style="color: rgb(255, 250, 229);">技术 ◆ 学习</a></li><li id="mn_P1"><a href="https://linux.cn/news/" hidefocus="true" style="color: rgb(255, 250, 229);">新闻 ◆ 快讯</a></li><li id="mn_P4"><a href="https://linux.cn/talk/" hidefocus="true" style="color: rgb(255, 250, 229);">观点 ◆ 热议</a></li><li initialized="true" id="mn_P8"><a href="https://linux.cn/share/" hidefocus="true" style="color: rgb(255, 250, 229);">软件 ◆ 分享</a></li><li id="mn_N9be8"><a href="https://linux.cn/forum/" hidefocus="true" target="_blank" style="color: cyan;">论坛</a></li><li id="mn_Ne749"><a href="https://linux.cn/forum.php?mod=post&amp;action=newthread&amp;fid=119" hidefocus="true" target="_blank" style="color: red;">投稿</a></li></ul>
</div>
<div id="mu" class="cl">
<ul initialized="true" class="cl floatmu" id="snav_mn_P3" style="position: absolute; z-index: 301; display: none;">
<li><a class=" hidefocus" href="https://linux.cn/tech/desktop/" hidefocus="true">桌面应用</a></li><li><a href="https://linux.cn/tech/sa/" hidefocus="true">系统运维</a></li><li><a href="https://linux.cn/tech/program/" hidefocus="true">软件开发</a></li></ul>
<ul initialized="true" class="cl floatmu" id="snav_mn_P8" style="position: absolute; z-index: 301; display: none;">
<li><a class="" href="https://linux.cn/share/distro/" hidefocus="true">Linux 发行版</a></li></ul>
<ul class="cl " id="snav_mn_N9be8" style="display: none;">
<li><a href="https://linux.cn/thread/" hidefocus="true" style="color: blue;">全部话题</a></li><li><a hidefocus="true" style="color: red;">发新帖</a></li><li><a hidefocus="true">|</a></li><li><a href="https://linux.cn/forum/news/" hidefocus="true">新闻杂谈</a></li><li><a href="https://linux.cn/forum/sa/" hidefocus="true">系统运维</a></li><li><a href="https://linux.cn/forum/program/" hidefocus="true">编程开发</a></li></ul>
<ul class="cl " id="snav_mn_N39f5" style="display: none;">
<li><a href="https://linux.cn/space.php" hidefocus="true">首页</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=home" hidefocus="true">动态</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=doing" hidefocus="true">记录</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=blog" hidefocus="true">博客</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=album" hidefocus="true">相册</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=favorite" hidefocus="true">收藏</a></li><li><a href="https://linux.cn/home.php?mod=space&amp;do=friend" hidefocus="true">好友</a></li><li><a href="https://linux.cn/home.php?mod=spacecp&amp;ac=invite" hidefocus="true">邀请</a></li></ul>
<ul class="cl " id="snav_mn_userapp" style="display: none;">
</ul>
</div></div>
</div>
<div id="scbar" class="cl">
<form id="scbar_form" method="post" autocomplete="off" action="https://linux.cn/search.php?searchsubmit=yes" target="_blank">
<input name="mod" id="scbar_mod" value="search" type="hidden">
<input name="formhash" value="33e11f09" type="hidden">
<input name="srchtype" value="title" type="hidden">
<input name="srhfid" value="0" type="hidden">
<input name="srhlocality" value="portal::view" type="hidden">
<table id="scbar_table" style="float: right;" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="scbar_icon_td"></td>
<td class="scbar_txt_td"><input placeholder="请注册后再搜索" class=" xg1" name="srchtxt" id="scbar_txt" value="请注册后再搜索" autocomplete="off" speech="" type="text"></td>
<td class="scbar_type_td"><a id="scbar_type" class="xg1" hidefocus="true">搜索</a></td>
<td class="scbar_btn_td"><button type="submit" name="searchsubmit" id="scbar_btn" sc="1" class="pn pnc" value="true"><strong class="xi2">搜索</strong></button></td>
<td class="scbar_hot_td">
<div id="scbar_hot">
</div>
</td>
</tr>
</tbody></table>
</form>
<span class="z titletext" style="padding: 0px 10px 0px 20px;">❏ <a href="http://locez.com/" target="_blank">Locez</a> 新手指南：</span>
<ul class="cl mutag z">
<li><a class="hidefocus" hidefocus="true" href="https://linux.cn/article-4130-1.html">下载 Linux »</a></li>
<li><a class="hidefocus" hidefocus="true" href="https://linux.cn/article-5893-1.html">安装 Linux »</a></li>
<li><a class="hidefocus" hidefocus="true" href="https://linux.cn/article-6042-1.html">安装软件 »</a></li>
<li><a class="hidefocus" hidefocus="true" href="https://linux.cn/article-6160-1.html">基础命令 »</a></li>

</ul>
</div>
<br class="clear">
<ul id="scbar_type_menu" class="p_pop" style="display: none;"><li><a rel="search">全站</a></li></ul>



</div>
</div>
<div id="wp" class="wp">
<!--[name]!portalcategory_viewtplname![/name]-->




<div class="linuxcnad">
    </div>
<div id="pt" class="bm cl">
<div class="z">
<a href="https://linux.cn/" class="nvhm" title="首页">Linux.中国 - 开源社区</a> <em>›</em><a href="https://linux.cn/tech/">技术 ◆ 学习</a><em>›</em>
<a href="https://linux.cn/tech/sa/">系统运维</a> <em>›</em>
查看内容
</div>
</div>

<div class="linuxcnad"></div>

<div class="wp">
<!--[diy=diy1]--><div id="diy1" class="area"></div><!--[/diy]-->
</div>
<div id="ct" class="ct2 wp cl">
<div class="mn">
<div class="linuxcnad">
    </div>
<div class="vw">
<div class="h hm">
<h1 class="ph" id="article_title">在 Ubuntu 15.10 上为单个网卡设置多个 IP 地址 </h1>
</div>
<div class="h">
<p class="copyright">
    	 
    		    			    			<span class="z textcut">编译自：<a href="http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/" target="_blank">http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/</a></span>
    			    		    		<span class="y">作者： SK</span>    		<br class="clear">
    	    	<span class="z">原创：<a href="http://lctt.github.io/" target="_blank">LCTT</a> <a href="https://linux.cn/article-6847-1.html" target="_blank">https://linux.cn/article-6847-1.html</a></span>
            			<span class="y">译者： ictlyh</span>    		<br class="clear">
    	    	<span class="z">本文地址：<a href="https://linux.cn/article-6847-1.html">https://linux.cn/article-6847-1.html</a></span>
    	<span class="y"><a href="https://linux.cn/article-6847-1.html?pr" class="print" title="打印"></a></span>
    	<br class="clear">
    	</p>
<p class="xg1">
2016-1-7 08:33&nbsp;&nbsp;&nbsp;
收藏: <em id="_favtimes">7</em>&nbsp;&nbsp;&nbsp;&nbsp;
</p>
</div>

<!--[diy=diysummarytop]--><div id="diysummarytop" class="area"></div><!--[/diy]-->


<!--[diy=diysummarybottom]--><div id="diysummarybottom" class="area"></div><!--[/diy]-->

<div class="d">

<!--[diy=diycontenttop]--><div id="diycontenttop" class="area"></div><!--[/diy]-->

<div id="article_content">
<div class="linuxcnad"></div>
<p>有时候你可能想在你的网卡上使用多个 IP 地址。遇到这种情况你会怎么办呢？买一个新的网卡并分配一个新的 IP？不，没有这个必要（至少在小型网络中）。现在我们可以在 Ubuntu 系统中为一个网卡分配多个 IP 地址。想知道怎么做到的？跟着我往下看，其实并不难。</p>
<p>这个方法也适用于 Debian 以及它的衍生版本。</p>
<p class="article_img"><img style="width: 734px; cursor: pointer;" src="223804s9mmmz1f22917qvk.jpg" alt=""></p>
<a target="_blank" rel="external nofollow" id="3_532" class="target-fix ext"></a><h3 id="toc_1">临时添加 IP 地址</h3>
<p>首先，让我们找到网卡的 IP 地址。在我的 Ubuntu 15.10 服务器版中，我只使用了一个网卡。</p>
<p>运行下面的命令找到 IP 地址：</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> addr</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="lit">1</span><span class="pun">:</span><span class="pln"> lo</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">LOOPBACK</span><span class="pun">,</span><span class="pln">UP</span><span class="pun">,</span><span class="pln">LOWER_UP</span><span class="pun">&gt;</span><span class="pln"> mtu </span><span class="lit">65536</span><span class="pln"> qdisc noqueue state UNKNOWN group </span><span class="kwd">default</span><span class="pln"> </span></code></li><li class="L1"><code><span class="kwd">link</span><span class="pun">/</span><span class="pln">loopback </span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> brd </span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span></code></li><li class="L2"><code><span class="pln">inet </span><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pun">/</span><span class="lit">8</span><span class="pln"> scope host lo</span></code></li><li class="L3"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L4"><code><span class="pln">inet6 </span><span class="pun">::</span><span class="lit">1</span><span class="pun">/</span><span class="lit">128</span><span class="pln"> scope host </span></code></li><li class="L5"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L6"><code><span class="lit">2</span><span class="pun">:</span><span class="pln"> enp0s3</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">BROADCAST</span><span class="pun">,</span><span class="pln">MULTICAST</span><span class="pun">,</span><span class="pln">UP</span><span class="pun">,</span><span class="pln">LOWER_UP</span><span class="pun">&gt;</span><span class="pln"> mtu </span><span class="lit">1500</span><span class="pln"> qdisc pfifo_fast state UP group </span><span class="kwd">default</span><span class="pln"> qlen </span><span class="lit">1000</span></code></li><li class="L7"><code><span class="kwd">link</span><span class="pun">/</span><span class="pln">ether </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4b</span><span class="pln"> brd ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span></code></li><li class="L8"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> brd </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> enp0s3</span></code></li><li class="L9"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L0"><code><span class="pln">inet6 fe80</span><span class="pun">::</span><span class="pln">a00</span><span class="pun">:</span><span class="lit">27ff</span><span class="pun">:</span><span class="pln">fe2a</span><span class="pun">:</span><span class="lit">34e</span><span class="pun">/</span><span class="lit">64</span><span class="pln"> scope </span><span class="kwd">link</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li></ol></pre>
<p>或</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ifconfig</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">enp0s3 </span><span class="typ">Link</span><span class="pln"> encap</span><span class="pun">:</span><span class="typ">Ethernet</span><span class="pln"> </span><span class="typ">HWaddr</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4b</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">inet addr</span><span class="pun">:</span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pln"> </span><span class="typ">Bcast</span><span class="pun">:</span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> </span><span class="typ">Mask</span><span class="pun">:</span><span class="lit">255.255</span><span class="pun">.</span><span class="lit">255.0</span></code></li><li class="L2"><code><span class="pln">inet6 addr</span><span class="pun">:</span><span class="pln"> fe80</span><span class="pun">::</span><span class="pln">a00</span><span class="pun">:</span><span class="lit">27ff</span><span class="pun">:</span><span class="pln">fe2a</span><span class="pun">:</span><span class="lit">34e</span><span class="pun">/</span><span class="lit">64</span><span class="pln"> </span><span class="typ">Scope</span><span class="pun">:</span><span class="typ">Link</span></code></li><li class="L3"><code><span class="pln">UP BROADCAST RUNNING MULTICAST MTU</span><span class="pun">:</span><span class="lit">1500</span><span class="pln"> </span><span class="typ">Metric</span><span class="pun">:</span><span class="lit">1</span></code></li><li class="L4"><code><span class="pln">RX packets</span><span class="pun">:</span><span class="lit">186</span><span class="pln"> errors</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> dropped</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> overruns</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> frame</span><span class="pun">:</span><span class="lit">0</span></code></li><li class="L5"><code><span class="pln">TX packets</span><span class="pun">:</span><span class="lit">70</span><span class="pln"> errors</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> dropped</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> overruns</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> carrier</span><span class="pun">:</span><span class="lit">0</span></code></li><li class="L6"><code><span class="pln">collisions</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> txqueuelen</span><span class="pun">:</span><span class="lit">1000</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">RX bytes</span><span class="pun">:</span><span class="lit">21872</span><span class="pln"> </span><span class="pun">(</span><span class="lit">21.8</span><span class="pln"> KB</span><span class="pun">)</span><span class="pln"> TX bytes</span><span class="pun">:</span><span class="lit">9666</span><span class="pln"> </span><span class="pun">(</span><span class="lit">9.6</span><span class="pln"> KB</span><span class="pun">)</span></code></li><li class="L8"><code><span class="pln">lo </span><span class="typ">Link</span><span class="pln"> encap</span><span class="pun">:</span><span class="typ">Local</span><span class="pln"> </span><span class="typ">Loopback</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">inet addr</span><span class="pun">:</span><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> </span><span class="typ">Mask</span><span class="pun">:</span><span class="lit">255.0</span><span class="pun">.</span><span class="lit">0.0</span></code></li><li class="L0"><code><span class="pln">inet6 addr</span><span class="pun">:</span><span class="pln"> </span><span class="pun">::</span><span class="lit">1</span><span class="pun">/</span><span class="lit">128</span><span class="pln"> </span><span class="typ">Scope</span><span class="pun">:</span><span class="typ">Host</span></code></li><li class="L1"><code><span class="pln">UP LOOPBACK RUNNING MTU</span><span class="pun">:</span><span class="lit">65536</span><span class="pln"> </span><span class="typ">Metric</span><span class="pun">:</span><span class="lit">1</span></code></li><li class="L2"><code><span class="pln">RX packets</span><span class="pun">:</span><span class="lit">217</span><span class="pln"> errors</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> dropped</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> overruns</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> frame</span><span class="pun">:</span><span class="lit">0</span></code></li><li class="L3"><code><span class="pln">TX packets</span><span class="pun">:</span><span class="lit">217</span><span class="pln"> errors</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> dropped</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> overruns</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> carrier</span><span class="pun">:</span><span class="lit">0</span></code></li><li class="L4"><code><span class="pln">collisions</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> txqueuelen</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">RX bytes</span><span class="pun">:</span><span class="lit">38793</span><span class="pln"> </span><span class="pun">(</span><span class="lit">38.7</span><span class="pln"> KB</span><span class="pun">)</span><span class="pln"> TX bytes</span><span class="pun">:</span><span class="lit">38793</span><span class="pln"> </span><span class="pun">(</span><span class="lit">38.7</span><span class="pln"> KB</span><span class="pun">)</span></code></li></ol></pre>
<p>正如你在上面输出中看到的，我的网卡名称是 <strong>enp0s3</strong>，它的 IP 地址是 <strong>192.168.1.103</strong>。</p>
<p>现在让我们来为网卡添加一个新的 IP 地址，例如说 <strong>192.168.1.104</strong>。</p>
<p>打开你的终端并运行下面的命令添加额外的 IP。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> addr add </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> dev enp0s3</span></code></li></ol></pre>
<p>用命令检查是否启用了新的 IP：</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> address show enp0s3</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="lit">2</span><span class="pun">:</span><span class="pln"> enp0s3</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">BROADCAST</span><span class="pun">,</span><span class="pln">MULTICAST</span><span class="pun">,</span><span class="pln">UP</span><span class="pun">,</span><span class="pln">LOWER_UP</span><span class="pun">&gt;</span><span class="pln"> mtu </span><span class="lit">1500</span><span class="pln"> qdisc pfifo_fast state UP group </span><span class="kwd">default</span><span class="pln"> qlen </span><span class="lit">1000</span></code></li><li class="L1"><code><span class="kwd">link</span><span class="pun">/</span><span class="pln">ether </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span><span class="pln"> brd ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span></code></li><li class="L2"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> brd </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> enp0s3</span></code></li><li class="L3"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L4"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> secondary enp0s3</span></code></li><li class="L5"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L6"><code><span class="pln">inet6 fe80</span><span class="pun">::</span><span class="pln">a00</span><span class="pun">:</span><span class="lit">27ff</span><span class="pun">:</span><span class="pln">fe2a</span><span class="pun">:</span><span class="lit">34e</span><span class="pun">/</span><span class="lit">64</span><span class="pln"> scope </span><span class="kwd">link</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li></ol></pre>
<p>类似地，你可以添加任意数量的 IP 地址，只要你想要。</p>
<p>让我们 ping 一下这个 IP 地址验证一下。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ping</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span></code></li></ol></pre>
<p><strong>样例输出</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">PING </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pln"> </span><span class="pun">(</span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">)</span><span class="pln"> </span><span class="lit">56</span><span class="pun">(</span><span class="lit">84</span><span class="pun">)</span><span class="pln"> bytes of data</span><span class="pun">.</span></code></li><li class="L1"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">1</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.901</span><span class="pln"> ms</span></code></li><li class="L2"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">2</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.571</span><span class="pln"> ms</span></code></li><li class="L3"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">3</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.521</span><span class="pln"> ms</span></code></li><li class="L4"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">4</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.524</span><span class="pln"> ms</span></code></li></ol></pre>
<p>好极了，它能工作！</p>
<p>要删除 IP，只需要运行：</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> addr </span><span class="kwd">del</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> dev enp0s3</span></code></li></ol></pre>
<p>再检查一下是否删除了 IP。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> address show enp0s3</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="lit">2</span><span class="pun">:</span><span class="pln"> enp0s3</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">BROADCAST</span><span class="pun">,</span><span class="pln">MULTICAST</span><span class="pun">,</span><span class="pln">UP</span><span class="pun">,</span><span class="pln">LOWER_UP</span><span class="pun">&gt;</span><span class="pln"> mtu </span><span class="lit">1500</span><span class="pln"> qdisc pfifo_fast state UP group </span><span class="kwd">default</span><span class="pln"> qlen </span><span class="lit">1000</span></code></li><li class="L1"><code><span class="kwd">link</span><span class="pun">/</span><span class="pln">ether </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span><span class="pln"> brd ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span></code></li><li class="L2"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> brd </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> enp0s3</span></code></li><li class="L3"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L4"><code><span class="pln">inet6 fe80</span><span class="pun">::</span><span class="pln">a00</span><span class="pun">:</span><span class="lit">27ff</span><span class="pun">:</span><span class="pln">fe2a</span><span class="pun">:</span><span class="lit">34e</span><span class="pun">/</span><span class="lit">64</span><span class="pln"> scope </span><span class="kwd">link</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li></ol></pre>
<p>可以看到已经没有了！！</p>
<p>正如你所知，重启系统后这些设置会失效。那么怎么设置才能永久有效呢？这也很简单。</p>
<a target="_blank" rel="external nofollow" id="3_5123" class="target-fix ext"></a><h3 id="toc_2">添加永久 IP 地址</h3>
<p>Ubuntu 系统的网卡配置文件是 <strong>/etc/network/interfaces</strong>。</p>
<p>让我们来看看上面文件的具体内容。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">cat</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">network</span><span class="pun">/</span><span class="pln">interfaces</span></code></li></ol></pre>
<p><strong>输出样例：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="com">#</span><span class="pln"> </span><span class="typ">This</span><span class="pln"> </span><span class="kwd">file</span><span class="pln"> describes the network interfaces available on your system</span></code></li><li class="L1"><code><span class="com">#</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> how to activate them</span><span class="pun">.</span><span class="pln"> </span><span class="typ">For</span><span class="pln"> </span><span class="kwd">more</span><span class="pln"> information</span><span class="pun">,</span><span class="pln"> see interfaces</span><span class="pun">(</span><span class="lit">5</span><span class="pun">).</span></code></li><li class="L2"><code><span class="pln">source </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">network</span><span class="pun">/</span><span class="pln">interfaces</span><span class="pun">.</span><span class="pln">d</span><span class="com">/*</span></code></li><li class="L3"><code><span class="com"># The loopback network interface</span></code></li><li class="L4"><code><span class="com">auto lo</span></code></li><li class="L5"><code><span class="com">iface lo inet loopback</span></code></li><li class="L6"><code><span class="com"># The primary network interface</span></code></li><li class="L7"><code><span class="com">auto enp0s3</span></code></li><li class="L8"><code><span class="com">iface enp0s3 inet dhcp</span></code></li></ol></pre>
<p>正如你在上面输出中看到的，网卡启用了 DHCP。</p>
<p>现在，让我们来分配一个额外的地址，例如 <strong>192.168.1.104/24</strong>。</p>
<p>编辑 <strong>/etc/network/interfaces</strong>：</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">nano</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">network</span><span class="pun">/</span><span class="pln">interfaces</span></code></li></ol></pre>
<p>如下添加额外的 IP 地址。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="com">#</span><span class="pln"> </span><span class="typ">This</span><span class="pln"> </span><span class="kwd">file</span><span class="pln"> describes the network interfaces available on your system</span></code></li><li class="L1"><code><span class="com">#</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> how to activate them</span><span class="pun">.</span><span class="pln"> </span><span class="typ">For</span><span class="pln"> </span><span class="kwd">more</span><span class="pln"> information</span><span class="pun">,</span><span class="pln"> see interfaces</span><span class="pun">(</span><span class="lit">5</span><span class="pun">).</span></code></li><li class="L2"><code><span class="pln">source </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">network</span><span class="pun">/</span><span class="pln">interfaces</span><span class="pun">.</span><span class="pln">d</span><span class="com">/*</span></code></li><li class="L3"><code><span class="com"># The loopback network interface</span></code></li><li class="L4"><code><span class="com">auto lo</span></code></li><li class="L5"><code><span class="com">iface lo inet loopback</span></code></li><li class="L6"><code><span class="com"># The primary network interface</span></code></li><li class="L7"><code><span class="com">auto enp0s3</span></code></li><li class="L8"><code><span class="com">iface enp0s3 inet dhcp</span></code></li><li class="L9"><code><span class="com">iface enp0s3 inet static</span></code></li><li class="L0"><code><span class="com"> address 192.168.1.104/24</span></code></li></ol></pre>
<p>保存并关闭文件。</p>
<p>运行下面的命令使更改无需重启即生效。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> ifdown enp0s3 </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">sudo</span><span class="pln"> ifup enp0s3</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="typ">Killed</span><span class="pln"> old client process</span></code></li><li class="L1"><code><span class="typ">Internet</span><span class="pln"> </span><span class="typ">Systems</span><span class="pln"> </span><span class="typ">Consortium</span><span class="pln"> DHCP </span><span class="typ">Client</span><span class="pln"> </span><span class="lit">4.3</span><span class="pun">.</span><span class="lit">1</span></code></li><li class="L2"><code><span class="typ">Copyright</span><span class="pln"> </span><span class="lit">2004</span><span class="pun">-</span><span class="lit">2014</span><span class="pln"> </span><span class="typ">Internet</span><span class="pln"> </span><span class="typ">Systems</span><span class="pln"> </span><span class="typ">Consortium</span><span class="pun">.</span></code></li><li class="L3"><code><span class="typ">All</span><span class="pln"> rights reserved</span><span class="pun">.</span></code></li><li class="L4"><code><span class="typ">For</span><span class="pln"> </span><span class="kwd">info</span><span class="pun">,</span><span class="pln"> please visit https</span><span class="pun">:</span><span class="com">//www.isc.org/software/dhcp/</span></code></li><li class="L5"><code><span class="typ">Listening</span><span class="pln"> on LPF</span><span class="pun">/</span><span class="pln">enp0s3</span><span class="pun">/</span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span></code></li><li class="L6"><code><span class="typ">Sending</span><span class="pln"> on LPF</span><span class="pun">/</span><span class="pln">enp0s3</span><span class="pun">/</span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span></code></li><li class="L7"><code><span class="typ">Sending</span><span class="pln"> on </span><span class="typ">Socket</span><span class="pun">/</span><span class="pln">fallback</span></code></li><li class="L8"><code><span class="pln">DHCPRELEASE on enp0s3 to </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.1</span><span class="pln"> port </span><span class="lit">67</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xid</span><span class="pun">=</span><span class="lit">0x225f35</span><span class="pun">)</span></code></li><li class="L9"><code><span class="typ">Internet</span><span class="pln"> </span><span class="typ">Systems</span><span class="pln"> </span><span class="typ">Consortium</span><span class="pln"> DHCP </span><span class="typ">Client</span><span class="pln"> </span><span class="lit">4.3</span><span class="pun">.</span><span class="lit">1</span></code></li><li class="L0"><code><span class="typ">Copyright</span><span class="pln"> </span><span class="lit">2004</span><span class="pun">-</span><span class="lit">2014</span><span class="pln"> </span><span class="typ">Internet</span><span class="pln"> </span><span class="typ">Systems</span><span class="pln"> </span><span class="typ">Consortium</span><span class="pun">.</span></code></li><li class="L1"><code><span class="typ">All</span><span class="pln"> rights reserved</span><span class="pun">.</span></code></li><li class="L2"><code><span class="typ">For</span><span class="pln"> </span><span class="kwd">info</span><span class="pun">,</span><span class="pln"> please visit https</span><span class="pun">:</span><span class="com">//www.isc.org/software/dhcp/</span></code></li><li class="L3"><code><span class="typ">Listening</span><span class="pln"> on LPF</span><span class="pun">/</span><span class="pln">enp0s3</span><span class="pun">/</span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span></code></li><li class="L4"><code><span class="typ">Sending</span><span class="pln"> on LPF</span><span class="pun">/</span><span class="pln">enp0s3</span><span class="pun">/</span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span></code></li><li class="L5"><code><span class="typ">Sending</span><span class="pln"> on </span><span class="typ">Socket</span><span class="pun">/</span><span class="pln">fallback</span></code></li><li class="L6"><code><span class="pln">DHCPDISCOVER on enp0s3 to </span><span class="lit">255.255</span><span class="pun">.</span><span class="lit">255.255</span><span class="pln"> port </span><span class="lit">67</span><span class="pln"> interval </span><span class="lit">3</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xid</span><span class="pun">=</span><span class="lit">0xdfb94764</span><span class="pun">)</span></code></li><li class="L7"><code><span class="pln">DHCPREQUEST of </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pln"> on enp0s3 to </span><span class="lit">255.255</span><span class="pun">.</span><span class="lit">255.255</span><span class="pln"> port </span><span class="lit">67</span><span class="pln"> </span><span class="pun">(</span><span class="pln">xid</span><span class="pun">=</span><span class="lit">0x6447b9df</span><span class="pun">)</span></code></li><li class="L8"><code><span class="pln">DHCPOFFER of </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.1</span></code></li><li class="L9"><code><span class="pln">DHCPACK of </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.1</span></code></li><li class="L0"><code><span class="pln">bound to </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pln"> </span><span class="pun">--</span><span class="pln"> renewal </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">35146</span><span class="pln"> seconds</span><span class="pun">.</span></code></li></ol></pre>
<p><strong>注意</strong>：如果你从远程连接到服务器，把上面的两个命令放到<strong>一行</strong>中<strong>非常重要</strong>，因为第一个命令会断掉你的连接。而采用这种方式可以保留你的 ssh 会话。</p>
<p>现在，让我们用下面的命令来检查一下是否添加了新的 IP：</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ip</span><span class="pln"> address show enp0s3</span></code></li></ol></pre>
<p><strong>输出样例：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="lit">2</span><span class="pun">:</span><span class="pln"> enp0s3</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">BROADCAST</span><span class="pun">,</span><span class="pln">MULTICAST</span><span class="pun">,</span><span class="pln">UP</span><span class="pun">,</span><span class="pln">LOWER_UP</span><span class="pun">&gt;</span><span class="pln"> mtu </span><span class="lit">1500</span><span class="pln"> qdisc pfifo_fast state UP group </span><span class="kwd">default</span><span class="pln"> qlen </span><span class="lit">1000</span></code></li><li class="L1"><code><span class="kwd">link</span><span class="pun">/</span><span class="pln">ether </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">2a</span><span class="pun">:</span><span class="lit">03</span><span class="pun">:</span><span class="lit">4e</span><span class="pln"> brd ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span><span class="pun">:</span><span class="pln">ff</span></code></li><li class="L2"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.103</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> brd </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> enp0s3</span></code></li><li class="L3"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L4"><code><span class="pln">inet </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">/</span><span class="lit">24</span><span class="pln"> brd </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.255</span><span class="pln"> scope </span><span class="kwd">global</span><span class="pln"> secondary enp0s3</span></code></li><li class="L5"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li><li class="L6"><code><span class="pln">inet6 fe80</span><span class="pun">::</span><span class="pln">a00</span><span class="pun">:</span><span class="lit">27ff</span><span class="pun">:</span><span class="pln">fe2a</span><span class="pun">:</span><span class="lit">34e</span><span class="pun">/</span><span class="lit">64</span><span class="pln"> scope </span><span class="kwd">link</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">valid_lft forever preferred_lft forever</span></code></li></ol></pre>
<p>很好！我们已经添加了额外的 IP。</p>
<p>再次 ping IP 地址进行验证。</p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="kwd">sudo</span><span class="pln"> </span><span class="kwd">ping</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span></code></li></ol></pre>
<p><strong>样例输出：</strong></p>
<pre style="" class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code><span class="pln">PING </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pln"> </span><span class="pun">(</span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">)</span><span class="pln"> </span><span class="lit">56</span><span class="pun">(</span><span class="lit">84</span><span class="pun">)</span><span class="pln"> bytes of data</span><span class="pun">.</span></code></li><li class="L1"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">1</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.137</span><span class="pln"> ms</span></code></li><li class="L2"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">2</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.050</span><span class="pln"> ms</span></code></li><li class="L3"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">3</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.054</span><span class="pln"> ms</span></code></li><li class="L4"><code><span class="lit">64</span><span class="pln"> bytes </span><span class="kwd">from</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.104</span><span class="pun">:</span><span class="pln"> icmp_seq</span><span class="pun">=</span><span class="lit">4</span><span class="pln"> ttl</span><span class="pun">=</span><span class="lit">64</span><span class="pln"> </span><span class="kwd">time</span><span class="pun">=</span><span class="lit">0.067</span><span class="pln"> ms</span></code></li></ol></pre>
<p>好极了！它能正常工作。就是这样。</p>
<p>想知道怎么给 CentOS/RHEL/Scientific Linux/Fedora 系统添加额外的 IP 地址，可以点击下面的链接。</p>
<ul>
<li><a href="https://linux.cn/article-5127-1.html">在CentOS 7上给一个网卡分配多个IP地址</a></li>
</ul>
<p>工作愉快！</p>
<hr>
<p>via: <a target="_blank" rel="external nofollow" class="ext" href="http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/">http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/</a></p>
<p>作者：<a target="_blank" rel="external nofollow" class="ext" href="http://www.unixmen.com/author/sk/">SK</a> 译者：<a target="_blank" rel="external nofollow" class="ext" href="http://mutouxiaogui.cn/blog/">ictlyh</a> 校对：<a target="_blank" rel="external nofollow" class="ext" href="https://github.com/carolinewuyan">Caroline</a></p>
<p>本文由 <a target="_blank" rel="external nofollow" class="ext" href="https://github.com/LCTT/TranslateProject">LCTT</a> 原创编译，<a href="#">Linux中国</a> 荣誉推出</p>
</div>
</div>
<div class="b">
<div class="hm">
<a title="分享到新浪微博" class="tsina_large"></a>
<a class="weixin_large"></a>
<a title="收藏" href="https://linux.cn/home.php?mod=spacecp&amp;ac=favorite&amp;type=article&amp;id=6847&amp;handlekey=favoritearticlehk_6847" id="a_favorite" class="fav_large"></a>
</div>
<p class="copyright">
    	 
    		    			    			<span class="z textcut">编译自：<a href="http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/" target="_blank">http://www.unixmen.com/assign-multiple-ip-addresses-to-one-interface-on-ubuntu-15-10/</a></span>
    			    		    		<span class="y">作者： SK</span>    		<br class="clear">
    	    	<span class="z">原创：<a href="http://lctt.github.io/" target="_blank">LCTT</a> <a href="https://linux.cn/article-6847-1.html" target="_blank">https://linux.cn/article-6847-1.html</a></span>
            			<span class="y">译者： ictlyh</span>    		<br class="clear">
    	    	<br>
    	    		<span>本文由 LCTT 原创翻译，<a href="https://linux.cn/article-6847-1.html">Linux中国首发</a>。也想加入译者行列，为开源做一些自己的贡献么？欢迎加入 <a href="http://lctt.github.io/" target="_blank">LCTT</a>！<br>翻译工作和译文发表仅用于学习和交流目的，翻译工作遵照 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank">CC-BY-NC-SA 协议规定</a>，如果我们的工作有侵犯到您的权益，请及时联系我们。</span>
    		    		<br class="clear">
    		<span style="color: red;">欢迎遵照 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank">CC-BY-NC-SA 协议规定</a>转载，敬请在正文中标注并保留原文/译文链接和作者/译者等信息。</span>
                		<br class="clear">
    	    	<span>文章仅代表作者的知识和看法，如有不同观点，请楼下排队<a>吐槽</a> :D</span>
    	<br class="clear">
</p>


<div class="linuxcnad"></div>
<!--[diy=diycontentbottom]--><div id="diycontentbottom" class="area"></div><!--[/diy]-->


<div id="click_div"><table class="atd" cellpadding="0" cellspacing="0">
<tbody><tr></tr>
</tbody></table>


</div>

<!--[diy=diycontentclickbottom]--><div id="diycontentclickbottom" class="area"></div><!--[/diy]-->


<div class="o cl ptm pbm">
<a href="https://linux.cn/home.php?mod=spacecp&amp;ac=share&amp;type=article&amp;id=6847&amp;handlekey=sharearticlehk_6847" id="a_share" title="站内分享" class="siteshare z"></a>
<a href="https://linux.cn/home.php?mod=spacecp&amp;ac=favorite&amp;type=article&amp;id=6847&amp;handlekey=favoritearticlehk_6847" id="a_favorite" class="favorite z" title="收藏"></a>
<a href="https://linux.cn/misc.php?mod=invite&amp;action=article&amp;id=6847" id="a_invite" class="invite z" title="邀请"></a>
<a href="https://linux.cn/article-6847-1.html?pr" class="print z" title="打印"></a>
				
</div>
<div class="pren pbm cl">
<em>上一篇：<a href="https://linux.cn/article-6793-1.html">在 Debian Linux 上安装配置 ISC DHCP 服务器</a></em></div>
</div>
</div>

<!--[diy=diycontentrelatetop]--><div id="diycontentrelatetop" class="area"></div><!--[/diy]-->

<!--[diy=diycontentrelate]--><div id="diycontentrelate" class="area"></div><!--[/diy]-->

<div style="margin-right: 15px;">
<div id="add_comment" class="bm">
<div class="bm_h cl">
<h3>发表评论</h3>
</div>
<div class="bm_c pbn">
<form id="cform" name="cform" action="https://linux.cn/portal.php?mod=portalcp&amp;ac=comment" method="post" autocomplete="off">
<div class="tedt">
<div class="area">
<textarea name="message" rows="10" class="pt" id="message"></textarea>
</div>
</div>

<div class="mtm z"><span id="seccode_cShwww8r"><input name="seccodehash" value="cShwww8r" type="hidden"><input name="seccodemodid" value="portal::view" type="hidden">验证码 <span id="seccodecShwww8r"><input name="seccodeverify" id="seccodeverify_cShwww8r" autocomplete="off" style="ime-mode: disabled; width: 100px;" class="txt px vm" type="text"> <a class="xi2">换一个</a><span id="checkseccodeverify_cShwww8r"><img id="checksec_none_cShwww8r" src="none.gif" class="vm" width="16" height="16"></span></span><div id="seccodecShwww8r_menu" class="p_pop p_opt" style="display: none;"><span id="vseccode_cShwww8r">输入下图中的字符<br><img src="misc.php" class="vm" alt="" width="100" height="40"></span></div></span>		


</div>
<input name="portal_referer" value="https://linux.cn/article-6847-1.html#comment" type="hidden">
<input name="referer" value="https://linux.cn/article-6847-1.html#comment" type="hidden">
<input name="id" value="0" type="hidden">
<input name="idtype" value="" type="hidden">
<input name="aid" value="6847" type="hidden">
<input id="reppid" name="reppid" value="" type="hidden">
<input name="formhash" value="33e11f09" type="hidden">
<input name="replysubmit" value="true" type="hidden">
<input name="commentsubmit" value="true" type="hidden">
<p class="mtm z"><button type="submit" name="commentsubmit_btn" id="commentsubmit_btn" value="true" class="pn"><strong>评论</strong></button></p>
<br class="clear">
</form>
</div>
</div>
</div>
<div id="comment" class="bm" style="margin-right: 15px;">
<div class="bm_h cl">
<h3 class="z"><a name="comment"></a>最新评论</h3>
<h3 class="y"><a class="y" style="color: rgb(204, 0, 0);">我也要发表评论</a></h3>
</div>
<div id="comment_ul" class="bm_c"></div>
</div>

<!--[diy=diycontentcomment]--><div id="diycontentcomment" class="area"></div><!--[/diy]-->
</div>
<div class="sd pph">


<div class="drag">
<!--[diy=diyrighttop]--><div id="diyrighttop" class="area"></div><!--[/diy]-->
</div>

<div class="linuxcnad">
    </div>
<div class="linuxcnad">
    </div>

<!--热门评论-->

<div class="linuxcnad"></div>

<div class="affix-top" id="right_affix" style="width: 350px;">
<div class="linuxcnad">
    </div>
<div id="inner_nav" class="bm">
<div class="bm_h cl">
<h3>本文导航</h3>
</div>
<div class="bm_c inner_menu">
<ul class="xl cl"><li><span class="folder">-</span><a href="https://linux.cn/article-6847-1.html#3_532">临时添加 IP 地址</a></li><li><span class="folder">-</span><a href="https://linux.cn/article-6847-1.html#3_5123">添加永久 IP 地址</a></li></ul></div>
</div>

<div class="bm block">
<div class="bm_h cl">
<h3>相关阅读</h3>
</div>
<div class="bm_c pbn" id="related_tag">
<ul class="xl xl2 cl bbs pbm" id="tag"><li><a href="https://linux.cn/tag-IP.html">IP</a></li>
</ul>
</div>
<div class="bm_c xl xl1 cl" id="related_article">
<ul><li><em>2015-3-26</em><a href="https://linux.cn/article-5127-1.html" target="_blank">在CentOS 7上给一个网卡分配多个IP地址</a> </li>
<li><em>2014-4-24</em><a href="https://linux.cn/article-2915-1-rel.html" target="_blank">如何在Linux中发现IP地址冲突</a> </li>
<li><em>2014-6-4</em><a href="https://linux.cn/article-3144-1-rel.html" target="_blank">试试Linux下的ip命令，ifconfig已经过时了</a> </li>
<li><em>2014-6-12</em><a href="https://linux.cn/article-3188-1-rel.html" target="_blank">如何使用phpIPAM来管理IP地址和子网</a> </li>
<li><em>2014-7-12</em><a href="https://linux.cn/article-3373-1-rel.html" target="_blank">如何在Ubuntu,Linux Mint,Debian上禁用IPv6</a> </li>
<li><em>2015-1-7</em><a href="https://linux.cn/article-4607-1-rel.html" target="_blank">IPv6：IPv4犯的错，为什么要我来弥补</a> </li>
</ul>
</div>
</div>
</div>


<div class="drag">
<!--[diy=diy2]--><div id="diy2" class="area"></div><!--[/diy]-->
</div>


</div>
</div>


<div class="wp mtn">
<!--[diy=diy3]--><div id="diy3" class="area"></div><!--[/diy]-->
</div>
<input id="portalview" value="1" type="hidden">




	</div>


    <div id="footer">
        <p>
            <span>Linux.CN © 2003-2016 Linux中国</span>
            <span class="line">|</span>
            <span>Powered by <strong>DX</strong> | 图片存储于<a href="http://www.qiniu.com/" target="_blank">七牛云存储</a></span>
        </p>
        <p>
            <a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备05083684号-1</a>            京公网安备110105001595
        </p>
        <p>
        <a href="https://linux.cn/legal.html">服务条款</a> |
        除特别申明外，本站原创内容版权遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank">CC-BY-NC-SA 协议规定</a></p>
        <p>
        <a href="https://linux.cn/"><img src="linuxcn_logo_mini.png" align="absmiddle"></a>
        <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img src="cc.png" align="absmiddle"></a>
        </p>
<p>
</p>
</div>

<div id="ft" class="cl"></div>

<div id="scrolltop">
<span>
<a class="wxicon"></a>
<a title="分享到新浪微博" class="tsina"></a>
<a title="收藏" href="https://linux.cn/home.php?mod=spacecp&amp;ac=favorite&amp;type=article&amp;id=6847&amp;handlekey=favoritearticlehk_6847" id="a_favorite" class="favorite"></a>
</span>
<span hidefocus="true"><a title="返回顶部" class="scrolltopa"><b>返回顶部</b></a></span>
</div>

<div id="qrcode">
<p>分享到微信朋友圈</p>
<div id="canvas"></div>
<p><em>打开微信，点击底部的“发现”，<br>
使用“扫一扫”将网页分享至朋友圈。</em></p></div>
<div style="display: none;" id="pleaseRemoveOurSiteFromBlackList"></div>
<div id="Ll92CisOsS" style="display: none; background-color: rgb(170, 0, 0); position: fixed; top: 0px; width: 100%; z-index: 9999; left: 0px; font-size: 16px; color: rgb(255, 255, 255); text-align: center; padding: 0px;">请将我们加入您的广告过滤器的白名单，请支持开源站点。谢谢您。</div>



<div style="display: none; z-index: 25 ! important;" id="__lpform_ls_username_numspan"></div><div style="max-height: 16px; vertical-align: top; position: absolute; top: 45px; left: 1157.5px; z-index: 24;" id="__lpform_ls_username"><img style="opacity: 0.6; vertical-align: top;" id="__lpform_ls_username_icon" width="16" height="16"></div><div style="display: none; z-index: 25 ! important;" id="__lpform_ls_password_numspan"></div><div style="max-height: 16px; vertical-align: top; position: absolute; top: 73px; left: 1157.5px; z-index: 24;" id="__lpform_ls_password"><img style="opacity: 0.6; vertical-align: top;" id="__lpform_ls_password_icon" width="16" height="16"></div></body>
</html>
