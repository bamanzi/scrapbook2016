<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Install / Append SSH Key In A Remote Linux / UNIX Servers Authorized_keys</title><link rel="canonical" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/"><link rel="alternate" type="application/rss+xml" title="nixCraft feed" href="http://www.cyberciti.biz/faq/feed/"><link rel="pingback" href="http://www.cyberciti.biz/faq/xmlrpc.php"><link rel="alternate" type="application/rss+xml" title="nixCraft » Install / Append SSH Key In A Remote Linux / UNIX Servers Authorized_keys Comments Feed" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/feed/"><link rel="https://api.w.org/" href="http://www.cyberciti.biz/faq/wp-json/"><link rel="alternate" type="application/json+oembed" href="http://www.cyberciti.biz/faq/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.cyberciti.biz%2Ffaq%2Finstall-ssh-identity-key-remote-host%2F"><meta name="description" content="Explains how to install your SSH identity key onto a remote host / server automatically, under Linux / UNIX / Apple OS X / *BSD operating systems. ">   <link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head><body class="template-single">  <div class="container"> <span class="menu_control">≡ Menu</span><ul id="menu-faq" class="menu"><li id="menu-item-145282" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145282"><a title="nixCraft – Home Page " href="http://www.cyberciti.biz/">Home</a></li><li id="menu-item-145280" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145280"><a title="About us" href="http://www.cyberciti.biz/tips/about-us">About</a></li><li id="menu-item-145283" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145283"><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting TutoriaL</a></li><li id="menu-item-145281" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-145281"><a title="Rss Feed" href="http://www.cyberciti.biz/nixcraft-rss-feed-syndication/">RSS/Feed</a></li></ul><div id="header" class="header"><div id="site_title"><a href="http://www.cyberciti.biz/faq">nixCraft</a></div><div id="site_tagline">Linux and Unix tutorials for new and seasoned sysadmin.</div></div><div class="columns"><div class="content"><div id="post-7342" class="post_box grt top" itemscope="" itemtype="http://schema.org/Article"><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/"><div class="headline_area"><h1 class="headline" itemprop="headline">Install / Append SSH Key In A Remote Linux / UNIX Servers Authorized_keys</h1><div class="byline small"> <span class="post_author_intro">by</span> <span class="post_author">Vivek Gite</span> <span class="post_date_intro">on</span> <span class="post_date" title="2010-05-06">May 6, 2010<span style="font-style: italic; text-transform: lowercase;"> last updated </span>February 14, 2015</span><div class="post_cats"> <span class="post_cats_intro">in</span> <a href="http://www.cyberciti.biz/faq/category/cryptography/" rel="category tag">Cryptography</a>, <a href="http://www.cyberciti.biz/faq/category/linux/" rel="category tag">Linux</a>, <a href="http://www.cyberciti.biz/faq/category/openbsd/" rel="category tag">Openbsd</a>, <a href="http://www.cyberciti.biz/faq/category/unix/" rel="category tag">UNIX</a></div></div></div><div class="post_content"><p></p><div class="my_story"><a title="See all GNU/Linux related FAQ" href="http://www.cyberciti.biz/faq/category/linux/"><img src="linux-logo.png" alt="" border="0"></a></div><span class="drop_cap">H</span>ow do I install my SSH public key ~/.ssh/id_rsa.pub onto a remote Linux and UNIX server automatically from Linux workstation or Apple OS X laptop without using scp and/or copy &amp; paste method?<br> <span id="more-7342"></span><br> You need to use the ssh-copy-id script that uses ssh to log into a remote machine using a login password. The syntax is as follows:<p></p><center>  <ins class="adsbygoogle" style="display: inline-block; width: 336px; height: 280px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2404767461"></ins> <p></p></center><p></p><p><kbd>ssh-copy-id user@server.example.com</kbd></p><p>OR</p><p><kbd>ssh-copy-id -i ~/.ssh/id_rsa.pub user@server1.cyberciti.biz</kbd></p><p>OR</p><p><kbd>ssh-copy-id -i ~/.ssh/id_dsa.pub user@server1.cyberciti.biz</kbd></p><p>OR use specific port on remote host such as tcp port # 4242:</p><p><kbd>ssh-copy-id -i /path/key/file.pub "user@server.example.com -p 4242"</kbd></p><h2>Install ssh-copy-id on a OS X Unix systems</h2><p>Type the following command:</p><div class="wp_syntax"><table><tbody><tr><td class="code"><pre class="bash" style="font-family: monospace;">brew <span style="color: rgb(194, 12, 185); font-weight: bold;">install</span> ssh-copy-id</pre></td></tr></tbody></table></div><p>Sample outputs:<br></p><div id="attachment_139790" style="width: 608px;" class="wp-caption aligncenter"><a href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/osx-brew-install-ssh-copy-id/" rel="attachment wp-att-139790"><img src="osx-brew-install-ssh-copy-id.jpg" alt="Fig.01: Install ssh-copy-id on a OS X Unix systems" class="size-full wp-image-139790" width="598" height="92"></a><p class="wp-caption-text">Fig.01: Install ssh-copy-id on a OS X Unix systems</p></div><p></p><h2>Step # 1: Create the Keys</h2><p>Type the following <a href="http://www.cyberciti.biz/tips/ssh-public-key-based-authentication-how-to.html">ssh-keygen command to generates, manages and converts authentication keys</a> for your workstation / laptop:<br> <code>ssh-keygen</code><br> Make sure you protect keys with the passphrase.</p><h2>Step # 2: Install the public key</h2><p>Install key in a remote server called www-03.nixcraft.in, enter:<br> <code>ssh-copy-id -i ~/.ssh/id_rsa.pub username@www-03.nixcraft.in</code></p><p class="alert"><strong>Note</strong>: If ssh-copy-id command not found on your system, try the following commands to append/install the public key on remote host:<br> <kbd>ssh username@www-03.nixcraft.in "umask 077; mkdir .ssh"<br> cat $HOME/.ssh/id_rsa.pub | ssh username@www-03.nixcraft.in "cat &gt;&gt; .ssh/authorized_keys"</kbd></p><h2>Step #3: Use keychain for password less login</h2><p>OpenSSH offers RSA and DSA authentication to remote systems without supplying a password. <a href="http://www.cyberciti.biz/faq/ssh-passwordless-login-with-keychain-for-scripts/">keychain is a special bash script</a> designed to make key-based authentication incredibly convenient and flexible (see how to <a href="http://www.cyberciti.biz/faq/ssh-passwordless-login-with-keychain-for-scripts/">install keychain script on unix</a>). Add following lines to your ~/.bash_profile or shell login file:</p><pre>/usr/bin/keychain $HOME/.ssh/id_rsa
source $HOME/.keychain/$HOSTNAME-sh</pre><p>Save and close the file.</p><h5>References:</h5><ul><li><a href="http://www.cyberciti.biz/faq/ssh-passwordless-login-with-keychain-for-scripts/">keychain: Set Up Secure Passwordless SSH Access For Backup Scripts</a></li><li><a href="http://www.cyberciti.biz/faq/ubuntu-debian-linux-server-install-keychain-apt-get-command/">Ubuntu / Debian Linux Server Install Keychain SSH Key Manager For OpenSSH</a></li><li>Man pages – <a title="See ssh(1) linux man page for more information and examples" href="http://www.manpager.com/linux/man1/ssh.1.html">ssh(1)</a>, <a title="See ssh-agent(1) linux man page for more information and examples" href="http://www.manpager.com/linux/man1/ssh-agent.1.html">ssh-agent(1)</a>, <a title="See ssh-add(1) linux man page for more information and examples" href="http://www.manpager.com/linux/man1/ssh-add.1.html">ssh-add(1)</a>, <a title="See ssh-keygen(1) linux man page for more information and examples" href="http://www.manpager.com/linux/man1/ssh-keygen.1.html">ssh-keygen(1)</a>, <a title="See ssh-copy-id(1) linux man page for more information and examples" href="http://www.manpager.com/linux/man1/ssh-copy-id.1.html">ssh-copy-id(1)</a></li></ul><center>   <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="2272802261"></ins>  </center><div class="nixcraft-social"><a class="nixcraft-link nixcraft-twitter" href="https://twitter.com/intent/tweet?text=Install+%2F+Append+SSH+Key+In+A+Remote+Linux+%2F+UNIX+Servers+Authorized_keys&amp;url=http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/&amp;via=nixcraft" title="Tweet this tutorial/page">Twitter</a><a class="nixcraft-link nixcraft-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/" title="Share this page/tutorial on Facebook">Facebook</a><a class="nixcraft-link nixcraft-googleplus" href="https://plus.google.com/share?url=http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/" title="Share this page/tutorial on Google+">Google+</a><a class="nixcraft-link nixcraft-pdf" href="http://www.cyberciti.biz/view/pdf/faq/7342.php" title="Download this tutorial/faq as a free pdf">Download PDF version </a><a class="nixcraft-link nixcraft-error" href="https://nixcraft.wufoo.com/forms/give-us-feedback-for-nixcraft/def/Field209=http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/&amp;Field211=Install%20/%20Append%20SSH%20Key%20In%20A%20Remote%20Linux%20/%20UNIX%20Servers%20Authorized_keys" target="_blank" title="Click here to report Typo/Grammar and other Incorrect information">Found an error/typo on this page?</a></div><div class="crp_related "><div class="my_tutorial_series"><strong>More like this:</strong><ul><li><a href="http://www.cyberciti.biz/faq/linux-unix-generating-ssh-keys/" class="crp_title">Linux / UNIX: Generate SSH Keys</a></li><li><a href="http://www.cyberciti.biz/faq/ubuntu-debian-linux-server-install-keychain-apt-get-command/" class="crp_title">Ubuntu / Debian Linux Server Install Keychain  SSH Key Manager For OpenSSH</a></li><li><a href="http://www.cyberciti.biz/faq/linux-generating-rsa-keys/" class="crp_title">Linux Generate RSA SSH Keys</a></li><li><a href="http://www.cyberciti.biz/faq/how-to-set-up-ssh-keys-on-linux-unix/" class="crp_title">HowTo: Setup SSH Keys on a Linux / Unix System</a></li><li><a href="http://www.cyberciti.biz/faq/use-ssh-copy-id-with-an-openssh-server-listing-on-a-different-port/" class="crp_title">Use ssh-copy-id with an OpenSSH Server Listening On a Different Port</a></li><li><a href="http://www.cyberciti.biz/faq/ssh-passwordless-login-with-keychain-for-scripts/" class="crp_title">keychain: Set Up Secure Passwordless SSH Access For Backup Scripts</a></li><li><a href="http://www.cyberciti.biz/faq/backup-remote-files-with-rsync/" class="crp_title">How to backup the remote files in Linux / UNIX</a></li><li><a href="http://www.cyberciti.biz/faq/ssh-password-less-login-with-dsa-publickey-authentication/" class="crp_title">Howto Linux / UNIX setup SSH with DSA public key authentication (password…</a></li><li><a href="http://www.cyberciti.biz/faq/noninteractive-shell-script-ssh-password-provider/" class="crp_title">sshpass: Login To SSH Server / Provide SSH Password Using A Shell Script</a></li><li><a href="http://www.cyberciti.biz/faq/linux-publickey-blacklisted-see-ssh-vulnkey1-error/" class="crp_title">Debian / Ubuntu Linux Public key Blacklisted (see ssh-vulnkey(1)) Error and</a></li></ul></div><div class="crp_clear"></div></div></div></div><div id="comments"><div class="comments_intro"><span class="bracket">{</span> <span class="num_comments">9</span> comments… <a href="#commentform" rel="nofollow">add one</a> <span class="bracket">}</span></div><ul class="comment_list"><li class="comment even thread-even depth-1" id="comment-47233"><div class="comment_head"> <span class="comment_author">Nei McLeish</span> <span class="comment_date">May 7, 2010, 12:47 pm</span></div><div class="comment_text grt" id="comment-body-47233"><p>Hi all.<br> Unfortunately, ssh-copy-id does not exist under OS X, so here is a script that does the same job.<br> When I can remember where I got it from, I will add the relevant credit to its author.</p><p>Best regards,</p><p>Neil.</p><pre>#!/bin/sh
KEY="$HOME/.ssh/id_dsa.pub"
if [ ! -f ~/.ssh/id_dsa.pub ];then
    echo "private key not found at $KEY"
    echo "* please create it with "ssh-keygen -t dsa" *"
    echo "* to login to the remote host without a password, don't give the key you create with ssh-keygen a password! *"
    exit
fi
if [ -z $1 ];then
    echo "Please specify user@host.tld as the first switch to this script"
    exit
fi
echo "Putting your key on $1... "
KEYCODE=`cat $KEY`
ssh -q $1 "mkdir ~/.ssh 2&gt;/dev/null; chmod 700 ~/.ssh; echo "$KEYCODE" &gt;&gt; ~/.ssh/authorized_keys; chmod 644 ~/.ssh/authorized_keys"
echo "done!"
</pre></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=47233#commentform" aria-label="Reply to Nei McLeish">Reply</a> <a class="comment_permalink" href="#comment-47233" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-47234"><div class="comment_head"> <span class="comment_author">Anonymous</span> <span class="comment_date">May 7, 2010, 1:13 pm</span></div><div class="comment_text grt" id="comment-body-47234"><p>Here is what I’ve installed in my Debian Linux box:</p><pre>#!/bin/sh
# Shell script to install your public key on a remote machine
# Takes the remote machine name as an argument.
# Obviously, the remote machine must accept password authentication,
# or one of the other keys in your ssh-agent, for this to work.
ID_FILE="${HOME}/.ssh/id_rsa.pub"
if [ "-i" = "$1" ]; then
  shift
  # check if we have 2 parameters left, if so the first is the new ID file
  if [ -n "$2" ]; then
    if expr "$1" : ".*\.pub" &gt; /dev/null ; then
      ID_FILE="$1"
    else
      ID_FILE="$1.pub"
    fi
    shift         # and this should leave $1 as the target name
  fi
else
  if [ x$SSH_AUTH_SOCK != x ] &amp;&amp; ssh-add -L &gt;/dev/null 2&gt;&amp;1; then
    GET_ID="$GET_ID ssh-add -L"
  fi
fi
if [ -z "`eval $GET_ID`" ] &amp;&amp; [ -r "${ID_FILE}" ] ; then
  GET_ID="cat ${ID_FILE}"
fi
if [ -z "`eval $GET_ID`" ]; then
  echo "$0: ERROR: No identities found" &gt;&amp;2
  exit 1
fi
if [ "$#" -lt 1 ] || [ "$1" = "-h" ] || [ "$1" = "--help" ]; then
  echo "Usage: $0 [-i [identity_file]] [user@]machine" &gt;&amp;2
  exit 1
fi
{ eval "$GET_ID" ; } | ssh ${1%:} "umask 077; test -d .ssh || mkdir .ssh ; cat &gt;&gt; .ssh/authorized_keys" || exit 1
cat &lt;&lt;EOF
Now try logging into the machine, with "ssh '${1%:}'", and check in:
  .ssh/authorized_keys
to make sure we haven't added extra keys that you weren't expecting.
EOF</pre></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=47234#commentform" aria-label="Reply to ">Reply</a> <a class="comment_permalink" href="#comment-47234" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-even depth-1" id="comment-47261"><div class="comment_head"> <span class="comment_author">Juan Giordana</span> <span class="comment_date">May 9, 2010, 9:03 pm</span></div><div class="comment_text grt" id="comment-body-47261"><p>Hi Neil,</p><p>Thanks for the tip. I’ve been playing with ssh and keygen yesterday and missed this useful command.</p><p>Here are my two cents:</p><p>1 – Since there is no way to specify a port from the command line to this command one can add the following  to their ~/.ssh/config</p><p><code>Host remote.server.tld</code><br> Port 2222</p><p>And remove the line afterwards (see 3).</p><p>2 – Change the  permissions of  ~/.ssh/authorized_key to 600</p><p>3 – Hash the known_hosts file: This replaces all hostnames and addresses with hashed representations<br> ssh-keygen -H -f  ~/.ssh/known_hosts</p><p>Regards.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=47261#commentform" aria-label="Reply to Juan Giordana">Reply</a> <a class="comment_permalink" href="#comment-47261" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-47262"><div class="comment_head"> <span class="comment_author">Juan Francisco Giordana</span> <span class="comment_date">May 9, 2010, 9:07 pm</span></div><div class="comment_text grt" id="comment-body-47262"><p><code>Host remote.server.tld<br> Port 2222</code></p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=47262#commentform" aria-label="Reply to Juan Francisco Giordana">Reply</a> <a class="comment_permalink" href="#comment-47262" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-even depth-1" id="comment-59501"><div class="comment_head"> <span class="comment_author">Cokegen</span> <span class="comment_date">May 18, 2011, 11:03 pm</span></div><div class="comment_text grt" id="comment-body-59501"><p>To do this on a non standard port the best is to use this:</p><p>ssh-copy-id -i /path/key.pub “user@host -p 2222”</p><p>Cheers</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=59501#commentform" aria-label="Reply to Cokegen">Reply</a> <a class="comment_permalink" href="#comment-59501" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment odd alt depth-2" id="comment-60555"><div class="comment_head"> <span class="comment_author">Jordi</span> <span class="comment_date">July 8, 2011, 8:36 am</span></div><div class="comment_text grt" id="comment-body-60555"><p>xxx@server:~/.ssh# ssh-copy-id -i ~/.ssh/id_rsa.pub “xxx@server -p 2222″<br> ssh: connect to host server port 22: Connection refused</p><p>Not works</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=60555#commentform" aria-label="Reply to Jordi">Reply</a> <a class="comment_permalink" href="#comment-60555" title="permalink to this comment" rel="nofollow">Link</a></div><ul class="children"><li class="comment even depth-3" id="comment-60556"><div class="comment_head"> <span class="comment_author">Jordi</span> <span class="comment_date">July 8, 2011, 9:22 am</span></div><div class="comment_text grt" id="comment-body-60556"><p>Sorry, I repeated the command again, and worked well! Thanks!</p><p>ssh-copy-id -i ~/.ssh/id_rsa.pub “user@server -p 2222”</p><p>Now try logging into the machine, with “ssh ‘user@server -p 2222′”, and check in:</p><p> .ssh/authorized_keys</p><p>to make sure we haven’t added extra keys that you weren’t expecting.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=60556#commentform" aria-label="Reply to Jordi">Reply</a> <a class="comment_permalink" href="#comment-60556" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul></li></ul></li><li class="comment odd alt thread-odd thread-alt depth-1" id="comment-186874"><div class="comment_head"> <span class="comment_author">NoSiL</span> <span class="comment_date">May 22, 2014, 5:37 pm</span></div><div class="comment_text grt" id="comment-body-186874"><p>I found a bug:<br> cat $HOME/.ssh/id_rsa.pub | ssh <a href="mailto:username@www-03.nixcraft.in">username@www-03.nixcraft.in</a> cat &gt;&gt; .ssh/authorized_keys<br> should be<br> cat $HOME/.ssh/id_rsa.pub | ssh <a href="mailto:username@www-03.nixcraft.in">username@www-03.nixcraft.in</a> ‘cat &gt;&gt; .ssh/authorized_keys’<br> It won’t work without quotes as intended.</p><p>Also, the “ssh-keygen” followed by the piped “cat” command is sufficient to get password-less access enabled. Do both on your machine, “www-03.nixcraft.in” in the example is the remote computer you want to access.</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=186874#commentform" aria-label="Reply to NoSiL">Reply</a> <a class="comment_permalink" href="#comment-186874" title="permalink to this comment" rel="nofollow">Link</a></div></li><li class="comment even thread-even depth-1" id="comment-772811"><div class="comment_head"> <span class="comment_author">h.amiri</span> <span class="comment_date">January 5, 2016, 5:44 pm</span></div><div class="comment_text grt" id="comment-body-772811"><pre>#!/usr/bin/env bash
clear
HOST=$1
U=$2
P=$3
in=3
E_BADARGS=65
cat &lt;/dev/null`" ]&amp;&amp; echo -e "\033[5;1;31m PING 		$HOST is failed \033[0m"
#[ ! "`ssh $U@$HOST 2&gt;/dev/null`" ]&amp;&amp; echo -e "\033[5;1;31m SSH to 	$HOST is failed \033[0m" &amp;&amp; exit
mkd(){
  echo "Creating $U/.ssh On Host $HOST"
  ssh -p $P $U@$HOST "mkdir ~/.ssh"
  scp -P $P  ~/.ssh/id_rsa.pub $U@$HOST:~/.ssh/authorized_keys.tmp &amp;&amp; echo "DONE"
}
web(){
  echo "Enter your ip and user address to upload key"
  read SERVER U_
  ssh -p $P $U_@$HOST wget -q $SERVER/dl/id_rsa.pub -O .ssh/authorized_keys.tmp
}
if [ ! -f ~/.ssh/id_rsa.pub ];then
   echo "id_rsa.pub not found !"
   ssh-keygen -t rsa
else
   read -sp "Do you want to generate new keys (y/n) ?" resp
   if [ $resp = "y" ];then
      echo -e "\033[1;33m GENERATING SSH KEY \033[0m"
      ssh-keygen -t rsa
   else
      echo -e "\033[1;32m Using old keys\033[0m"
   fi
fi
echo -e "\033[1;33m ...MAKING KEYS ON HOST $HOST for USER =$U 		\033[0m"
scp -P $P ~/.ssh/id_rsa.pub $U@$HOST:~/.ssh/authorized_keys.tmp &amp;&amp; echo "DONE" || mkd
echo -e "\033[1;33m -------------------------------\033[0m"
ssh -p $P $U@$HOST "cat ~/.ssh/authorized_keys.tmp &gt;&gt; ~/.ssh/authorized_keys"
echo -e "\033[1;32m CHECKING THE PROCESS \033[0m"
ssh -p $P $U@$HOST</pre><p>I wrote it in 2009 and i was noob ;)</p></div><div class="comment_footer"> <a rel="nofollow" class="comment-reply-link" href="http://www.cyberciti.biz/faq/install-ssh-identity-key-remote-host/?replytocom=772811#commentform" aria-label="Reply to h.amiri">Reply</a> <a class="comment_permalink" href="#comment-772811" title="permalink to this comment" rel="nofollow">Link</a></div></li></ul><div id="commentform"><form method="post" action="http://www.cyberciti.biz/faq/wp-comments-post.php"> <a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display: none;">Cancel reply</a><p class="comment_form_title">Leave a Comment</p><p id="comment_form_name"> <label for="author">Name</label> <input id="author" class="input_text" name="author" value="" tabindex="1" type="text"></p><p id="comment_form_email"> <label for="email">Email</label> <input id="email" class="input_text" name="email" value="" tabindex="2" type="text"></p><p id="comment_form_comment"> <label for="comment">Comment</label><textarea name="comment" id="comment" class="input_text" tabindex="4" rows="6"></textarea></p><p id="comment_form_submit"> <input id="submit" class="input_submit" name="submit" tabindex="5" value="Submit" type="submit"></p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="6ca2ba02c6" type="hidden"></p><p style="display: none;"><input id="ak_js" name="ak_js" value="226" type="hidden"></p><input name="comment_post_ID" value="7342" id="comment_post_ID" type="hidden"> <input name="comment_parent" id="comment_parent" value="0" type="hidden"></form></div> <br><div style="font-size: 85%;">&nbsp;&nbsp; Tagged with: <a href="http://www.cyberciti.biz/faq/tag/apple-os-x/" rel="tag">apple os x</a>, <a href="http://www.cyberciti.biz/faq/tag/authentication/" rel="tag">authentication</a>, <a href="http://www.cyberciti.biz/faq/tag/keychain/" rel="tag">keychain</a>, <a href="http://www.cyberciti.biz/faq/tag/openssh/" rel="tag">openssh</a>, <a href="http://www.cyberciti.biz/faq/tag/ssh-copy-id-command/" rel="tag">ssh-copy-id command</a>, <a href="http://www.cyberciti.biz/faq/tag/ssh-keygen-command/" rel="tag">ssh-keygen command</a>, <a href="http://www.cyberciti.biz/faq/tutorial-difficulty-level/easy/" rel="tag">Easy</a></div></div><div class="prev_next"><p class="next_post">Next FAQ: <a href="http://www.cyberciti.biz/faq/restrict-linux-users-from-gdm-kdm-login-but-allow-ssh/" rel="next">Linux: Allow SSH Console Login But Not GDM / KDM / X Windows Based Login</a></p><p class="previous_post">Previous FAQ: <a href="http://www.cyberciti.biz/faq/linux-unix-creating-a-manpage/" rel="prev">HowTo: Linux / UNIX Create a Manpage</a></p></div></div><div class="sidebar"><div class="widget widget_text" id="text-384338372"><div class="textwidget"><div id="bsap_1304534" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget search-form" id="thesis-search-widget-3"><form class="search_form" method="get" action="http://www.cyberciti.biz/faq"><p> <input class="input_text" id="s" name="s" value="To search, type and hit enter" type="text"> <input id="searchsubmit" value="Search" type="hidden"></p></form></div><div class="widget widget_text" id="text-384338380"><div class="textwidget"><div id="bsap_1304718" class="bsarocks bsap_bccb43591680e039e32e874cbcc9e431"></div></div></div><div class="widget widget_text" id="text-384338375"><p class="widget_title">Featured Articles:</p><div class="textwidget"><ul><li><a href="http://www.cyberciti.biz/open-source/30-cool-best-open-source-softwares-of-2013/">30 Cool Open Source Software I Discovered in 2013</a></li><li><a href="http://www.cyberciti.biz/tips/bash-aliases-mac-centos-linux-unix.html">30 Handy Bash Shell Aliases For Linux / Unix / Mac OS X</a></li><li><a href="http://www.cyberciti.biz/networking/nmap-command-examples-tutorials/">Top 30 Nmap Command Examples For Sys/Network Admins</a></li><li><a href="http://www.cyberciti.biz/tips/php-security-best-practices-tutorial.html">25 PHP Security Best Practices For Sys Admins</a></li><li><a href="http://www.cyberciti.biz/tips/top-linux-monitoring-tools.html">20 Linux System Monitoring Tools Every SysAdmin Should Know</a></li><li><a href="http://www.cyberciti.biz/tips/linux-security.html">20 Linux Server Hardening Security Tips</a></li><li><a href="http://www.cyberciti.biz/tips/linux-iptables-examples.html">Linux: 20 Iptables Examples For New SysAdmins</a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-openssh-server-best-practices.html">Top 20 OpenSSH Server Best Security Practices </a></li><li><a href="http://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 20 Nginx WebServer Best Security Practices</a></li><li><a href="http://www.cyberciti.biz/tips/check-unix-linux-configuration-file-for-syntax-errors.html">20 Examples: Make Sure Unix / Linux Configuration Files Are Free From Syntax Errors</a></li><li><a href="http://www.cyberciti.biz/open-source/best-terminal-applications-for-linux-unix-macosx/">15 Greatest Open Source Terminal Applications Of 2012</a></li><li><a href="http://www.cyberciti.biz/tips/my-10-unix-command-line-mistakes.html">My 10 UNIX Command Line Mistakes</a></li><li><a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html">Top 10 Open Source Web-Based Project Management Software</a></li><li><a href="http://www.cyberciti.biz/tips/download-email-client-for-linux-mac-osx-windows.html">Top 5 Email Client For Linux, Mac OS X, and Windows Users</a></li><li><a href="http://www.cyberciti.biz/tips/linux-laptop.html">The Novice Guide To Buying A Linux Laptop</a></li></ul></div></div><div class="widget widget_text" id="text-384338378"><div class="textwidget">  <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 1057px;" data-ad-client="ca-pub-7825705102693166" data-ad-slot="6636490668"></ins> </div></div><div class="widget widget_text" id="text-384338379"><p class="widget_title">Don’t Miss Any Linux Tips</p><div class="textwidget"><form style="border: 1px solid rgb(204, 204, 204); padding: 3px; text-align: center;" action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"><p>Get nixCraft in your inbox. It's free:</p><p><input value="Your email address" style="width: 140px;" name="email" type="text"></p><input value="Nixcraft-LinuxFreebsdSolarisTipsTricks" name="uri" type="hidden"><input name="loc" value="en_US" type="hidden"><input value="Subscribe" type="submit"></form></div></div><div class="widget widget_text" id="text-384338377"><p class="widget_title">Follow Us</p><div class="textwidget"><ul><li>  <div class="g-page" data-width="273" data-href="//plus.google.com/u/0/104257421720370350735" data-layout="landscape" data-rel="publisher"></div></li><li><div class="fb-page" data-href="https://www.facebook.com/nixcraft" data-width="300" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/nixcraft"><a href="https://www.facebook.com/nixcraft">nixCraft</a></blockquote></div></div></li><li><div id="fb-root"></div>  <a href="https://twitter.com/nixcraft" class="twitter-follow-button" data-show-count="true" data-size="large">Follow @nixcraft</a>  </li></ul></div></div></div></div><div class="footer"> ©2000-2016 nixCraft. All rights reserved. <a href="http://www.cyberciti.biz/tips/privacy">Privacy</a> - <a href="http://www.cyberciti.biz/tips/disclaimer">Terms of Service</a> - <a href="http://www.cyberciti.biz/tips/contact-us">Questions or Comments</a></div></div>






</body>
</html>
