<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="zh-cn" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>使用 emacs org-mode 画图 - chenfanyu - 博客园</title>


<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/chenfanyu/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/chenfanyu/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/chenfanyu/wlwmanifest.xml">
  



<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body>
<a name="top"></a>

<div id="container">
	<div id="header">
<div id="top">
			<h1><a id="Header1_HeaderTitle" class="weblogtitle" href="http://www.cnblogs.com/chenfanyu/">chenfanyu</a></h1>
			<p></p>
			</div>
<div id="navstats">
posts - 5, comments - 3, trackbacks - 0, articles - 0</div><div id="nav">
<ul>
	<li>
		<a id="Header1_MyLinks1_HomeLink" href="http://www.cnblogs.com/">博客园</a></li>
	<li>
		<a id="Header1_MyLinks1_MyHomeLink" href="http://www.cnblogs.com/chenfanyu/">首页</a></li>
	<li>
		<a id="Header1_MyLinks1_NewPostLink" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
	<li>
		<a id="Header1_MyLinks1_ContactLink" accesskey="9" rel="nofollow" href="http://msg.cnblogs.com/send/chenfanyu">联系</a></li>
	<li>
		<a id="Header1_MyLinks1_Admin" rel="nofollow" href="http://i.cnblogs.com/">管理</a></li>
</ul>
<span>
	<a id="Header1_MyLinks1_XMLLink" href="http://www.cnblogs.com/chenfanyu/rss"><img src="xml.gif" alt="订阅"></a>
	<a id="Header1_MyLinks1_Syndication" href="http://www.cnblogs.com/chenfanyu/rss">订阅</a>
</span>
</div>


</div>
	<div class="clr"></div>
	<div id="sidebar-a">
		
			<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" title="Calendar" cellpadding="0" cellspacing="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a>&lt;</a></td><td align="center">2016年7月</td><td class="CalNextPrev" align="right"><a>&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td class="CalWeekendDay" align="center">2</td></tr><tr><td class="CalWeekendDay" align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td class="CalWeekendDay" align="center">9</td></tr><tr><td class="CalWeekendDay" align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td class="CalTodayDay" align="center">16</td></tr><tr><td class="CalWeekendDay" align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td class="CalWeekendDay" align="center">23</td></tr><tr><td class="CalWeekendDay" align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td class="CalWeekendDay" align="center">30</td></tr><tr><td class="CalWeekendDay" align="center">31</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td></tr>
</tbody></table></div>
			
<div id="news">
	<div id="blog-news"><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/chenfanyu/">chenfanyu</a><br>园龄：<a href="http://home.cnblogs.com/u/chenfanyu/" title="入园时间：2012-12-31">3年6个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/chenfanyu/followers/">0</a><br>关注：<a href="http://home.cnblogs.com/u/chenfanyu/followees/">0</a><div id="p_b_follow"><a>+加关注</a></div></div></div></div>

			<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input id="q" class="input_my_zzk" type="text">&nbsp;<input value="找找看" id="btnZzk" class="btn_my_zzk" type="button"></div>
<div id="widget_my_google" class="div_my_zzk"><input name="google_q" id="google_q" class="input_my_zzk" type="text">&nbsp;<input value="谷歌搜索" class="btn_my_zzk" type="button"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="http://www.cnblogs.com/chenfanyu/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="http://www.cnblogs.com/chenfanyu/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="http://www.cnblogs.com/chenfanyu/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="http://www.cnblogs.com/chenfanyu/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="http://www.cnblogs.com/chenfanyu/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display: none;">

</div></div><div id="sidebar_toptags" class="sidebar-block">
<h3 class="catListTitle">我的标签</h3>
<div id="MyTag">
<ul>
<li><a href="http://www.cnblogs.com/chenfanyu/tag/Emacs/">Emacs</a>(3)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/org/">org</a>(2)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/plantuml/">plantuml</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/vs2012/">vs2012</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/cua-mode/">cua-mode</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/ditaa/">ditaa</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/emacs%20firefox%20chrome/">emacs firefox chrome</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/graph/">graph</a>(1)</li><li><a href="http://www.cnblogs.com/chenfanyu/tag/graphviz/">graphviz</a>(1)</li>
</ul>
</div></div><div id="sidebar_categories">
		<h3>随笔分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/chenfanyu/category/442296.html">emacs(4)</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/chenfanyu/category/442297.html">git</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/chenfanyu/category/442298.html">linux</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/chenfanyu/category/442317.html">vs2012(1)</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/chenfanyu/category/442351.html">windows</a>
				</li>
			
				</ul>
			
	
		<h3>随笔档案</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_1_Link_0" href="http://www.cnblogs.com/chenfanyu/archive/2013/01.html">2013年1月 (4)</a>
				</li>
			
				<li><a id="CatList_LinkList_1_Link_1" href="http://www.cnblogs.com/chenfanyu/archive/2012/12.html">2012年12月 (1)</a>
				</li>
			
				</ul>
			
	
		<h3>文章分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_2_Link_0" href="http://www.cnblogs.com/chenfanyu/category/442347.html">emacs</a>
				</li>
			
				<li><a id="CatList_LinkList_2_Link_1" href="http://www.cnblogs.com/chenfanyu/category/442345.html">git</a>
				</li>
			
				<li><a id="CatList_LinkList_2_Link_2" href="http://www.cnblogs.com/chenfanyu/category/442348.html">linux</a>
				</li>
			
				<li><a id="CatList_LinkList_2_Link_3" href="http://www.cnblogs.com/chenfanyu/category/442349.html">python</a>
				</li>
			
				<li><a id="CatList_LinkList_2_Link_4" href="http://www.cnblogs.com/chenfanyu/category/442346.html">vs2012</a>
				</li>
			
				<li><a id="CatList_LinkList_2_Link_5" href="http://www.cnblogs.com/chenfanyu/category/442350.html">windows</a>
				</li>
			
				</ul>
			
	</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html#3110953">1. Re:emacs cua-mode使用</a></li>
        <li class="recent_comment_body">@chenfanyu果然可以了, thx!...</li>
        <li class="recent_comment_author">--wang_yb</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html#3110002">2. Re:emacs cua-mode使用</a></li>
        <li class="recent_comment_body">@wang_yb加上： #+LANGUAGE: zh-CN...</li>
        <li class="recent_comment_author">--chenfanyu</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html#3107563">3. Re:emacs cua-mode使用</a></li>
        <li class="recent_comment_body">请问emacs 导出html时, 如何做到生成的 [目录] 2个汉字, 我每次生成都是 [Table of Content] 英文.</li>
        <li class="recent_comment_author">--wang_yb</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="#">1. 使用 emacs org-mode 画图(2331)</a></li><li><a href="http://www.cnblogs.com/chenfanyu/archive/2012/12/31/2841160.html">2. vs2012安装使用(1398)</a></li><li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/05/2846542.html">3. emacs org 文档实践(448)</a></li><li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/08/2851820.html">4. emacs作为firefox和chrome的编辑器(363)</a></li><li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html">5. emacs cua-mode使用(300)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html">1. emacs cua-mode使用(3)</a></li></ul></div>
</div></div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div style="display: none;" id="topdigg_posts_wrap">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"></div>
</div></div></div></div>
		
	</div>
	<div id="content">
		
<div id="post_detail">
	<div class="post">
		<div class="posthead">
			<h2>
				<a id="cb_post_title_url" class="singleposttitle" href="#">使用 emacs org-mode 画图</a>
			</h2>
 			Posted on <span id="post-date">2013-01-27 15:43</span> <a href="http://www.cnblogs.com/chenfanyu/">chenfanyu</a> 阅读(<span id="post_view_count">2330</span>) 评论(<span id="post_comment_count">0</span>)  <a href="http://i.cnblogs.com/EditPosts.aspx?postid=2878845" rel="nofollow">编辑</a> <a href="#">收藏</a>
			
			
		</div>
		<div class="postbody"><div id="cnblogs_post_body"><div id="table-of-contents">
<h2>目录</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 概述</a>
<ul>
<li><a href="#sec-1-1">1.1 参考</a></li>
<li><a href="#sec-1-2">1.2 配置及相关准备工作</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1 语言设置</a></li>
<li><a href="#sec-1-2-2">1.2.2 不进行安全性提示</a></li>
<li><a href="#sec-1-2-3">1.2.3 建立 yas 快捷键</a></li>
<li><a href="#sec-1-2-4">1.2.4 jar 包路径设置</a></li>
<li><a href="#sec-1-2-5">1.2.5 预览图像</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-2">2 ditaa</a>
<ul>
<li><a href="#sec-2-1">2.1 参考</a></li>
<li><a href="#sec-2-2">2.2 实现原理</a></li>
<li><a href="#sec-2-3">2.3 ditaa使用说明</a></li>
<li><a href="#sec-2-4">2.4 示例</a></li>
</ul>
</li>
<li><a href="#sec-3">3 graphviz</a>
<ul>
<li><a href="#sec-3-1">3.1 示例</a></li>
</ul>
</li>
<li><a href="#sec-4">4 plantuml</a>
<ul>
<li><a href="#sec-4-1">4.1 配置</a></li>
<li><a href="#sec-4-2">4.2 示例</a></li>
</ul>
</li>
<li><a href="#sec-5">5 致谢</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">概述</h2>
<div class="outline-text-2" id="text-1">

<p>  org画图主要有以下相关模块
</p><ol>
<li>artist-mode/picture-mode: 生成 ascii 图
</li>
<li>ditaa: 根据ascii图生成图片
</li>
<li>graphviz: 生成关系图
</li>
<li>plantuml: 基于graphiz之上,生成uml图
</li>
</ol>


<p>  
  当采用 org-mode 时,可以使用 #+BEGIN_SRC  #+END_SRC 标签生成ditaa,graphiz,plantuml图
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">参考</h3>
<div class="outline-text-3" id="text-1-1">

<ol>
<li><a href="http://doc.norang.ca/org-mode.html">Bernt Hansen: Org Mode - Organize Your Life In Plain Text </a>
</li>
</ol>

</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">配置及相关准备工作</h3>
<div class="outline-text-3" id="text-1-2">


</div>

<div id="outline-container-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">语言设置</h4>
<div class="outline-text-4" id="text-1-2-1">

<p>   设置 org-babel-load-languages 变量 增加允许语言设置, ditaa 为 t
</p>


<pre class="src src-emacs-lisp">(org-babel-do-load-languages
  'org-babel-load-languages
  '(<span style="color: rgb(150, 152, 150); font-style: italic;">;; </span><span style="color: rgb(150, 152, 150); font-style: italic;">other Babel languages</span>
    (ditaa . t)
    (plantuml . t)
    (dot . t)
    (xxx . t)
    ))
</pre>

<p>
   这样设置后,可以按照以下方式调用
</p>


<pre class="example">#+BEGIN_SRC ditaa :file some_filename.png :cmdline -r -s 0.8
#+BEGIN_SRC plantuml :file export-file-name :cmdline -charset UTF-8
</pre>

<p>
   如果不进行以上设置,通过begin_src将不会成功,需要按照以下方式调用:
</p>


<pre class="example">#+begin_ditaa test.png -r -s 0.8
</pre>

</div>

</div>

<div id="outline-container-1-2-2" class="outline-4">
<h4 id="sec-1-2-2">不进行安全性提示</h4>
<div class="outline-text-4" id="text-1-2-2">

<p>    生成图像时不予提示
</p>


<pre class="src src-emacs-lisp">(setq org-confirm-babel-evaluate nil)
</pre>

</div>

</div>

<div id="outline-container-1-2-3" class="outline-4">
<h4 id="sec-1-2-3">建立 yas 快捷键</h4>
<div class="outline-text-4" id="text-1-2-3">

<ol>
<li>dita
</li>
</ol>




<pre class="example">#+BEGIN_SRC ditaa :file ${1:export-file-name} :cmdline -r -s 0.8 
${0}
#+END_SRC 
</pre>


<ol>
<li>dot
</li>
</ol>




<pre class="example">#+BEGIN_SRC dot :file ${1:export-file-name}.png :cmdline -Kdot -Tpng
title ${0}
#+END_SRC 
</pre>

<ol>
<li>uml
</li>
</ol>




<pre class="example">#+BEGIN_SRC plantuml :file ${1:export-file-name} :cmdline -charset UTF-8
title ${0}
#+END_SRC
</pre>

</div>

</div>

<div id="outline-container-1-2-4" class="outline-4">
<h4 id="sec-1-2-4">jar 包路径设置</h4>
<div class="outline-text-4" id="text-1-2-4">




<pre class="src src-emacs-lisp">(setq org-plantuml-jar-path
      (expand-file-name <span style="color: rgb(138, 190, 183);">"~/.emacs.d/scripts/plantuml.jar"</span>))
(setq org-ditaa-jar-path (format <span style="color: rgb(138, 190, 183);">"%s%s"</span> (<span style="color: rgb(181, 189, 104);">if</span> *cygwin* <span style="color: rgb(138, 190, 183);">"c:/cygwin"</span> <span style="color: rgb(138, 190, 183);">""</span>)
                                       (expand-file-name <span style="color: rgb(138, 190, 183);">"~/.emacs.d/elpa/contrib/scripts/ditaa.jar"</span>)) )
</pre>

</div>

</div>

<div id="outline-container-1-2-5" class="outline-4">
<h4 id="sec-1-2-5">预览图像</h4>
<div class="outline-text-4" id="text-1-2-5">




<pre class="src src-emacs-lisp">(add-hook 'org-babel-after-execute-hook 'bh/display-inline-images 'append)

<span style="color: rgb(150, 152, 150); font-style: italic;">; </span><span style="color: rgb(150, 152, 150); font-style: italic;">Make babel results blocks lowercase</span>
(setq org-babel-results-keyword <span style="color: rgb(138, 190, 183);">"results"</span>)

(<span style="color: rgb(181, 189, 104);">defun</span> <span style="color: rgb(129, 162, 190);">bh/display-inline-images</span> ()
  (<span style="color: rgb(181, 189, 104);">condition-case</span> nil
      (org-display-inline-images)
    (<span style="color: rgb(204, 102, 102); font-weight: bold;">error</span> nil)))

</pre>

<p>
 此时输入  <code>C-c C-c</code> 生成图像, <code>C-c C-x C-v</code> 开关内联图像显示
</p>
</div>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">ditaa</h2>
<div class="outline-text-2" id="text-2">


</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">参考</h3>
<div class="outline-text-3" id="text-2-1">

<ol>
<li><a href="http://www.lysator.liu.se/~tab/artist/">artist</a>
</li>
<li><a href="http://www.emacswiki.org/emacs/PictureMode">picture mode</a>
</li>
<li><a href="http://ditaa.sourceforge.net/">ditaa sourceforge</a> 有非常详细的文档和示例
</li>
<li><a href="http://emacser.com/artist-mode.htm">emacser: artist-mode 画文本图</a>
</li>
<li><a href="http://emacser.com/emacs-ditaa.htm">emacser: emacs绘图 - ditaa篇</a>
</li>
<li><a href="http://emacser.com/emacs-ditaa.htm">emacser: emacs绘图 - ditaa篇</a>
</li>
</ol>


</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">实现原理</h3>
<div class="outline-text-3" id="text-2-2">

<p>   先通过artist-mode或者picture-mode生成ascii文本,然后
</p>
<p>
   通过调用java 包 ditaa.jar 生成 图片,并将图片插入到 html 代码中. 如以下示例,实际调用的脚本是
</p>


<pre class="example">java -Dfile.encoding=UTF-8 -jar /path/ditaa.jar -r -s 0.8 c\:/Users/ADMINI\~1/AppData/Local/Temp/babel-124Lpi/ditaa-124xjt e\:/gitroot/doc/org/share/emacs/ditaa_test.png
</pre>

<p>
   当前版本为 0.9
</p></div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">ditaa使用说明</h3>
<div class="outline-text-3" id="text-2-3">

<table rules="groups" frame="hsides" border="2" cellpadding="6" cellspacing="0">
<caption>参数说明</caption>
<colgroup><col class="left"><col class="left"><col class="left">
</colgroup>
<thead>
<tr><th scope="col" class="left">param</th><th scope="col" class="left">long param</th><th scope="col" class="left">desc</th></tr>
</thead>
<tbody>
<tr><td class="left">-e</td><td class="left">–encoding</td><td class="left">指定编码</td></tr>
<tr><td class="left">-E</td><td class="left">–no-separation</td><td class="left">嵌套矩形是否分隔,缺省有分隔,设置后无</td></tr>
<tr><td class="left">-r</td><td class="left">–round-corners</td><td class="left">圆角矩形</td></tr>
<tr><td class="left">-s</td><td class="left">–scale</td><td class="left">矩形大小 ,比如 0.8</td></tr>
<tr><td class="left">-o</td><td class="left">–overwrite</td><td class="left">如果有同名文件覆盖</td></tr>
<tr><td class="left">-S</td><td class="left">–no-shadows</td><td class="left"></td></tr>
<tr><td class="left">-A</td><td class="left">–no-antialias</td><td class="left"></td></tr>
<tr><td class="left">-v</td><td class="left">–verbose</td><td class="left"></td></tr>
<tr><td class="left">-h</td><td class="left">–help</td><td class="left"></td></tr>
<tr><td class="left">-t</td><td class="left">–tabs</td><td class="left"></td></tr>
<tr><td class="left">-h</td><td class="left">–html</td><td class="left"></td></tr>
</tbody>
</table>


<p>
   图形规则
</p><ol>
<li>圆角矩形:
      用/ \ 作为图形的四个顶角
</li>
<li>color
<ul>
<li>cxxx xxx别表示RGB
</li>
<li>也可以采用预设的值: cRED cGRE cBLK cBLU cPNK cYEL
</li>
</ul>

</li>
<li>tags
      在矩形内部标记:
<ul>
<li>{d} document
</li>
<li>{s} storage
</li>
<li>{io} input/output
</li>
</ul>

</li>
<li>dashed lines 虚线
      竖虚线 :: :
      横虚线 :: =
</li>
<li>*
</li>
<li>矩形内的文本:
      o :: · 号
</li>
</ol>


</div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4">示例</h3>
<div class="outline-text-3" id="text-2-4">




<pre class="example">#+begin_src ditaa :file test_ditaa.png :cmdline -r -s 0.8

    +-----------+        +---------+
    |    PLC    |        |         |
    |  Network  +&lt;------&gt;+   PLC   +&lt;---=---------+
    |    cRED   |        |  c707   |              |
    +-----------+        +----+----+              |
                              ^                   |
                              |                   |
                              |  +----------------|-----------------+
                              |  |                |                 |
                              v  v                v                 v
      +----------+       +----+--+--+      +-------+---+      +-----+-----+       Windows clients
      |          |       |          |      |           |      |           |      +----+      +----+
      | Database +&lt;-----&gt;+  Shared  +&lt;----&gt;+ Executive +&lt;-=--&gt;+ Operator  +&lt;----&gt;|cYEL| . . .|cYEL|
      |   c707   |       |  Memory  |      |   c707    |      | Server    |      |    |      |    |
      +--+----+--+       |{d} cGRE  |      +------+----+      |   c707    |      +----+      +----+
         ^    ^          +----------+             ^           +-------+---+
         |    |                                   |
         |    +--------=--------------------------+
         v
+--------+--------+
|                 |
| Millwide System |            -------- Data ---------
| cBLU            |            --=----- Signals ---=--
+-----------------+

#+END_SRC
</pre>

<p>
生成结果
</p>

<p>
<img src="27161347-e2af9fccd55d4accbffcbac3a74211e7.jpg" alt="http://images.cnitblog.com/blog/485361/201301/27161349-3c9f33a1613947078d7c1037246ba62a.jpg">
</p>

</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">graphviz</h2>
<div class="outline-text-2" id="text-3">

<ol>
<li><a href="http://www.graphviz.org/">homepage</a> 当前版本 2.28.0
</li>
</ol>


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">示例</h3>
<div class="outline-text-3" id="text-3-1">




<pre class="example">#+BEGIN_SRC dot :file test_graphviz.png :cmdline -Kdot -Tpng
digraph G {
  size="8,6"
  ratio=expand
  edge [dir=both]
  plcnet [shape=box, label="PLC Network"]
  subgraph cluster_wrapline {
    label="Wrapline Control System"
    color=purple
    subgraph {
    rank=same
    exec
    sharedmem [style=filled, fillcolor=lightgrey, shape=box]
    }
    edge[style=dotted, dir=none]
    exec -&gt; opserver
    exec -&gt; db
    plc -&gt; exec
    edge [style=line, dir=both]
    exec -&gt; sharedmem
    sharedmem -&gt; db
    plc -&gt; sharedmem
    sharedmem -&gt; opserver
  }
  plcnet -&gt; plc [constraint=false]
  millwide [shape=box, label="Millwide System"]
  db -&gt; millwide

  subgraph cluster_opclients {
    color=blue
    label="Operator Clients"
    rankdir=LR
    labelloc=b
    node[label=client]
    opserver -&gt; client1
    opserver -&gt; client2
    opserver -&gt; client3
  }
}

#+end_src

</pre>




<p>
<img src="27161351-f6f42bb94da3404896b39bdd23fc0185.jpg" alt="http://images.cnitblog.com/blog/485361/201301/27161352-25d17a200fdf4b2c9049799d71dbf9df.jpg">
</p>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">plantuml</h2>
<div class="outline-text-2" id="text-4">

<ol>
<li><a href="http://plantuml.sourceforge.net/">homepage</a> 当前版本 7952
</li>
</ol>


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1">配置</h3>
<div class="outline-text-3" id="text-4-1">

</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2">示例</h3>
<div class="outline-text-3" id="text-4-2">




<pre class="example">#+BEGIN_SRC plantuml :file test_uml.png  :cmdline -charset UTF-8
title Example Sequence Diagram
activate Client
Client -&gt; Server: Session Initiation
note right: Client requests new session
activate Server
Client &lt;-- Server: Authorization Request
note left: Server requires authentication
Client -&gt; Server: Authorization Response
note right: Client provides authentication details
Server --&gt; Client: Session Token
note left: Session established
deactivate Server
Client -&gt; Client: Saves token
deactivate Client
#+END_SRC
</pre>




<p>
<img src="27161354-c6ba90cf41dd4bea9c648f3a7975b67b.jpg" alt="http://images.cnitblog.com/blog/485361/201301/27161355-092b3993d45c4577ab92050c1c052236.jpg">
</p>

</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">致谢</h2>
<div class="outline-text-2" id="text-5">

<p>  感谢 Open Source 提供的 cnblogs 插件, 并非常热心的及时解决了图片的发送问题!
</p></div>
</div>
</div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/chenfanyu/category/442296.html">emacs</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/chenfanyu/tag/Emacs/">Emacs</a>, <a href="http://www.cnblogs.com/chenfanyu/tag/org/">org</a>, <a href="http://www.cnblogs.com/chenfanyu/tag/graph/">graph</a>, <a href="http://www.cnblogs.com/chenfanyu/tag/ditaa/">ditaa</a>, <a href="http://www.cnblogs.com/chenfanyu/tag/graphviz/">graphviz</a>, <a href="http://www.cnblogs.com/chenfanyu/tag/plantuml/">plantuml</a></div>
<div id="blog_post_info"><div id="green_channel">
<a id="green_channel_digg">好文要顶</a>
<a id="green_channel_follow">关注我</a>
<a id="green_channel_favorite">收藏该文</a><a id="green_channel_contact" href="http://msg.cnblogs.com/send/chenfanyu" target="_blank">联系我</a>
<a id="green_channel_weibo" title="分享至新浪微博"><img src="icon_weibo_24.png" alt=""></a>
<a id="green_channel_wechat" title="分享至微信"><img src="wechat.png" alt=""></a>
</div>
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/chenfanyu/" target="_blank"><img src="sample_face.gif" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/chenfanyu/">chenfanyu</a><br>
<a href="http://home.cnblogs.com/u/chenfanyu/followees">关注 - 0</a><br>
<a href="http://home.cnblogs.com/u/chenfanyu/followers">粉丝 - 0</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
    <a>+加关注</a>
</div>
</div>
<div id="div_digg">										
    <div class="diggit">
        <span class="diggnum" id="digg_count">0</span>
    </div>
	<div class="buryit"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/08/2851820.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/08/2851820.html" title="发布于2013-01-08 20:52">emacs作为firefox和chrome的编辑器</a><br><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/29/2882172.html" title="发布于2013-01-29 22:53">emacs cua-mode使用</a><br></div>
</div>

</div>
	</div></div><a name="!comments"></a><div id="blog-comments-placeholder"></div>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container">
<div id="commentform_title">发表评论</div>
<span id="tip_comment" style="color: Red;"></span>
<p>
昵称：<input id="tbCommentAuthor" class="author" disabled="disabled" size="50" value="巴蛮子" type="text">
</p>
<div class="commentbox_main">
<div class="commentbox_title">
<div class="commentbox_title_left">评论内容：</div>
<div class="commentbox_title_right">
<img id="ubb_quote" class="comment_icon" src="quote.gif" alt="引用" title="添加引用">
<img id="ubb_bold" class="comment_icon" src="b.png" alt="粗体" title="添加粗体">
<img id="ubb_url" class="comment_icon" src="lk.png" alt="链接" title="添加链接">
<img id="ubb_indent" class="comment_icon" src="indent.png" alt="缩进" title="添加首行缩进">
<img id="ubb_code" class="comment_icon" src="InsertCode.gif" alt="代码" title="添加代码">
<img id="ubb_img" class="comment_icon" src="img.gif" alt="图片" title="上传图片">
</div>
</div>
<div class="clear"></div>
<textarea id="tbCommentBody" class="comment_textarea"></textarea>
</div>
<p id="commentbox_opt">
<input id="btn_comment_submit" class="comment_btn" value="提交评论" type="button">
<span id="span_comment_canceledit" style="display: none;"><a>不改了</a></span>
<a>退出登录</a>
        <a id="commentbox_opt_sub" title="订阅后有新评论时会邮件通知您">订阅评论</a>
</p>
<div id="tip_comment2" style="color: Red;"></div>
<p>
[Ctrl+Enter快捷键提交]
</p>
<div style="display: none;">
<span id="comment_edit_id"></span><span id="span_parentcomment_id"></span>
<span id="span_parent_id"></span>
<span id="span_comment_replyto"></span>
<span id="span_comment_posted"></span>
</div>
</div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】50万行VC++源码: 大型组态工控、电力仿真CAD与GIS源码库</a><br><a href="http://www.rongcloud.cn/" target="_blank">【推荐】融云即时通讯云－豆果美食、Faceu等亿级APP都在用</a><br><a href="http://group.cnblogs.com/topic/75069.html" target="_blank">【福利】你是我的好朋友，我要送你个天猫红包</a><br></div>
<div id="opt_under_post"></div>
<div id="ad_c1" class="c_ad_block"><a href="http://www.gcpowertools.com.cn/products/activereports_overview.htm?utm_source=cnblogs&amp;utm_medium=blogpage&amp;utm_term=bottom&amp;utm_content=AR&amp;utm_campaign=community" target="_blank"><img src="24442-20160630110639921-1991307518.gif" alt="" height="250" width="300"></a></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/549541/" target="_blank">跨界项目：基于Intel平台的Chromebook有望运行Windows软件</a><br> ·  <a href="http://news.cnblogs.com/n/549540/" target="_blank">微软：升级Win10失败 免费送笔记本一台！</a><br> ·  <a href="http://news.cnblogs.com/n/549539/" target="_blank">2016机器人世界杯：不容错过的精彩摔倒瞬间</a><br> ·  <a href="http://news.cnblogs.com/n/549538/" target="_blank">微信Windows 10应用现身Windows商店</a><br> ·  <a href="http://news.cnblogs.com/n/549537/" target="_blank">微软iOS应用迁移工具再进化：全新UIKit API</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="ad_c2" class="c_ad_block"><a href="https://www.jiguang.cn/?from=cnblogs01" target="_blank"><img src="24442-20160613130538213-1713265809.jpg" alt="" height="60" width="468"></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/548394/" target="_blank">如何给变量取个简短且无歧义的名字</a><br> ·  <a href="http://kb.cnblogs.com/page/549080/" target="_blank">编程的智慧</a><br> ·  <a href="http://kb.cnblogs.com/page/549049/" target="_blank">写给初学前端工程师的一封信</a><br> ·  <a href="http://kb.cnblogs.com/page/544641/" target="_blank">抽象：程序员必备的能力</a><br> ·  <a href="http://kb.cnblogs.com/page/213197/" target="_blank">编程同写作，写代码只是在码字</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>

</div>


	</div>
	<div id="footer">
		
<p align="center">Copyright Copyright chenfanyu</p>


		
	</div>
</div>



</body>
</html>
