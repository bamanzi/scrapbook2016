<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="http://forlinux.blog.51cto.com/#">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> 运维的我要学开发-Fabric(1) - 专注linux - 51CTO技术博客</title>
<meta name="description" content="Fabric入门:&nbsp;&nbsp;Fabric是一个Python的库，是一个提供给使用SSH相关的应用程序开发者和系统管理的命令行工具它提供了一个操作执行本地或者远程机器shell命令的套件，可以上传下载文件,提示用户输入和中止..">
<meta name="keywords" content="python,Fabric">
<meta http-equiv="Cache-Control" content="private">
<base href="">






<link rel="alternate" href="http://forlinux.blog.51cto.com/rss.php?uid=8001278" type="application/rss+xml" title="RSS 2.0">
<link rel="edituri" type="application/rsd+xml" title="rsd" href="http://forlinux.blog.51cto.com/xmlrpc.php?rsd=1">






<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>

<body>

<div id="home_top">
<div class="top_nav" style="width: 990px;">
<div class="left" style="margin-top: 10px; width: 440px;"><a href="http://blog.51cto.com/" target="_blank"><img src="head_blog_sibebar_logo.gif" style="margin-top: -4px;" align="absmiddle"></a><a target="_blank" href="http://www.51cto.com/">51CTO首页</a><img src="top_bg_xian.gif" style="margin-top: -4px;" align="absmiddle" height="25" width="16"><a href="http://blog.51cto.com/" target="_blank">51CTO博客</a><img src="top_bg_xian.gif" style="margin-top: -4px;" align="absmiddle" height="25" width="16"><a href="http://home.51cto.com/?reback=http%253A%252F%252Fforlinux.blog.51cto.com%252F8001278%252F1407391">我的博客</a><img src="top_bg_xian.gif" style="margin-top: -4px;" align="absmiddle" height="25" width="16">

<a target="_blank" href="http://blog.51cto.com/search.php">搜索</a>
<a style="color: rgb(255, 0, 0); text-decoration: underline;" id="showMessagerDim">每日博报</a>
</div>

<div class="right" style="width: 550px;">
<div class="more"><img src="top_shequ.gif" align="absmiddle" height="16" width="27"><a target="_blank" style="color: rgb(204, 0, 0);" href="http://gaozhao.51cto.com/">招聘</a><a style="color: rgb(204, 0, 0);" target="_blank" href="http://edu.51cto.com/">学院</a><a target="_blank" href="http://bbs.51cto.com/">论坛</a><a target="_blank" href="http://blog.51cto.com/">博客</a><a target="_blank" href="http://down.51cto.com/">下载</a><a>更多<img style="padding-left: 4px;" src="nav_ico1.gif" align="absmiddle"></a>            </div>            <span id="login_status"><div class="login" style="padding-top: 8px; text-align: right;"><a href="http://home.51cto.com/index?reback=http://forlinux.blog.51cto.com/8001278/1407391" target="_self">登录</a><a href="http://ucenter.51cto.com/2015/register.php?reback=http://forlinux.blog.51cto.com/8001278/1407391" target="_self">注册</a></div></span>                </div>    </div></div>



<div class="subMenu3" id="s3">
<ul>
<li><a href="http://home.51cto.com/" target="_blank">家园</a></li>
<li><a href="http://edu.51cto.com/" target="_blank">学院</a></li>
<li><a href="http://blog.51cto.com/" target="_blank">博客</a></li>
<li><a href="http://bbs.51cto.com/" target="_blank">论坛</a></li>
<li><a href="http://down.51cto.com/" target="_blank">下载</a></li>

<li><a href="http://selftest.51cto.com/" target="_blank">自测</a></li>
<li><a href="http://doctor.51cto.com/" target="_blank">门诊</a></li>
<li><a href="http://blog.51cto.com/newsletter/" target="_blank">周刊</a></li>
<li><a href="http://book.51cto.com/" target="_blank">读书</a></li>
<li><a href="http://t.51cto.com/" style="color: red;" target="_blank">题库</a></li>
<li><a href="http://gaozhao.51cto.com/" target="_blank">招聘</a></li>
</ul>
</div>
<!--简导航end-->



<div class="headerBox">
<div class="header">
<div class="header_l">
<div class="logo_blogname">



<div class="blogName">
<a href="http://forlinux.blog.51cto.com/"><h1>专注linux</h1></a>
</div>
</div><!--logo_blogname end-->
<div class="blogLink">

<a href="http://forlinux.blog.51cto.com/">http://forlinux.blog.51cto.com</a> <input id="txtUser" size="32" value="http://forlinux.blog.51cto.com" type="hidden">   <a>【复制】</a> <a href="http://forlinux.blog.51cto.com/rss.php?uid=8001278" target="_blank"></a><a href="http://forlinux.blog.51cto.com/rss.php?uid=8001278" target="_blank">【订阅】</a>

</div>



</div><!--header_l end-->
<div class="header_r">
<div class="blogInfo"><span><a href="http://forlinux.blog.51cto.com/8001278/o" title="察看Jeff_Linux所有原创文章">原创</a>:57</span><span><a href="http://forlinux.blog.51cto.com/8001278/t" title="察看Jeff_Linux所有翻译文章">翻译</a>:0</span><span><a href="http://forlinux.blog.51cto.com/8001278/c" title="察看Jeff_Linux所有转载文章">转载</a>:0</span></div>
<div class="blogNav"><a href="http://forlinux.blog.51cto.com/">博 客</a>|<a href="http://home.51cto.com/apps/photo/index.php?s=/Index/photos/uid/8001278">图库</a>|<a href="http://forlinux.blog.51cto.com/addblog.php">写博文</a>|<a href="http://51ctoblog.blog.51cto.com/all/26414/4" target="_blank">帮 助</a></div>
</div>
</div>
<!--header end-->
</div><!--headerBox end-->
<div class="mainNav">
<span class="mainNavT"></span>
<ul>
<li><a href="http://forlinux.blog.51cto.com/">首页</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-1">Shell</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-2">Linux基础</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-3">linux系列博文</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-4">Python自动化运维</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-5">虚拟化技术</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-6">Php技术</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-7">MySQL技术</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-8">云计算</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-10">监控</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-11">随笔/学习计划</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-12">Cubieboard</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-13">Linux C</a></li>|<li><a href="http://forlinux.blog.51cto.com/8001278/d-14">Kvm</a></li>
</ul>
<span class="mainNavB"></span>
</div>
<!--mainNav end-->




<!--[if IE 6]>
  <script type="text/javascript" src="http://images.watchstor.com/newhomes/png.js"></script>
  <script>
    DD_belatedPNG.fix('img,input,ul,li, .get-box, div, .add, .sub, .ui-slider-handle, .footer-chopper');
  </script>
<![endif]-->
















<div id="add_sys_type_div" style="width: 600px; border: 1px solid rgb(88, 176, 221); background-color: rgb(255, 255, 255); position: absolute; left: 30%; top: 300px; display: none; z-index: 255;"></div>
<div id="add_sys_type_dvs" style="width: 550px; border: 1px solid rgb(88, 176, 221); background-color: rgb(255, 255, 255); position: absolute; left: 30%; top: 300px; display: none; z-index: 255;"></div>
	



<div class="blogMain">
<div class="blogLeft">


<div class="box moduleUser">
<div class="title">
<h2><strong>Jeff_Linux</strong> 的BLOG  </h2>
</div>
<div class="modCon">

<div class="userImage" style="margin: 10px auto 5px; text-align: center; width: 130px; border: 1px solid rgb(212, 212, 212);">
	<table cellpadding="0" cellspacing="0" width="100%">
		<tbody><tr>
			<td align="center" height="130" valign="middle"><img src="avatar.php" id="userface"></td>
		</tr>
	</tbody></table>
</div>
<div class="photo_links">
</div>









<div class="crumbs">
<a href="http://home.51cto.com/index.php?s=/space/8001278#message" class="writeMessage" target="_blank">写留言</a><a href="http://edu.51cto.com/" class="inCircle" target="_blank">去学院学习</a><a href="http://home.51cto.com/index.php?s=/Notify/write/uid/8001278" class="message" target="_blank">发消息</a>
 <a href="http://forlinux.blog.51cto.com/" class="joinLinks">加友情链接</a><a href="http://home.51cto.com/index.php?s=/space/8001278" class="joinFriends" target="_blank">进家园 加好友</a>
</div>

<div style="width: 239px; height: 64px; display: none;">


<div style="float: left;"><p style="padding: 15px 0px 0px 28px; line-height: 20px;">2012年度IT博客大赛<br><a target="_blank" href="http://blog.51cto.com/contest2012/#top10000" style="color: rgb(255, 0, 0); text-decoration: underline;">十大杰出IT博客诞生</a></p></div>
<div style="float: right;"><a target="_blank" href="http://blog.51cto.com/contest2012/"><img src="blog_match_endlook.jpg" style="margin: 23px 20px 0px 0px;" height="27" width="57"></a></div>
<!-- <div style="float:left;"><p style="padding:15px 0 0 28px; line-height:20px;">星光评委正在评选<br><a target="_blank" href="http://blog.51cto.com/contest2012/index.php?mod=userlist_sec" style="color:#F00; text-decoration:underline;">2012年度IT博客大赛50强</a></p></div>
<div style="float:right;"><img class="blog_match_yq" width="57" height="27" src="http://img1.51cto.com/images/blog_match_invite.jpg" style="margin:23px 20px 0 0;"></div> -->



<div class="clear"></div>
</div>


</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="infoList box">
<div class="title">
<h2>博客统计信息</h2>
</div>
<div class="modCon">
<p>
<span class="infoListHead"></span>
用户名：Jeff_Linux<br>
文章数：58<br>
评论数：2<br>
访问量：34720<br>
<a href="http://home.51cto.com/index.php?s=/Account/credit" target="_blank">无忧币</a>：1202<br>
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客积分</a>：676<br>
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客等级</a>：4<br>
注册日期：2013-10-03<br>
</p>
</div>
<span class="modBot"></span>
</div>


<div class="infoList box">
	<div class="title">
		<h2 class="fl">热门专题</h2>
		<a target="_blank" class="fr" href="http://blog.51cto.com/zt">更多&gt;&gt;</a>
	</div>
	<div class="modCon" style="height: 348px;">

	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/692" target="_blank"><img src="wKioL1c5llLwKSo3AAAbx5aBW1Q413.jpg" height="63" width="63"></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/692" target="_blank" title="每天5分钟玩转 OpenStack">每天5分钟玩转 OpenStack</a></dt>
		<dd>阅读量：5863</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/693" target="_blank"><img src="wKiom1dVDr7javamAABB79u01lo798.jpg" height="63" width="63"></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/693" target="_blank" title="【51CTO三周年】我在学院不得不说的收获">【51CTO三周年】我在学院不得不说的收获</a></dt>
		<dd>阅读量：12276</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/14" target="_blank"><img src="1304672337_index.jpg" height="63" width="63"></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/14" target="_blank" title="从菜鸟到老鸟-教你玩转Mac操作系统">从菜鸟到老鸟-教你玩转Mac操作系统</a></dt>
		<dd>阅读量：303321</dd>
		</dl>
		</div>
	
		<div class="vlist">
		  <a href="http://blog.51cto.com/zt/20" target="_blank"><img src="1306310178_index.jpg" height="63" width="63"></a>
		<dl>
		<dt>
		  <a href="http://blog.51cto.com/zt/20" target="_blank" title="QT学习之路：从入门到精通">QT学习之路：从入门到精通</a></dt>
		<dd>阅读量：1021795</dd>
		</dl>
		</div>
		
		
	</div>
	<span class="modBot"></span>
</div>


<div class="hotArt box">
<div class="title">
<h2>热门文章</h2>
</div>
<div class="modCon">
<ul>
<li><a href="http://forlinux.blog.51cto.com/8001278/1423390">python之多进程multiproc..</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1420965">Flask实例教程五</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1352900">SSH原理之图文详解</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1415350">Haproxy的全透明代理</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1478271">Python写WEB日志分析程序..</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1422438">python之多进程fork</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1423231">python之ssh连接库paramiko</a></li>
<li><a href="http://forlinux.blog.51cto.com/8001278/1404936">keepalived+Nginx负载均..</a></li>

</ul>
</div>
<span class="modBot"></span>
</div>
<div class="search box">
<div class="title"><h2>搜索BLOG文章</h2></div>
<div class="modCon">
<form method="post" action="http://forlinux.blog.51cto.com/search.php?" tabindex="99">
<input name="step" value="2" type="hidden">
<input name="authorid" value="8001278" type="hidden">
<input name="sch_area" value="S" type="hidden">
<input value="" name="keyword" class="searchInput" type="text">
<input value="搜 索" class="searchBtn" type="submit">
</form>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="box recentGuests">
<div class="title">
<h2>最近访客</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://youerning.blog.51cto.com/"><img src="avatar_001.php"></a>
<p><a href="http://youerning.blog.51cto.com/">youer..</a></p>

</li><li><a href="http://1907615.blog.51cto.com/"><img src="avatar_002.php"></a>
<p><a href="http://1907615.blog.51cto.com/">ptmagic</a></p>

</li><li><a href="http://dadaloveyou.blog.51cto.com/"><img src="avatar_003.php"></a>
<p><a href="http://dadaloveyou.blog.51cto.com/">xuwu1..</a></p>

</li><li><a href="http://11094823.blog.51cto.com/"><img src="avatar_004.php"></a>
<p><a href="http://11094823.blog.51cto.com/">YanZhz</a></p>

</li><li><a href="http://gaojiman.blog.51cto.com/"><img src="avatar_005.php"></a>
<p><a href="http://gaojiman.blog.51cto.com/">gaojiman</a></p>

</li><li><a href="http://228852.blog.51cto.com/"><img src="avatar_006.php"></a>
<p><a href="http://228852.blog.51cto.com/">yiyua..</a></p>

</li><li><a href="http://8865806.blog.51cto.com/"><img src="avatar_007.php"></a>
<p><a href="http://8865806.blog.51cto.com/">melod..</a></p>

</li><li><a href="http://4455839.blog.51cto.com/"><img src="avatar_008.php"></a>
<p><a href="http://4455839.blog.51cto.com/">tizi129</a></p>

</li><li><a href="http://6746546.blog.51cto.com/"><img src="avatar_009.php"></a>
<p><a href="http://6746546.blog.51cto.com/">ab527..</a></p>

</li><li><a href="http://317750.blog.51cto.com/"><img src="avatar_010.php"></a>
<p><a href="http://317750.blog.51cto.com/">mfsoww</a></p>

</li><li><a href="http://wangwaiwei.blog.51cto.com/"><img src="avatar_011.php"></a>
<p><a href="http://wangwaiwei.blog.51cto.com/">王歪伟</a></p>

</li><li><a href="http://shumao.blog.51cto.com/"><img src="avatar_012.php"></a>
<p><a href="http://shumao.blog.51cto.com/">qfmly</a></p>

</li></ul>
<span class="clear"></span>
</div>
<span class="modBot"></span>
</div>


<div class="newComments box">
<div class="title">
<h2>最新评论 

</h2>



</div>
<div class="modCon">
<ul>

<li><a href="http://verdureorange.blog.51cto.com/" class="operlink" target="_blank"><b>鲜橙加冰</b></a>：<a href="http://forlinux.blog.51cto.com/8001278/1440830" target="_blank">建库的步骤加上就更好了。</a></li>

<li><a href="http://6557549.blog.51cto.com/" class="operlink" target="_blank"><b>龙佛热</b></a>：<a href="http://forlinux.blog.51cto.com/8001278/1478271" target="_blank">大赞！特地登录进行感谢。</a></li>


</ul>
</div>
<span class="modBot"></span>
</div>


<div class="hotBlogArt box">
<div class="title">
  <h2 class="fl">51CTO推荐博文</h2>
  <a href="http://blog.51cto.com/artcommend" class="fr">更多&gt;&gt;</a></div>
<div class="modCon">
<ul>
<li><a href="http://ptallrights.blog.51cto.com/11151122/1826467" title="搭建cdn的高性能HTTP加速器Varnish服务器" target="_blank">搭建cdn的高性能HTTP加速器Varnis..</a></li>
<li><a href="http://cmdschool.blog.51cto.com/2420395/1812424" title="RHCS的整理归纳与实践" target="_blank">RHCS的整理归纳与实践</a></li>
<li><a href="http://beanxyz.blog.51cto.com/5570417/1826315" title="Powershell AWS 自动化管理 (8) - CloudFront" target="_blank">Powershell AWS 自动化管理 (8) -..</a></li>
<li><a href="http://sfzhang88.blog.51cto.com/4995876/1826763" title="zabbix如何监控WEB应用性能" target="_blank">zabbix如何监控WEB应用性能</a></li>
<li><a href="http://lee90.blog.51cto.com/10414478/1825478" title="Keepalived+Master-Master-Slave组合" target="_blank">Keepalived+Master-Master-Slave组合</a></li>
<li><a href="http://xsllqs.blog.51cto.com/2308669/1825680" title="nginx+tomcat+memcached构建session共享集群" target="_blank">nginx+tomcat+memcached构建sessi..</a></li>
<li><a href="http://linuxnote.blog.51cto.com/9876511/1825533" title="GlusterFS架构与维护" target="_blank">GlusterFS架构与维护</a></li>
<li><a href="http://11703321.blog.51cto.com/11693321/1812825" title="OpenvSzwitch实现Docker跨主机通信" target="_blank">OpenvSzwitch实现Docker跨主机通信</a></li>
<li><a href="http://kk876435928.blog.51cto.com/3530246/1813925" title="自动升级OPENSSH shell脚本" target="_blank">自动升级OPENSSH shell脚本</a></li>
<li><a href="http://strongit.blog.51cto.com/10020534/1812396" title="shell快速迁移海量文件" target="_blank">shell快速迁移海量文件</a></li>
<li><a href="http://jiangjianlong.blog.51cto.com/3735273/1812311" title="RedHat 7.2 KVM通过V2V迁移VMware的虚拟机" target="_blank">RedHat 7.2 KVM通过V2V迁移VMware..</a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>


<div class="friendLink box">
<div class="title">
  <h2>友情链接</h2>
</div>
<div class="modCon">
<ul>

<li><a href="http://www.zyfforlinux.cc/" title="" target="_blank">我的个人博客</a></li>

<li><a href="http://edu.51cto.com/" title="IT精品课程" target="_blank">IT精品课程</a></li>

<li><a href="http://51ctoblog.blog.51cto.com/" title="51CTO博客开发" target="_blank">51CTO博客开发</a></li>

<li><a href="http://gaozhao.51cto.com/" title="技术人才招聘" target="_blank">技术人才招聘 </a></li>

</ul>
</div><!--modCon end-->
<span class="modBot"></span>
</div>



</div>
<!--left end-->





<div class="blogRight" rel="8001278######python Fabric" id="article_edu_void">
<input value="12" id="edu_jia" type="hidden">
			
	<p style="clear: both;" class="edu_insert"><div class="box edu-col-a" style="display: none;"><div class="title">的视频课程</div><div class="vbox" style=""><div class="clear hr10"></div></div></div><div class="box edu-col-b" style=""><div class="title"><a target="_blank" href="http://edu.51cto.com/index.php?do=search&amp;m=course&amp;q=python">相关视频课程</a><a href="http://edu.51cto.com/index.php?do=search&amp;m=course&amp;q=python" target="_blank" style="float: right;">更多</a></div><div class="vbox" style=""><div class="vlist video-icon" style="margin: 2px 8px;"><a href="http://edu.51cto.com/course/course_id-6039.html?edu_recommend_adid=91" target="_blank"><img src="f87131c88cefc550036380914b0f456772cf26.jpg" height="63" width="86"></a><dl><dt> <a href="http://edu.51cto.com/course/course_id-6039.html?edu_recommend_adid=91" target="_blank" title="跟Alex学Python之Python开发基础">跟Alex学Python之Python开发基础(共124课时)</a></dt><dd>39745人学习</dd></dl><a class="i_video" href="http://edu.51cto.com/course/course_id-6039.html?edu_recommend_adid=91" target="_blank"></a></div><div class="vlist video-icon" style="margin: 2px 8px;"><a href="http://edu.51cto.com/course/course_id-1413.html?edu_recommend_adid=91" target="_blank"><img src="wKioL1OQAHLgCT29AAEmIvilWls129.jpg" height="63" width="86"></a><dl><dt> <a href="http://edu.51cto.com/course/course_id-1413.html?edu_recommend_adid=91" target="_blank" title="苏勇老师Python语言基础视频教程-Web开发">苏勇老师Python语言基础视频教程-Web开发(共13课时)</a></dt><dd>89462人学习</dd></dl><a class="i_video" href="http://edu.51cto.com/course/course_id-1413.html?edu_recommend_adid=91" target="_blank"></a></div><div class="vlist video-icon" style="margin: 2px 8px;"><a href="http://edu.51cto.com/course/course_id-831.html?edu_recommend_adid=91" target="_blank"><img src="wKioJlKm2znTZD2NAABxpQ5wKbA741.jpg" height="63" width="86"></a><dl><dt> <a href="http://edu.51cto.com/course/course_id-831.html?edu_recommend_adid=91" target="_blank" title="利用Python SOCKET多线程开发FTP软件[高薪必备]">利用Python SOCKET多线程开发FTP软件[高薪必备](共6课时)</a></dt><dd>51609人学习</dd></dl><a class="i_video" href="http://edu.51cto.com/course/course_id-831.html?edu_recommend_adid=91" target="_blank"></a></div><div class="clear hr10"></div></div></div></p>
	<!--modCon end-->
	<div class="artShow box" style="margin-top: 5px;">
   	  <div class="share" id="share">

    <div class="shareItem">
		<div class="m_sharelinks"><a target="_blank" href="http://forlinux.blog.51cto.com/" style="color: red;"></a><a target="_blank" href="http://forlinux.blog.51cto.com/" style="color: blue;"></a><a target="_blank" href="http://forlinux.blog.51cto.com/" style="color: blue;"></a></div>
		<p class="shareMored"><a href="http://forlinux.blog.51cto.com/all/8001278">博主的更多文章&gt;&gt;</a></p>
	</div>
      </div>
       <div class="modCon">
   	  <div class="showBox" style="margin: 0px 0px 10px;">
      <div class="line_hd_r"></div>
      <div class="art_tj">

      </div>

 
    		<div class="showHead">
    		  <div class="showTitleBOx" style="text-align: center;">
              <div class="showTitle">

             <img src="artType01.jpg">


    		     运维的我要学开发-Fabric(1)
                </div>
  		    </div>
   		    <span class="artTime">2014-05-06 21:25:45</span></div><!--showHead end-->
    <div class="showTags">标签：<a href="http://blog.51cto.com/tag-python.html" target="_blank" class="operlink">python</a> <a href="http://blog.51cto.com/tag-Fabric.html" target="_blank" class="operlink">Fabric</a>

	</div>

			<div class="CopyrightStatement lh22">
            原创作品，允许转载，转载时请务必以超链接形式标明文章 <a href="#" target="_blank" style="text-decoration: underline;">原始出处</a> 、作者信息和本声明。否则将追究法律责任。<a href="#">http://forlinux.blog.51cto.com/8001278/1407391</a>
            </div>


            <!--正文 begin-->
    		<div class="showContent">
    		  <p><strong>Fabric入门</strong>:<br> &nbsp; &nbsp;Fabric是一个Python的库，是一个提供给使用SSH相关的应用程序开发者和系统管理的命令行工具它提供了一个操作执行本地或者远程机器shell命令的套件，可以上传下载文件,提示用户输入和中止执行等通常通过创建一个python的module其中包含一个或者多个函数，然后通过fab命令来执行。<br><br><strong>Fabric安装:</strong><br></p><pre class="brush:python;toolbar:false;">Ubuntu下:
sudo apt-get install fabric
或者 pip install fabric
或者 easy_install fabric
Centos下:
yum install python-setuptools
easy_install pip
pip install fabric</pre><p><br><strong>第一个Fabric程序:</strong><br></p><pre class="brush:python;toolbar:false;">vim fabfile.py
def hello():
    print("Hello world!")
执行:
fab hello
注意:hello函数必须要写在fabfile.py这个文件中,fab命令默认是去这个文件中
寻找指定的函数,如果不想使用fabfile.py也可以通过fab -f选项来指定自己定义的文件名</pre><p><br><br><strong>带参数的Fabric程序:</strong><br></p><pre class="brush:python;toolbar:false;">vim fabfile.py
def hello(name="default"):
    print("Hello %s!" % name)
执行(指定参数):
方式一:fab hello:name=zhang(有多个参数的时候一一指定)
方式二:fab hello:zhang (只有一个参数的时候)</pre><p><br><strong>Fabric执行本地shell:</strong><br></p><pre class="brush:python;toolbar:false;">vim fabfile.py
from fabric.api import local
def prepare_deploy():
    local("ls -al")</pre><p><br><strong>Fabric捕获错误:</strong><br></p><pre class="brush:python;toolbar:false;">当执行的shell没有成功的话程序就好直接退出发生occur，那有什么办法可以捕获到错误呢
vim fabfile.py
from fabric.api import local, settings, abort
from fabric.contrib.console import confirm
def test():
    with settings(warn_only=True):#setting设置变量,warn_only=True用于设置指定代码段如果出错的话就有abortd转为warnings状态(说白了就是在warn_only=True包含的代码快中 如果发生了错误原本是会直接终止的，现在变为不终止了变了警告)
        result = local('ls al', capture=True) #执行了一个错误的shell命令,通过capture=True设置为可捕捉,
                                              #通过failed属性或return_code来判断是否出错
    if result.failed and not confirm("Tests failed. Continue anyway?"):
    #confirm用来给用户一个提示的对话框，并给出yes/no让用户输入
        abort("Aborting at user request.")
    #abort是用于输出里面的信息并终止</pre><p><br><strong>Fabric在远程执行shell:</strong><br></p><pre class="brush:python;toolbar:false;">from fabric.api import run
def remoteshell():
#run用于在远程执行shell
    run("ls -al /")
使用方式(会提示你输入密码):
fab -H username@远程主机IP remoteshell</pre><p><br><strong>怎么切换到某个目录下执行某个命令呢?</strong></p><pre class="brush:python;toolbar:false;">方式一:
from fabric.api import run
def remoteshell():
#with声明的本质就是把在其block内的代码作为一个总体来执行，提高安全可靠性
    with cd("/tmp"):
        run("ls -al")
方式二:
from fabric.api import run
def remoteshell():
    run("cd /tmp;ls -al")
注意:千万不要写成下面这种形式
def remoteshell():
    run("cd /tmp")
    run("ls -al")
上面的结果是不正确的，因为两次run的运行时没有关联的，两个run不是一个运行整体，结果不会相互影响。只有通过方式一的with声明将两条run命令作为一个整体来运行。</pre><p><br></p><p><strong>Fabric怎么不需要输入密码在远程执行shell命令:</strong><br>不输入密码来执行远程shell命令就要依靠Fabric强大的变量<br>env.hosts 用于定义远程机器的地址和连接用户<br>env.password 用户定义远程机器的密码,有多种定义方式<br><br>我工作中的一个列子部署六台服务器(安装一些测试软件):<br>果断装上了Fabric:<br>代码如下:<br><br></p><pre class="brush:python;toolbar:false;">from fabric.api import run
env.hosts=["root@172.16.109.49","root@172.16.109.67","root@172.16.109.127","root@172.16.109.99","root@172.16.109.31","root@172.16.109.28"]
env.password="123456"
def installmem():
        run("wget http://pyropus.ca/software/memtester/old-versions/memtester-4.2.2.tar.gz")
        run("tar zxvf memtester-4.2.2.tar.gz")
        run("cd memtester-4.2.2;make;make install")
 env.hosts定义方式:
按照 username@ip:端口  端口默认是22  username也可以省去，默认是执行fab命令的用户
上面的这种密码方式需要密码都是相同的，这或许很多情况下是无法满足要求的。那该怎么办呢:
使用以下方式来定义:一个host对应一个密码
env.password[
hosts1:passwowd1
hosts2:password2
]</pre><p><br></p><p><strong>Fabric怎么不使用fab命令来执行呢?</strong></p><p>答案肯定是OK的了，可以使用execute来模拟fab命令直接在使用python代码执行任务，不需要在shell命令行下调用fab命令来执行任务代码如下:</p><pre class="brush:python;toolbar:false;">from fabric.api import run,env,execute
env.hosts=["root@172.16.109.11"]
env.password="server"
def test():
    run("ls -al")
if __name__=="__main__":
    execute(test)</pre><p><br></p><p>本文出自 “<a href="http://forlinux.blog.51cto.com/">专注linux</a>” 博客，请务必保留此出处<a href="#">http://forlinux.blog.51cto.com/8001278/1407391</a></p>
    		</div><!--正文 end-->

		
<div class="m_sharebtn clear">
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
	  <tbody><tr>
		<td align="center" height="43" valign="middle" width="11%"><img src="ssk.png" alt="分享至"></td>
		<td align="left" valign="top" width="77%">
<!-- 			
<div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_bdhome" data-cmd="bdhome" title="分享到百度新首页"></a><a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a><a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a><a href="#" class="bds_bdysc" data-cmd="bdysc" title="分享到百度云收藏"></a><a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a></div>
<script>
var bds_config = {'wbUid':1706976420};
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false, 'bdPic':'http://blog.51cto.com/attachment/201305/173413310.jpg',"bdStyle":"1","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
 -->

<div data-bd-bind="1468763365650" class="bdsharebuttonbox bdshare-button-style1-32"><a href="http://forlinux.blog.51cto.com/#" class="bds_more" data-cmd="more"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_mshare" data-cmd="mshare" title="分享到一键分享"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_bdhome" data-cmd="bdhome" title="分享到百度新首页"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_bdysc" data-cmd="bdysc" title="分享到百度云收藏"></a><a href="http://forlinux.blog.51cto.com/#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a></div>


	<!-- Baidu Button END --></td>
		<td align="right" valign="middle" width="12%"><a title="一键收藏，随时查看，分享好友！"><img src="favorite_add_small.gif" alt="一键收藏，随时查看，分享好友！" border="0"></a></td>
	  </tr>
	</tbody></table>

</div>			
    		<div class="showBottom">
            <!--<div class="reviews"><span class="fl" style="cursor:pointer;"><a onclick="openFavoulist();" id="favourer"></a>

            </span><div id="favourdiv" class="support01">0人</div>
              <span class="fl">了这篇文章</span></div>-->
              <table border="0" cellpadding="0" cellspacing="0" width="720">
  <tbody><tr>
    <td align="right"><img src="icon01.png" height="16" width="15"> <span style="cursor: pointer;"><a id="favourer"></a></span></td>
    <td align="left" width="70"><div style="line-height: 28px;" id="favourdiv" class="support01">0人</div></td>
    <td align="left" width="60">了这篇文章</td>
  </tr>
</tbody></table>




            <div class="showType">类别：<a href="http://forlinux.blog.51cto.com/8001278/d-4" class="operlink">Python自动化运维</a>┆阅读(<span id="readNum">183</span>)┆评论(<span id="cmtNum">0</span>)

┆
<a href="http://forlinux.blog.51cto.com/">返回博主首页</a>┆<a href="http://blog.51cto.com/">返回博客首页</a></div>
            <div class="prevNext">

			上一篇 <a href="http://forlinux.blog.51cto.com/8001278/1407371" class="operlink" title="运维的我要学开发--Python(5)">运维的我要学开发--Python(5)</a>


			下一篇 <a href="http://forlinux.blog.51cto.com/8001278/1408493" class="operlink" title="Haproxy+Keepalived实现负载均衡高可用">Haproxy+Keepalived实现负载均衡高可用</a>


            </div>

            </div>

	  </div><!--showBottom end-->
      </div><!--modCon-->
    <span class="modBot"></span>
    </div><!--artShow end-->
    <span class="blank"></span>
	
	<div class="relatedArt box">
<a href="http://x.51cto.com/act/cto/pc/page/course_detail_shh_1" target="_blank"><img src="wKioL1eIVYujHwGzAAFeog9H2kg263.jpg"></a>
</div>

<div class="artComm " style="height: 170px;">
   <div class="relatedArt box1 mr10">
    <div class="title" name="zhuanti" id="zhuanti"><h2>相关文章</h2></div>
    <div class="modCon">
<ul>


<li><a href="http://beidouge.blog.51cto.com/7325954/1307210" title="【python】第二炮：运维工具fabric" target="_blank">【python】第二炮：运维工具fabric</a></li>


<li><a href="http://rangochen.blog.51cto.com/2445286/1399009" title="Fabric:Python远程部署工具" target="_blank">Fabric:Python远程部署工具</a></li>


<li><a href="http://forlinux.blog.51cto.com/8001278/1407371" title="运维的我要学开发--Python(5)" target="_blank">运维的我要学开发--Python(5)</a></li>


<li><a href="http://leejia.blog.51cto.com/4356849/1202118" title="fabric基础用法" target="_blank">fabric基础用法</a></li>






</ul>



<span class="blank6"></span>
</div><!--modCon end-->
<span class="modBot"></span>
</div>

<!--相关文章 end-->
        <div class="relatedArt box1">
    <div class="title" name="zhuanti" id="zhuanti"><h2>职位推荐</h2></div>
    <div class="modCon">

<ul>


<li><a href="http://gaozhao.51cto.com/job/view/id-1037.html" target="_blank">Linux系统工程师</a></li>

<li><a href="http://gaozhao.51cto.com/job/view/id-1060.html" target="_blank">网络安全实习生</a></li>

<li><a href="http://gaozhao.51cto.com/job/view/id-2879.html" target="_blank">网络工程师</a></li>

<li><a href="http://gaozhao.51cto.com/job/view/id-3923.html" target="_blank">运维主管</a></li>

<li><a href="http://gaozhao.51cto.com/job/view/id-1919.html" target="_blank">运维开发工程师</a></li>



</ul>




<span class="blank6"></span>
</div><!--modCon end-->
<span class="modBot"></span>
</div><!--职位推荐 end-->

</div>


<div class="artComm box">
    <div class="title"><a name="replay"></a><h2>文章评论</h2></div>
    <div class="modCon" id="artcomment">
		<div>  &nbsp;</div><div>  &nbsp;</div>
    </div><!--modCon-->
        <span class="modBot"></span>
</div><!--commBox end-->
<a href="http://forlinux.blog.51cto.com/" id="com_top_top"></a>
<!--<div class="artComm box" style="750px;height:90px;">
<script type="text/javascript">
    var cpro_id = "u2386995";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>--><form action="http://forlinux.blog.51cto.com/comment.php?" method="post" name="form1" id="form1">
<span class="blank1"></span>
<div class="box writeComm" style="min-height: 30px;">
<a name="comment"></a>
<input name="action" value="comment" type="hidden">
<input id="commenttid" name="tid" value="1407391" type="hidden">
<input name="com_count_ajax" id="com_count_ajax" value="1" type="hidden">

 <div class="title">
	<h2 class="fl">发表评论&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>
	<span class="fl" id="messageTj">

</span>
	
</div>
<div style="display: none;" rel="51CTO电子期刊改版意见大征集，提你所需，建你所想！" id="ggBox">

</div>

 <div class="modCon">

 <div class="commForm">
<dl>
<dt>昵&nbsp;&nbsp;称：</dt>
<dd>

<input id="commentusername" name="username" value="" class="commInput fl" type="text"><span><a href="http://home.51cto.com/index.php?reback=http%253A%252F%252Fforlinux.blog.51cto.com%252F8001278%252F1407391" style="text-decoration: underline;">登录</a>&nbsp;&nbsp;<a href="http://ucenter.51cto.com/reg_01.php?reback=http://blog.51cto.com" target="_blank" style="text-decoration: underline;">快速注册</a></span>



</dd>
</dl>



<dl id="commentyanzheng">


<dt>验证码：</dt>
<dd><input class="code" value="" id="commentauthnum" name="authnum" type="text">

  <img class="fl" id="secunum" style="display: none;" height="29" width="78"><p class="fl"><span style="display: none;" id="spanfont">点击图片可刷新验证码</span><span style="display: inline;" id="clickfont">请点击后输入验证码</span><span class="pl5"><a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank" style="text-decoration: underline;">博客过2级，无需填写验证码</a></span></p></dd>
</dl>
<dl>
<dt>内&nbsp;&nbsp;容：</dt>
<dd>
<textarea class="writeCommCon f12" id="commentcontent" name="content"></textarea>
</dd>
</dl>
</div>
<div class="writeCommBot">
  <input name="parentid" value="" id="parentid" type="hidden">
  <input class="commBtn fl" name="submit" id="commentsubmit" value="" type="button">

 <p class="fl" style="display: none;"><input class="fl" name="favour" id="favour" checked="" value="1" type="checkbox"><span class="fl">同时赞一个</span></p>

</div>
<span class="blank"></span>

</div><!--modCon-->
<span class="modBot"></span>
</div>
</form>
<div style="display: none;">
<a href="http://tongji.baidu.com/hm-web/welcome/ico?s=2283d46608159c3b39fc9f1178809c21" target="_blank"><img src="21.gif" border="0" height="20" width="20"></a>



</div>
<iframe src="index_1.html" id="iframe1" name="iframe1" height="0" width="0"></iframe>
<!--发表评论 end-->
</div>
</div>
<div id="f_close_box" style="width: 150px; height: 300px; position: fixed; top: 42%; left: 0px; z-index: 100;">

	<img src="wKioL1VHFCjRwiyNAAB-jIackwQ674.jpg" usemap="#Map1" border="0">
    <map name="Map1" id="Map1">
      <area shape="rect" coords="124,7,143,25">
    </map>
    
</div>





<!-- <script src="http://blog.51cto.com/js/blog_top_list.php" type="text/javascript" language="javascript"></script> -->

<div id="message" class="blogpop" style="background-color: rgb(255, 255, 255); z-index: 100; width: 389px; height: 196px; position: absolute; bottom: 0px; right: 0px; overflow: hidden; top: 703px; display: none;"><iframe src="index_2.html" style="width: 800px; height: 536px; top: 0px; left: 0px; position: absolute; visibility: inherit; z-index: -1;" frameborder="0"></iframe>
<div style="height: 36px; background: transparent url(&quot;popbgx.jpg&quot;) repeat-x scroll 0% 0%; position: relative; width: 387px; border-right-color: rgb(38, 104, 183); border-right-width: 2px;"><span style="right: 10px; padding: 12px 0px 0px; position: absolute; top: 0px;"><span style="margin-right: 80px; color: rgb(130, 130, 130); width: 190px; padding: 10px 0px 0px 10px; font-size: 14px;">每日博报 精彩不止一点</span><img title="关闭" id="message_close" src="close.jpg" alt="关闭"></span><div style="width: 387px; height: 36px; left: 0px; overflow: hidden; text-indent: -999em; background: transparent url(&quot;hdtit.jpg&quot;) no-repeat scroll 0% 0%; border-right: 2px solid rgb(38, 104, 183);"><a style="display: block; height: 36px; width: 138px;" target="_blank" href="http://blog.51cto.com/"></a>
</div>
<div style="clear: both;"></div>
</div>
	<div id="message_content" style="border-top: medium none; font-family: Microsoft YaHei; font-size: 12px; width: 389px; text-align: left; overflow: hidden;">
	
	</div>
</div>


<div style="display: block;" title="返回顶部" class="backToTop tops">返回顶部</div>






<div class="clear"></div>
<!-- <script>
jQuery(function(){
	var html= "<div id=\"sogou_se_tgbar\" style=\"text-align:center;margin:0px auto 2px auto;clear:both;background:url(http://home.51cto.com/public/images/notice/sogou_se_tgbar_bg_final1.gif) repeat-x;width:950px;color:#000;font-size:13px;height:36px;z-index:21474836471\"><div style=\"float:left;cursor:pointer;width:910px;text-align:center;border-left:solid #efbf00 1px;height:32px; line-height:32px;txt-align:center;\"><span style=\"\">	<a href=\"http://51ctoblog.blog.51cto.com/26414/1093282\">【新年祝福征集】51CTO社区年底嘉年华活动正在征集博主祝福语，祝福以红包的形式随机的赠送给访问51CTO的网友 点此送祝福>></a></span></div><div onclick=\"document.getElementById('sogou_se_tgbar').style.display = 'none';\" style=\"float:right;width:20px;cursor:pointer;height:28px;padding:4px 8px 0px 8px;border-right:solid #efbf00 1px\"><img style=\"border:none;margin:4px 0px 0px 0px;\" src=\"http://home.51cto.com/public/images/notice/sogou_se_tgbar_close_final1.gif\"></div></div>"
	jQuery('body').prepend(html);
})
</script> -->

<div id="footer">
  <div id="innerFooter">
	<center>
		<small>
			Copyright By 51CTO.COM 版权所有<br><br>
			<a href="http://blog.51cto.com/" target="_blank"><img src="copyright.jpg"></a>
	  </small>
	</center>
  </div>
</div>

<div style="display: none;">


<div style="display: none;">




</div>
<iframe scrolling="no" src="index_3.html" frameborder="0" height="0" width="0"></iframe>
</div>
<div style="display: none;"><div>




</div></div></body>
</html>
